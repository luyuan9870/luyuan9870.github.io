import{_ as s,c as i,o as a,a4 as n}from"./chunks/framework.rIDq68an.js";const g=JSON.parse('{"title":"00-营销系统简介","description":"","frontmatter":{"author":"luyuan","titel":null,"date":"2024-04-26 17:54","tags":null},"headers":[],"relativePath":"02-Person/00-业务学习/08-营销系统/00-营销系统简介.md","filePath":"02-Person/00-业务学习/08-营销系统/00-营销系统简介.md"}'),t={name:"02-Person/00-业务学习/08-营销系统/00-营销系统简介.md"},l=n(`<h1 id="_00-营销系统简介" tabindex="-1">00-营销系统简介 <a class="header-anchor" href="#_00-营销系统简介" aria-label="Permalink to &quot;00-营销系统简介&quot;">​</a></h1><p>营销系统是什么？解决了什么问题？</p><p>帮助企业提升 GMV，扩单起量 <code>帮助企业赚更多的钱</code></p><p>整个营销业务围绕的东西只有三个点 <code>用户</code>、<code>商品</code> <code>用户活动</code></p><p>营销主要业务类别以及玩法</p><ul><li>限时限量价格（活动）</li><li>会员折扣</li><li>优惠券</li><li>促销码</li><li>搭售（组合品）</li><li>营销用户画像（没做）</li></ul><h2 id="价格体系" tabindex="-1">价格体系 <a class="header-anchor" href="#价格体系" aria-label="Permalink to &quot;价格体系&quot;">​</a></h2><h3 id="pro-会员优惠计算逻辑" tabindex="-1">Pro 会员优惠计算逻辑 <a class="header-anchor" href="#pro-会员优惠计算逻辑" aria-label="Permalink to &quot;Pro 会员优惠计算逻辑&quot;">​</a></h3><blockquote><p>由于精度损失问题 按照 SKU 直接优惠, 商品价格 * 折扣 （这样的计算累加起来的金额肯定不等于订单维度的金额） 按购物/订单维度来优惠, 以订单的总金额 * 折扣（一方面是为了减少精度损耗，另外一方面可以把精度损耗的值都均摊到一个 sku 上）</p></blockquote><p>总的计算: sku 单价 x 数量 x pro 优惠折扣 = 总优惠 分的计算: sku 单价 x pro 优惠折扣 (叠加) = 总优惠</p><p>价格计算逻辑处理</p><ul><li>过滤正常商品 过滤除配件/正常商品以外的商品（赠品/加价购/买即赠）</li><li>获取营销侧 SKU 价格</li><li>计算价格 伪代码</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 计算优惠</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calculatePromotion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(CartOrder cartOrder) { </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// 折扣率</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	BigDecimal proDiscountRate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cartOrder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProDiscountRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Pro价 = (Pro折扣前的结算金额 * Pro折扣比例 (保留站点币种小数，向上取整) )  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 1. 折扣优惠  相乘(销售价格*Pro折扣率) 保留两位</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BigDecimal discount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(settleAmount, proDiscountRate, cartOrder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // pro 结算金额 = 原价 减去 折扣价格  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.proSettleAmount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sub</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(settleAmount, discount);  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 优惠金额 = 折扣价格  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setPreferentialAmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(discount);  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// 这里处理的价格都是总价格</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,13),e=[l];function p(h,k,r,o,d,c){return a(),i("div",null,e)}const u=s(t,[["render",p]]);export{g as __pageData,u as default};
