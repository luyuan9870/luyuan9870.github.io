<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¹¶å‘ç¼–ç¨‹ | é™†è¿œçš„çŸ¥è¯†åº“</title>
    <meta name="description" content="ä¸ªäººæŠ€æœ¯çŸ¥è¯†åº“ï¼Œè®°å½• & åˆ†äº«ä¸ªäººç¢ç‰‡åŒ–ã€ç»“æ„åŒ–ã€ä½“ç³»åŒ–çš„æŠ€æœ¯çŸ¥è¯†å†…å®¹ã€‚">
    <meta name="generator" content="VitePress v1.0.2">
    <link rel="preload stylesheet" href="/assets/style.BeCcSLxA.css" as="style">
    
    <script type="module" src="/assets/app.BThqldsZ.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BG61BEI0.js">
    <link rel="modulepreload" href="/assets/chunks/theme.Oygls0qa.js">
    <link rel="modulepreload" href="/assets/01-Dev_01.01-Java_JUC_01-å¹¶å‘ç¼–ç¨‹_å¹¶å‘ç¼–ç¨‹-01.md.CJllK_HG.lean.js">
    <link href="/favicon.jpg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-8bc02b95><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5acf5501></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-5acf5501> Skip to content </a><!--]--><!----><header class="VPNav" data-v-8bc02b95 data-v-87a6899a><div class="VPNavBar has-sidebar top" data-v-87a6899a data-v-c3151ff2><div class="wrapper" data-v-c3151ff2><div class="container" data-v-c3151ff2><div class="title" data-v-c3151ff2><div class="VPNavBarTitle has-sidebar" data-v-c3151ff2 data-v-52673e39><a class="title" href="/" data-v-52673e39><!--[--><!--]--><!--[--><img class="VPImage logo" src="/favicon.jpg" alt data-v-53bbf572><!--]--><span data-v-52673e39>é™†è¿œçš„çŸ¥è¯†åº“</span><!--[--><!--]--></a></div></div><div class="content" data-v-c3151ff2><div class="content-body" data-v-c3151ff2><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c3151ff2><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c3151ff2 data-v-57d2160f><span id="main-nav-aria-label" class="visually-hidden" data-v-57d2160f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-57d2160f data-v-d56c0fcb><!--[--><span data-v-d56c0fcb>ğŸš€é¦–é¡µ</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-57d2160f data-v-d18fe690><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d18fe690><span class="text" data-v-d18fe690><!----><span data-v-d18fe690>ğŸŒ±æŒ‡å—</span><span class="vpi-chevron-down text-icon" data-v-d18fe690></span></span></button><div class="menu" data-v-d18fe690><div class="VPMenu" data-v-d18fe690 data-v-bedc9cd4><div class="items" data-v-bedc9cd4><!--[--><!--[--><div class="VPMenuGroup" data-v-bedc9cd4 data-v-a1ad9fbb><p class="title" data-v-a1ad9fbb>Dev</p><!--[--><!--[--><div class="VPMenuLink" data-v-a1ad9fbb data-v-189719a1><a class="VPLink link" href="/01-Dev/" data-v-189719a1><!--[-->Dev<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-bedc9cd4 data-v-a1ad9fbb><p class="title" data-v-a1ad9fbb>ä¸ªäºº</p><!--[--><!--[--><div class="VPMenuLink" data-v-a1ad9fbb data-v-189719a1><a class="VPLink link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/01-%E7%AE%80%E4%BB%8B.html" data-v-189719a1><!--[-->ä¸šåŠ¡å­¦ä¹ <!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a1ad9fbb data-v-189719a1><a class="VPLink link" href="/02-Person/04-SEO/" data-v-189719a1><!--[-->SEO<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a1ad9fbb data-v-189719a1><a class="VPLink link" href="/02-Person/03-ç‹¬ç«‹å¼€å‘è€…/" data-v-189719a1><!--[-->ç‹¬ç«‹å¼€å‘è€…<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a1ad9fbb data-v-189719a1><a class="VPLink link" href="/02-Person/02-åšæ–‡æˆé•¿/" data-v-189719a1><!--[-->åšæ–‡æˆé•¿<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a1ad9fbb data-v-189719a1><a class="VPLink link" href="/02-Person/06-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/VitePress.html" data-v-189719a1><!--[-->åšå®¢æ­å»º<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-57d2160f data-v-d18fe690><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d18fe690><span class="text" data-v-d18fe690><!----><span data-v-d18fe690>ğŸ’«å…³äº</span><span class="vpi-chevron-down text-icon" data-v-d18fe690></span></span></button><div class="menu" data-v-d18fe690><div class="VPMenu" data-v-d18fe690 data-v-bedc9cd4><div class="items" data-v-bedc9cd4><!--[--><!--[--><div class="VPMenuLink" data-v-bedc9cd4 data-v-189719a1><a class="VPLink link" href="/03-Me/" data-v-189719a1><!--[-->ğŸ’«å…³äºæˆ‘<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-bedc9cd4 data-v-189719a1><a class="VPLink link" href="/rss.xml" data-v-189719a1><!--[-->ğŸ”ŠRSSè®¢é˜…<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-c3151ff2 data-v-8e1a18c0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" aria-checked="false" data-v-8e1a18c0 data-v-c2b25b84 data-v-b065eea2><span class="check" data-v-b065eea2><span class="icon" data-v-b065eea2><!--[--><span class="vpi-sun sun" data-v-c2b25b84></span><span class="vpi-moon moon" data-v-c2b25b84></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-c3151ff2 data-v-54107397 data-v-e1be45b8><!--[--><a class="VPSocialLink no-icon" href="https://github.com/luyuan9870" aria-label="github" target="_blank" rel="noopener" data-v-e1be45b8 data-v-6cc961c3><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://gitee.com/luyuan9870" aria-label target="_blank" rel="noopener" data-v-e1be45b8 data-v-6cc961c3><svg t="1710470546803" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1442" width="200" height="200"><path d="M512 512m-494.933333 0a494.933333 494.933333 0 1 0 989.866666 0 494.933333 494.933333 0 1 0-989.866666 0Z" fill="#C71D23" p-id="1443"></path><path d="M762.538667 457.045333h-281.088a24.4736 24.4736 0 0 0-24.439467 24.405334v61.098666c-0.034133 13.5168 10.922667 24.439467 24.405333 24.439467h171.1104c13.5168 0 24.439467 10.922667 24.439467 24.439467v12.219733a73.3184 73.3184 0 0 1-73.3184 73.3184h-232.209067a24.439467 24.439467 0 0 1-24.439466-24.439467v-232.174933a73.3184 73.3184 0 0 1 73.3184-73.3184h342.152533c13.482667 0 24.405333-10.922667 24.439467-24.439467l0.034133-61.098666a24.405333 24.405333 0 0 0-24.405333-24.439467H420.352a183.296 183.296 0 0 0-183.296 183.296V762.538667c0 13.482667 10.922667 24.439467 24.405333 24.439466h360.516267a164.9664 164.9664 0 0 0 165.000533-165.000533v-140.526933a24.439467 24.439467 0 0 0-24.439466-24.439467z" fill="#FFFFFF" p-id="1444"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c3151ff2 data-v-5811488c data-v-d18fe690><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d18fe690><span class="vpi-more-horizontal icon" data-v-d18fe690></span></button><div class="menu" data-v-d18fe690><div class="VPMenu" data-v-d18fe690 data-v-bedc9cd4><!----><!--[--><!--[--><!----><div class="group" data-v-5811488c><div class="item appearance" data-v-5811488c><p class="label" data-v-5811488c>æµ…/æ·±è‰²æ¨¡å¼åˆ‡æ¢</p><div class="appearance-action" data-v-5811488c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" aria-checked="false" data-v-5811488c data-v-c2b25b84 data-v-b065eea2><span class="check" data-v-b065eea2><span class="icon" data-v-b065eea2><!--[--><span class="vpi-sun sun" data-v-c2b25b84></span><span class="vpi-moon moon" data-v-c2b25b84></span><!--]--></span></span></button></div></div></div><div class="group" data-v-5811488c><div class="item social-links" data-v-5811488c><div class="VPSocialLinks social-links-list" data-v-5811488c data-v-e1be45b8><!--[--><a class="VPSocialLink no-icon" href="https://github.com/luyuan9870" aria-label="github" target="_blank" rel="noopener" data-v-e1be45b8 data-v-6cc961c3><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://gitee.com/luyuan9870" aria-label target="_blank" rel="noopener" data-v-e1be45b8 data-v-6cc961c3><svg t="1710470546803" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1442" width="200" height="200"><path d="M512 512m-494.933333 0a494.933333 494.933333 0 1 0 989.866666 0 494.933333 494.933333 0 1 0-989.866666 0Z" fill="#C71D23" p-id="1443"></path><path d="M762.538667 457.045333h-281.088a24.4736 24.4736 0 0 0-24.439467 24.405334v61.098666c-0.034133 13.5168 10.922667 24.439467 24.405333 24.439467h171.1104c13.5168 0 24.439467 10.922667 24.439467 24.439467v12.219733a73.3184 73.3184 0 0 1-73.3184 73.3184h-232.209067a24.439467 24.439467 0 0 1-24.439466-24.439467v-232.174933a73.3184 73.3184 0 0 1 73.3184-73.3184h342.152533c13.482667 0 24.405333-10.922667 24.439467-24.439467l0.034133-61.098666a24.405333 24.405333 0 0 0-24.405333-24.439467H420.352a183.296 183.296 0 0 0-183.296 183.296V762.538667c0 13.482667 10.922667 24.439467 24.405333 24.439466h360.516267a164.9664 164.9664 0 0 0 165.000533-165.000533v-140.526933a24.439467 24.439467 0 0 0-24.439466-24.439467z" fill="#FFFFFF" p-id="1444"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c3151ff2 data-v-8a3583f8><span class="container" data-v-8a3583f8><span class="top" data-v-8a3583f8></span><span class="middle" data-v-8a3583f8></span><span class="bottom" data-v-8a3583f8></span></span></button></div></div></div></div><div class="divider" data-v-c3151ff2><div class="divider-line" data-v-c3151ff2></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-8bc02b95 data-v-14b6d604><div class="container" data-v-14b6d604><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-14b6d604><span class="vpi-align-left menu-icon" data-v-14b6d604></span><span class="menu-text" data-v-14b6d604>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-14b6d604 data-v-a4ccfa00><button data-v-a4ccfa00>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-8bc02b95 data-v-730aa0ad><div class="curtain" data-v-730aa0ad></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-730aa0ad><span class="visually-hidden" id="sidebar-aria-label" data-v-730aa0ad> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-730aa0ad><section class="VPSidebarItem level-0 collapsible collapsed" data-v-730aa0ad data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h2 class="text" data-v-feaad427>01 Dev</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>00.01 æ¸¸æˆ</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/00.01-%E6%B8%B8%E6%88%8F/index.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Index</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.00 C++</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.00-C++/01.%E7%AE%80%E4%BB%8B%E4%B8%8E%E7%89%B9%E7%82%B9.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01.ç®€ä»‹ä¸ç‰¹ç‚¹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.01 Java</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Cloud</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/Cloud/Higress.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Higress</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/index.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Index</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>JavaåŸºç¡€</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/Java%E5%9F%BA%E7%A1%80/Serializable.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Serializable</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/Java%E5%9F%BA%E7%A1%80/%E6%B3%9B%E5%9E%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æ³›å‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/Java%E5%9F%BA%E7%A1%80/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>é¢å‘å¯¹è±¡</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>JUC</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>01 å¹¶å‘ç¼–ç¨‹</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/01-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B-01.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¹¶å‘ç¼–ç¨‹ 01</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/01-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B-02.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¹¶å‘ç¼–ç¨‹ 02</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/Callable%20%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Callable å®é™…åº”ç”¨åœºæ™¯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/Future.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Future</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/Volatile%E5%85%B3%E9%94%AE%E5%AD%97.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Volatileå…³é”®å­—</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/%E4%BF%A1%E5%8F%B7%E9%87%8F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ä¿¡å·é‡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/%E5%A4%9A%E7%BA%BF%E7%A8%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¤šçº¿ç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JUC/%E7%BA%BF%E7%A8%8B%E6%B1%A0.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>çº¿ç¨‹æ± </p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>JVM</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/00-%E5%89%8D%E8%A8%80.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 å‰è¨€</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/01-%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 è¿è¡Œæ—¶æ•°æ®åŒº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/02-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>02 ç±»åŠ è½½æœºåˆ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/03-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>03 å¯¹è±¡çš„å†…å­˜æ¨¡å‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/04-JVM%E7%9A%84%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%AE%97%E6%B3%95.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>04 JVMçš„åƒåœ¾æ”¶é›†ç®—æ³•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/05-%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%9E%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>05 åŒäº²å§”æ´¾æ¨¡å‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/05-%E7%BB%8F%E5%85%B8%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>05 ç»å…¸çš„åƒåœ¾å›æ”¶å™¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/06-Java%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>06 Javaå¯¹è±¡çš„å†…å­˜åˆ†é…</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/07-%E9%AB%98%E6%95%88%E5%B9%B6%E5%8F%91-Java%E7%9A%84%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>07 é«˜æ•ˆå¹¶å‘ Javaçš„å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.01-Java/%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96%E5%8E%9F%E5%88%99.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç³»ç»Ÿä¼˜åŒ–åŸåˆ™</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.02 å‰ç«¯</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/01-%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 å‰ç«¯å­¦ä¹ è·¯çº¿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/02-%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E6%AE%B5.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¸¸ç”¨ä»£ç æ®µ</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Node</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/Node/NodeAPI.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>NodeAPI</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/Node/Server.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Server</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/Node%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Nodeç‰ˆæœ¬åˆ‡æ¢</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Npm</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/Npm/Npm%E9%95%9C%E5%83%8F%E5%88%87%E6%8D%A2.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Npmé•œåƒåˆ‡æ¢</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/Npm/pnpm.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Pnpm</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>React</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/React/basic.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Basic</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/React/Redux.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Redux</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/React/UmiJS.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>UmiJS</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Vue</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/Vue/00-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 å¿«é€Ÿå…¥é—¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/Vue/01-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 åŸºç¡€è¯­æ³•</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.02-%E5%89%8D%E7%AB%AF/%E7%96%91%E9%97%AE.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç–‘é—®</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.03 ç½‘ç»œå®‰å…¨</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.03-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/00-%E5%A4%A7%E7%BA%B2%E8%B7%AF%E7%BA%BF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 å¤§çº²è·¯çº¿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.03-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/00-%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 å¸¸ç”¨ç½‘ç«™</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.03-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/01-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E7%AE%80%E4%BB%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 ç½‘ç»œå®‰å…¨ç®€ä»‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.03-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/02-%E5%B8%B8%E8%A7%81%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>02 å¸¸è§å®‰å…¨é—®é¢˜</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>å®‰å…¨æ¼æ´</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.03-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E/Nacos-2.1%E4%BB%A5%E4%B8%8B%E7%9A%84%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Nacos 2.1ä»¥ä¸‹çš„æœªæˆæƒè®¿é—®æ¼æ´</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.04 è®¾è®¡æ¨¡å¼</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/00-%E5%89%8D%E8%A8%80.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 å‰è¨€</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>01 æ·±å…¥è®¾è®¡æ¨¡å¼</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01-%E6%B7%B1%E5%85%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AE%80%E4%BB%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ç®€ä»‹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>02 åˆ›å»ºå‹</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/02-%E5%88%9B%E5%BB%BA%E5%9E%8B/%E5%8D%95%E4%BE%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å•ä¾‹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>03 è¡Œä¸ºå‹</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/03-%E8%A1%8C%E4%B8%BA%E5%9E%8B/%E6%A8%A1%E6%9D%BF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æ¨¡æ¿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/03-%E8%A1%8C%E4%B8%BA%E5%9E%8B/%E7%AD%96%E7%95%A5.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç­–ç•¥</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/03-%E8%A1%8C%E4%B8%BA%E5%9E%8B/%E8%B4%A3%E4%BB%BB%E9%93%BE.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>è´£ä»»é“¾</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>04 ç»“æ„å‹</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/04-%E7%BB%93%E6%9E%84%E5%9E%8B/%E4%BB%A3%E7%90%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ä»£ç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/04-%E7%BB%93%E6%9E%84%E5%9E%8B/%E9%97%A8%E9%9D%A2.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>é—¨é¢</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E3%80%8A%E7%BE%8E%E5%9B%A2%E6%8A%80%E6%9C%AF%E3%80%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%9C%A8%E5%A4%96%E5%8D%96%E8%90%A5%E9%94%80%E4%B8%9A%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%AE%9E%E8%B7%B5.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ã€Šç¾å›¢æŠ€æœ¯ã€‹è®¾è®¡æ¨¡å¼åœ¨å¤–å–è¥é”€ä¸šåŠ¡ä¸­çš„å®è·µ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.04-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E3%80%8A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%89%BA%E6%9C%AF%E3%80%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ã€Šè®¾è®¡æ¨¡å¼çš„è‰ºæœ¯ã€‹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.05 ç®—æ³•</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.05-%E7%AE%97%E6%B3%95/01-%E5%89%8D%E8%A8%80.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 å‰è¨€</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.05-%E7%AE%97%E6%B3%95/02-%E5%AF%BC%E8%AF%BB.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>02 å¯¼è¯»</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>ä¸šåŠ¡ç®—æ³•</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.05-%E7%AE%97%E6%B3%95/%E4%B8%9A%E5%8A%A1%E7%AE%97%E6%B3%95/DFA.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>DFA</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.05-%E7%AE%97%E6%B3%95/%E4%B8%9A%E5%8A%A1%E7%AE%97%E6%B3%95/DFS.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>DFS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.05-%E7%AE%97%E6%B3%95/%E4%B8%9A%E5%8A%A1%E7%AE%97%E6%B3%95/%E8%A3%85%E7%AE%B1%E7%AE%97%E6%B3%95.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>è£…ç®±ç®—æ³•</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>æ•°æ®ç»“æ„</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.05-%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æ•°æ®ç»“æ„</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.05-%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E8%B7%AF%E7%BA%BF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç®—æ³•è·¯çº¿</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.06 Linux</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.06-Linux/Linux%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1-%E6%9C%8D%E5%8A%A1%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%EF%BC%88%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%EF%BC%89.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Linuxè‡ªå®šä¹‰ç³»ç»ŸæœåŠ¡ æœåŠ¡è„šæœ¬ç¼–å†™ï¼ˆå¼€æœºè‡ªå¯ï¼‰</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.06-Linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¸¸ç”¨å‘½ä»¤</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>ç¯å¢ƒå®‰è£…</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.06-Linux/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85jdk.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Linuxå®‰è£…jdk</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.06-Linux/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/Ubuntu%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>UbuntuåŸºç¡€ç¯å¢ƒå®‰è£…</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.06-Linux/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%97%AE%E9%A2%98.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>åŸºç¡€ç¯å¢ƒé—®é¢˜</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>è™šæ‹Ÿæœº</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.06-Linux/%E8%99%9A%E6%8B%9F%E6%9C%BA/VirtualBox.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>VirtualBox</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.06-Linux/%E8%99%9A%E6%8B%9F%E6%9C%BA/windows%E5%AE%89%E8%A3%85linux%E5%AD%90%E7%B3%BB%E7%BB%9F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Windowså®‰è£…linuxå­ç³»ç»Ÿ</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.07 å¤§æ•°æ®</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>å°šç¡…è°·</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.07-%E5%A4%A7%E6%95%B0%E6%8D%AE/%E5%B0%9A%E7%A1%85%E8%B0%B7/%E6%9E%B6%E6%9E%84%E5%9B%BE.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æ¶æ„å›¾</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.07-%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E4%BB%93.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æ•°ä»“</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>æ¡†æ¶</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.07-%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%A1%86%E6%9E%B6/%E6%9C%AA%E5%91%BD%E5%90%8D.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æœªå‘½å</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.08 æ•°æ®åº“</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>00 ã€ŠMySQLæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/00-%E3%80%8AMySQL%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E3%80%8B/01-%E3%80%8A%E8%A3%85%E4%BD%9C%E8%87%AA%E5%B7%B1%E6%98%AF%E4%B8%AA%E5%B0%8F%E7%99%BD%E3%80%8B-%E5%88%9D%E8%AF%86MySQL.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 ã€Šè£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½ã€‹ åˆè¯†MySQL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/00-%E3%80%8AMySQL%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E3%80%8B/02-%E3%80%8AMysql%E7%9A%84%E8%B0%83%E6%8E%A7%E6%8C%89%E9%92%AE%E3%80%8B-%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9%E4%B8%8E%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>02 ã€ŠMysqlçš„è°ƒæ§æŒ‰é’®ã€‹ å¯åŠ¨é€‰é¡¹ä¸ç¯å¢ƒå˜é‡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/00-%E3%80%8AMySQL%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E3%80%8B/03-%E3%80%8A%E4%B9%B1%E7%A0%81%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F%E3%80%8B-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>03 ã€Šä¹±ç çš„å‰ä¸–ä»Šç”Ÿã€‹ å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/00-%E3%80%8AMySQL%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E3%80%8B/04-%E3%80%8A%E4%BB%8E%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E8%AF%B4%E8%B5%B7%E3%80%8B-InnoDB%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%84.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>04 ã€Šä»ä¸€æ¡è®°å½•è¯´èµ·ã€‹ InnoDBè®°å½•ç»“æ„</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/00-%E3%80%8AMySQL%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E3%80%8B/%E3%80%8A%E4%B8%80%E6%9D%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%9A%E5%89%AF%E9%9D%A2%E5%AD%94-%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E4%B8%8EMVCC%E3%80%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ã€Šä¸€æ¡æ•°æ®çš„å¤šå‰¯é¢å­” äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸MVCCã€‹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>01 ã€ŠMysql BinLogç¥ç§˜é¢çº±ã€‹</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/01-%E3%80%8AMysql-BinLog%E7%A5%9E%E7%A7%98%E9%9D%A2%E7%BA%B1%E3%80%8B/01-MySQL-BinLog.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 MySQL BinLog</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>02 Mysql</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/02-Mysql/MySQL%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>MySQLæ•´ä½“æ¶æ„è§£æ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/02-Mysql/Mysql%E7%89%B9%E6%AE%8A%E5%91%BD%E4%BB%A4.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Mysqlç‰¹æ®Šå‘½ä»¤</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/02-Mysql/%E7%A2%8E%E7%89%87%E6%B8%85%E7%90%86%E6%96%B9%E6%A1%88.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç¢ç‰‡æ¸…ç†æ–¹æ¡ˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/02-Mysql/%E9%97%AE%E9%A2%98%E5%BC%95%E5%AF%BC%E5%AD%A6%E4%B9%A0.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>é—®é¢˜å¼•å¯¼å­¦ä¹ </p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>03 Redis</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/03-Redis/Redis.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Redis</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>æ·±å…¥ç†è§£Redis</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/03-Redis/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Redis/1.Redis-%E5%85%A5%E9%97%A8-%E8%AE%A4%E8%AF%86Redis.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>1.Redis å…¥é—¨ è®¤è¯†Redis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/03-Redis/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Redis/2.Redis-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>2.Redis æ•°æ®ç»“æ„</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/03-Redis/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Redis/3.Redis-%E5%91%BD%E4%BB%A4.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>3.Redis å‘½ä»¤</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/03-Redis/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Redis/4.Redis-%E4%B8%BB%E9%A2%98.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>4.Redis ä¸»é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/03-Redis/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Redis/5.Redis-%E6%8C%81%E4%B9%85%E5%8C%96%E4%B8%8E%E6%B7%98%E6%B1%B0%E6%9C%BA%E5%88%B6.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>5.Redis æŒä¹…åŒ–ä¸æ·˜æ±°æœºåˆ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.08-%E6%95%B0%E6%8D%AE%E5%BA%93/03-Redis/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Redis/6.Redis-%E9%9D%A2%E8%AF%95.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>6.Redis é¢è¯•</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.09 Docker</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>01 DockerCompose</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.09-Docker/01-DockerCompose/%E5%B8%B8%E7%94%A8-%E7%8E%AF%E5%A2%83%E6%9C%8D%E5%8A%A1-DockerFile.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¸¸ç”¨ ç¯å¢ƒæœåŠ¡ DockerFile</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Dockerè½¯ä»¶å®‰è£…</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.09-Docker/docker%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/00-docker%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%E5%8D%95%E6%9C%BA%E7%89%88es%E3%80%81kibana%E3%80%81ik%E5%88%86%E8%AF%8D%E3%80%81%E5%8F%AF%E8%A7%86%E5%8C%96.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 dockeræ–¹å¼å®‰è£…å•æœºç‰ˆesã€kibanaã€ikåˆ†è¯ã€å¯è§†åŒ–</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.09-Docker/docker%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/00-Docker%E9%95%9C%E5%83%8F%E6%96%B9%E5%BC%8F%E6%90%AD%E5%BB%BAXXL.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 Dockeré•œåƒæ–¹å¼æ­å»ºXXL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.09-Docker/docker%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85docker.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Linuxå®‰è£…docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.09-Docker/docker%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/MinIo.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>MinIo</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.09-Docker/docker%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/PowerJob.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>PowerJob</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.10 DevOps</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.10-DevOps/%E4%BA%91%E6%95%88%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%9E%84%E5%BB%BA.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>äº‘æ•ˆæµæ°´çº¿æ„å»º</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.10-DevOps/%E5%89%8D%E8%A8%80.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å‰è¨€</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.11 Mq</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.11-Mq/MQ%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E4%B8%8E%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>MQçš„åº”ç”¨åœºæ™¯ä¸å¸¸è§é—®é¢˜</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>RocketMq</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.11-Mq/RocketMq/RocketMQ%E6%8C%87%E5%8C%97.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>RocketMQæŒ‡åŒ—</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.13 Es</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.13-Es/01-ES%E5%85%A5%E9%97%A8.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 ESå…¥é—¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.13-Es/03-Es%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>03 Esæ•°æ®åŒæ­¥é—®é¢˜</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.20 æœºç»„</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.20-%E6%9C%BA%E7%BB%84/%E6%9C%AA%E5%91%BD%E5%90%8D.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æœªå‘½å</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.21 ç½‘ç»œ</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.21-%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç½‘ç»œæ¨¡å‹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.60 ä¹¦ç±ç›¸å…³</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.60-%E4%B9%A6%E7%B1%8D%E7%9B%B8%E5%85%B3/%E7%BB%8F%E5%85%B8%E7%BC%96%E7%A8%8B%E4%B9%A6%E5%8D%95500MB.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç»å…¸ç¼–ç¨‹ä¹¦å•500MB</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.68 DDD</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.68-DDD/%E5%85%85%E8%A1%80%E6%A8%A1%E5%9E%8B%E4%B8%8E%E8%B4%AB%E8%A1%80%E6%A8%A1%E5%9E%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å……è¡€æ¨¡å‹ä¸è´«è¡€æ¨¡å‹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.69 æŠ€æœ¯è§„èŒƒ</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.69-%E6%8A%80%E6%9C%AF%E8%A7%84%E8%8C%83/01-%E6%8E%A2%E7%B4%A2%E6%97%A5%E5%BF%97%E8%A7%84%E7%BA%A6.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 æ¢ç´¢æ—¥å¿—è§„çº¦</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.70 ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/Mybatis-DO%E5%AF%B9%E8%B1%A1%E5%B5%8C%E5%A5%97%E7%9A%84%E7%89%B9%E6%AE%8A%E5%A4%84%E7%90%86-%E6%8F%92%E4%BB%B6%E5%8A%9F%E8%83%BD.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Mybatis DOå¯¹è±¡åµŒå¥—çš„ç‰¹æ®Šå¤„ç† æ’ä»¶åŠŸèƒ½</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/Redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%88%E6%8E%A5%E5%8F%A3%E9%99%90%E6%B5%81%E3%80%81%E9%98%B2%E6%8A%96%EF%BC%89.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Redisåˆ†å¸ƒå¼é”çš„åº”ç”¨ï¼ˆæ¥å£é™æµã€é˜²æŠ–ï¼‰</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>SpringBoot</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/SpringBoot/Event%E8%A7%82%E5%AF%9F%E8%80%85.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Eventè§‚å¯Ÿè€…</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/SpringBoot/SpEL%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>SpELè¡¨è¾¾å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/SpringBoot/SpringBoot-Start.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>SpringBoot Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/SpringBoot/SpringBootApplication%E6%B3%A8%E8%A7%A3.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>SpringBootApplicationæ³¨è§£</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>è‡ªå®šä¹‰ start</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/SpringBoot/%E8%87%AA%E5%AE%9A%E4%B9%89-start/%E6%9C%AA%E5%91%BD%E5%90%8D.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æœªå‘½å</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>åŠ å¯†</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E5%8A%A0%E5%AF%86/Excel&amp;Word%E6%96%87%E4%BB%B6%E5%8A%A0%E5%AF%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Excel&Wordæ–‡ä»¶åŠ å¯†</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E5%B9%82%E7%AD%89%E5%A4%84%E7%90%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¹‚ç­‰å¤„ç†</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>æ—¥å¿—</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E6%97%A5%E5%BF%97/TraceId%E9%97%AE%E9%A2%98.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>TraceIdé—®é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.70-%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E6%97%A5%E5%BF%97/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%89%93%E5%8D%B0%E5%87%BA%E5%85%A5%E5%8F%82.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>è‡ªå®šä¹‰æ‰“å°å‡ºå…¥å‚</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01.99 PlugIns</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Easy Inform</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/Easy-Inform/%E5%AF%BC%E5%9B%BE.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¯¼å›¾</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/Easy-Inform/%E6%9C%AA%E5%91%BD%E5%90%8D%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æœªå‘½åæ€ç»´å¯¼å›¾</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/MybatisCodeHelper%E7%A6%BB%E7%BA%BF%E6%BF%80%E6%B4%BB%E5%88%86%E6%9E%90.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>MybatisCodeHelperç¦»çº¿æ¿€æ´»åˆ†æ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/ob.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Ob</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Obsidianæ’ä»¶å¼€å‘</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/obsidian%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/obsidian%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Obsidianæ’ä»¶å¼€å‘</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/obsidian%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¿«é€Ÿå…¥é—¨</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/site.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Site</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/01.99-PlugIns/%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¼€å‘ç›¸å…³</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/01-Dev/index.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Index</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-730aa0ad><section class="VPSidebarItem level-0 collapsible collapsed" data-v-730aa0ad data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h2 class="text" data-v-feaad427>02 Person</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>00 ä¸šåŠ¡å­¦ä¹ </h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/01-%E7%AE%80%E4%BB%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 ç®€ä»‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/02-%E8%B7%A8%E5%A2%83%E7%94%B5%E5%95%86%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>02 è·¨å¢ƒç”µå•†å‰ç½®çŸ¥è¯†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/03-%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%8E%A5%E6%89%8B%E7%90%86%E8%A7%A3%E9%A1%B9%E7%9B%AE.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>03 å¦‚ä½•å¿«é€Ÿæ¥æ‰‹ç†è§£é¡¹ç›®</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>04 è·¨å¢ƒä¸šåŠ¡</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/04-%E8%B7%A8%E5%A2%83%E4%B8%9A%E5%8A%A1/%E4%BB%93%E9%85%8D%E7%BB%84%E7%BD%91%E4%BC%98%E5%85%88%E7%BA%A7.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ä»“é…ç»„ç½‘ä¼˜å…ˆçº§</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/04-%E8%B7%A8%E5%A2%83%E4%B8%9A%E5%8A%A1/%E4%BB%93%E9%85%8D%E9%80%BB%E8%BE%91%E8%BE%93%E5%87%BA.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ä»“é…é€»è¾‘è¾“å‡º</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/04-%E8%B7%A8%E5%A2%83%E4%B8%9A%E5%8A%A1/%E4%BB%93%E9%85%8D%E9%92%88%E5%AF%B9%E4%B8%9C%E5%8D%97%E4%BA%9A%E5%9C%B0%E5%8C%BA%E7%9A%84%E7%89%B9%E6%AE%8A%E9%80%BB%E8%BE%91.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ä»“é…é’ˆå¯¹ä¸œå—äºšåœ°åŒºçš„ç‰¹æ®Šé€»è¾‘</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/04-%E8%B7%A8%E5%A2%83%E4%B8%9A%E5%8A%A1/%E5%9F%BA%E7%A1%80%E6%89%AB%E7%9B%B2.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>åŸºç¡€æ‰«ç›²</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>05 æœå¹¿æ¨</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>01 æœç´¢</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/01-%E6%90%9C%E7%B4%A2/00-%E7%AE%80%E4%BB%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 ç®€ä»‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/01-%E6%90%9C%E7%B4%A2/02.%E6%90%9C%E5%B9%BF%E6%8E%A8%E6%A0%B8%E5%BF%83%E4%B8%9A%E5%8A%A1%E9%93%BE%E8%B7%AF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>02.æœå¹¿æ¨æ ¸å¿ƒä¸šåŠ¡é“¾è·¯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/01-%E6%90%9C%E7%B4%A2/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4-%E6%99%BA%E8%83%BD%E5%BC%80%E6%94%BE%E6%90%9C%E7%B4%A2.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>é˜¿é‡Œå·´å·´ æ™ºèƒ½å¼€æ”¾æœç´¢</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>02 æ¨è</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-4 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h6 class="text" data-v-feaad427>00 ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹</h6><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/00-%E3%80%8A%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%E3%80%8B/01-%E6%A6%82%E8%BF%B0.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 æ¦‚è¿°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/00-%E3%80%8A%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%E3%80%8B/02-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>02 åè¯è§£é‡Š</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/00-%E3%80%8A%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%E3%80%8B/03-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>03 æ¶æ„è®¾è®¡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/00-%E3%80%8A%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%E3%80%8B/04-%E7%AE%97%E6%B3%95%E7%AD%96%E7%95%A5.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>04 ç®—æ³•ç­–ç•¥</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/00-%E3%80%8A%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%E3%80%8B/99-%E9%97%AE%E9%A2%98%E7%AD%94%E7%96%91.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>99 é—®é¢˜ç­”ç–‘</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-4 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h6 class="text" data-v-feaad427>01 äº¬ä¸œæ¨èç³»ç»Ÿ</h6><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/01-%E4%BA%AC%E4%B8%9C%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F-%E5%B9%BF%E5%91%8A%E6%8E%92%E5%BA%8F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æ¨èç³»ç»Ÿ å¹¿å‘Šæ’åº</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/10-%E4%B9%B0%E4%BA%86%E5%8F%88%E4%B9%B0%E9%A1%B5%E9%80%BB%E8%BE%91.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>10 ä¹°äº†åˆä¹°é¡µé€»è¾‘</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/%E5%95%86%E5%9F%8E%E4%B8%BB%E9%A1%B5%E6%90%9C%E7%B4%A2%E4%B8%9A%E5%8A%A1.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å•†åŸä¸»é¡µæœç´¢ä¸šåŠ¡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å­¦ä¹ èµ„æº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/02-%E6%8E%A8%E8%8D%90/%E6%90%9C%E6%8E%A8%E4%B8%9A%E5%8A%A1%E6%A2%B3%E7%90%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æœæ¨ä¸šåŠ¡æ¢³ç†</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>03 ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/03-%E7%BD%91%E7%BA%A2%E8%81%94%E7%9B%9F%E5%B9%BF%E5%91%8A%E8%90%A5%E9%94%80/00-%E5%B9%BF%E5%91%8A%E5%89%8D%E7%BD%AE%E4%B8%9A%E5%8A%A1%E7%9F%A5%E8%AF%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 å¹¿å‘Šå‰ç½®ä¸šåŠ¡çŸ¥è¯†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/03-%E7%BD%91%E7%BA%A2%E8%81%94%E7%9B%9F%E5%B9%BF%E5%91%8A%E8%90%A5%E9%94%80/00-%E7%AE%80%E4%BB%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>00 ç®€ä»‹</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-4 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h6 class="text" data-v-feaad427>01 ç½‘çº¢ç³»ç»Ÿ</h6><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/03-%E7%BD%91%E7%BA%A2%E8%81%94%E7%9B%9F%E5%B9%BF%E5%91%8A%E8%90%A5%E9%94%80/01-%E7%BD%91%E7%BA%A2%E7%B3%BB%E7%BB%9F/01-OBS%E7%9B%B8%E5%85%B3%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>01 OBSç›¸å…³åŠŸèƒ½ç®€ä»‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-5 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/05-%E6%90%9C%E5%B9%BF%E6%8E%A8/03-%E7%BD%91%E7%BA%A2%E8%81%94%E7%9B%9F%E5%B9%BF%E5%91%8A%E8%90%A5%E9%94%80/01-%E7%BD%91%E7%BA%A2%E7%B3%BB%E7%BB%9F/%E6%A0%B7%E5%93%81%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%A2%B3%E7%90%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æ ·å“ä¸šåŠ¡é€»è¾‘æ¢³ç†</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>06 Open</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/00-%E4%B8%9A%E5%8A%A1%E5%AD%A6%E4%B9%A0/06-Open/Open%20Api%20%E5%9C%A8%E7%94%B5%E5%95%86%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Open Api åœ¨ç”µå•†ä¸­çš„ä½œç”¨</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>01 é¡¹ç›®ç®¡ç†</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/01-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/%E5%88%98%E6%B6%A6%E5%AF%B9%E8%AF%9D%E6%A8%8A%E7%99%BB%EF%BC%9A%E5%81%9A%E5%9B%A2%E9%98%9F%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AA%E6%8B%9B%E6%88%90%E5%B9%B4%E4%BA%BA.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>åˆ˜æ¶¦å¯¹è¯æ¨Šç™»ï¼šåšå›¢é˜Ÿï¼Œæˆ‘ä»¬åªæ‹›æˆå¹´äºº</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>02 åšæ–‡æˆé•¿</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>Guide</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>ç¨‹åºäººç”Ÿ</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/Guide/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/%E5%BC%80%E5%8F%91%E5%90%8C%E5%AD%A6%E9%A1%BB%E7%9F%A5.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¼€å‘åŒå­¦é¡»çŸ¥</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/index.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Index</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>ä¸ªäººæå‡</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E4%B8%AA%E4%BA%BA%E6%8F%90%E5%8D%87/%E6%9C%AA%E5%91%BD%E5%90%8D.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æœªå‘½å</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>äº•åº•ä¹‹è›™</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E4%BA%95%E5%BA%95%E4%B9%8B%E8%9B%99/%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%BC%8F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ä¸šåŠ¡æ¨¡å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E4%BA%95%E5%BA%95%E4%B9%8B%E8%9B%99/%E6%8F%90%E5%89%8D%E5%81%9A%E7%9A%84%E6%80%9D%E6%83%B3%E5%87%86%E5%A4%87.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æå‰åšçš„æ€æƒ³å‡†å¤‡</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h4 class="text" data-v-feaad427>è¯»ä¹¦</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>ä¹¦å•</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E4%B9%A6%E5%8D%95/%E6%8E%8C%E6%8F%A1%E4%B9%A0%E6%83%AF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æŒæ¡ä¹ æƒ¯</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-3 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h5 class="text" data-v-feaad427>è¯»ä¹¦æœ‰æ„Ÿ</h5><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E3%80%8A%E5%88%BB%E6%84%8F%E7%BB%83%E4%B9%A0%E3%80%8B%20%E8%AF%BB%E4%B8%AD%E6%84%9F%E6%82%9F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ã€Šåˆ»æ„ç»ƒä¹ ã€‹ è¯»ä¸­æ„Ÿæ‚Ÿ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E5%A4%A7%E8%84%91%E6%98%AF%E5%A6%82%E4%BD%95%E8%AE%B0%E4%BD%8F%E7%9F%A5%E8%AF%86%E7%9A%84.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>å¤§è„‘æ˜¯å¦‚ä½•è®°ä½çŸ¥è¯†çš„</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E6%88%91%E8%A6%81%E4%B8%8A%E6%B8%85%E5%8D%8E%EF%BC%9A%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%E5%B0%91%E5%B9%B4%E7%9A%84%E9%80%86%E8%A2%AD%E4%B9%8B%E8%B7%AF.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æˆ‘è¦ä¸Šæ¸…åï¼šä¸€ä¸ªæ™®é€šå°‘å¹´çš„é€†è¢­ä¹‹è·¯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E6%8A%8A%E6%97%B6%E9%97%B4%E5%BD%93%E5%81%9A%E6%9C%8B%E5%8F%8B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æŠŠæ—¶é—´å½“åšæœ‹å‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E6%8C%81%E7%BB%AD%E7%9A%84%E9%AB%98%E6%95%88%E8%83%BD%E5%8A%9B%EF%BC%9A%E7%83%A7%E6%B0%B4%E5%AD%A6%E4%B9%A0%E6%B3%95.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æŒç»­çš„é«˜æ•ˆèƒ½åŠ›ï¼šçƒ§æ°´å­¦ä¹ æ³•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E9%97%B2%E8%A8%80%E7%A2%8E%E8%AF%AD.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç¨‹åºå‘˜çš„é—²è¨€ç¢è¯­</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E8%AE%A4%E7%9F%A5%E8%A7%89%E9%86%92%EF%BC%9A%E5%BC%80%E5%90%AF%E8%87%AA%E6%88%91%E6%94%B9%E5%8F%98%E7%9A%84%E5%8E%9F%E5%8A%A8%E5%8A%9B.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>è®¤çŸ¥è§‰é†’ï¼šå¼€å¯è‡ªæˆ‘æ”¹å˜çš„åŸåŠ¨åŠ›</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E8%BF%99%E6%9C%AC%E4%B9%A6%E8%83%BD%E8%AE%A9%E4%BD%A0%E6%88%92%E7%83%9F.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>è¿™æœ¬ä¹¦èƒ½è®©ä½ æˆ’çƒŸ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/02-%E5%8D%9A%E6%96%87%E6%88%90%E9%95%BF/%E8%AF%BB%E4%B9%A6/%E8%AF%BB%E4%B9%A6%E6%9C%89%E6%84%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>éæš´åŠ›æ²Ÿé€š</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>03 ç‹¬ç«‹å¼€å‘è€…</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/03-%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85/index.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Index</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/03-%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85/%E6%88%91%E6%98%AF%E8%B0%81.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æˆ‘æ˜¯è°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/03-%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85/%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E5%A4%9A%E4%BA%BA%EF%BC%88%E8%BF%9C%E7%A8%8B%EF%BC%89%E5%8D%8F%E4%BD%9C%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç‹¬ç«‹å¼€å‘å¤šäººï¼ˆè¿œç¨‹ï¼‰åä½œç»éªŒåˆ†äº«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/03-%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85/%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E6%80%9D%E8%80%83.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç‹¬ç«‹å¼€å‘è€…çš„æ€è€ƒ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/03-%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85/%E8%B5%84%E6%BA%90%E7%AB%99%E7%82%B9.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>èµ„æºç«™ç‚¹</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>04 SEO</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/04-SEO/index.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Index</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>05 å¥‡æŠ€æ·«å·§</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/05-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/Idea.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Idea</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/05-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/Java%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E5%B0%8F%E6%8A%80%E5%B7%A7.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Javaä»£ç ä¼˜åŒ–å°æŠ€å·§</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/05-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%E6%9C%BA%E5%9C%BA.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>æœºåœº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/05-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>ç¬”è®°æ•´ç†</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-feaad427 data-v-feaad427><div class="item" role="button" tabindex="0" data-v-feaad427><div class="indicator" data-v-feaad427></div><h3 class="text" data-v-feaad427>06 åšå®¢æ­å»º</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-feaad427><span class="vpi-chevron-right caret-icon" data-v-feaad427></span></div></div><div class="items" data-v-feaad427><!--[--><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/06-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Rss%E5%A4%84%E7%90%86.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Rsså¤„ç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/06-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/VitePress.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>VitePress</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/06-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E5%9F%BA%E4%BA%8EGithubActions%E5%AE%9E%E7%8E%B0Github%E4%B8%8EGitee%E7%9A%84%E5%90%8C%E6%AD%A5.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>åŸºäºGithubActionså®ç°Githubä¸Giteeçš„åŒæ­¥</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-feaad427 data-v-feaad427><div class="item" data-v-feaad427><div class="indicator" data-v-feaad427></div><a class="VPLink link link" href="/02-Person/index.html" data-v-feaad427><!--[--><p class="text" data-v-feaad427>Index</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-8bc02b95 data-v-c28d6088><div class="VPDoc has-sidebar has-aside" data-v-c28d6088 data-v-767d2a17><!--[--><!--]--><div class="container" data-v-767d2a17><div class="aside" data-v-767d2a17><div class="aside-curtain" data-v-767d2a17></div><div class="aside-container" data-v-767d2a17><div class="aside-content" data-v-767d2a17><div class="VPDocAside" data-v-767d2a17 data-v-b81430ef><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-b81430ef data-v-346e0d9b><div class="content" data-v-346e0d9b><div class="outline-marker" data-v-346e0d9b></div><div class="outline-title" role="heading" aria-level="2" data-v-346e0d9b>ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-346e0d9b><span class="visually-hidden" id="doc-outline-aria-label" data-v-346e0d9b> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-346e0d9b data-v-4dcdae39><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-b81430ef></div><!--[--><!--]--><div class="VPDocAsideCarbonAds" data-v-b81430ef><div class="VPCarbonAds" data-v-b33901c9></div></div><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-767d2a17><div class="content-container" data-v-767d2a17><!--[--><!--]--><main class="main" data-v-767d2a17><div style="position:relative;" class="vp-doc _01-Dev_01_01-Java_JUC_01-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B_%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B-01" data-v-767d2a17><div><h1 id="å¹¶å‘ç¼–ç¨‹" tabindex="-1">å¹¶å‘ç¼–ç¨‹ <a class="header-anchor" href="#å¹¶å‘ç¼–ç¨‹" aria-label="Permalink to &quot;å¹¶å‘ç¼–ç¨‹&quot;">â€‹</a></h1><h1 id="ä¸€ã€çº¿ç¨‹çš„åŸºç¡€æ¦‚å¿µ" tabindex="-1">ä¸€ã€<strong>çº¿ç¨‹çš„åŸºç¡€æ¦‚å¿µ</strong> <a class="header-anchor" href="#ä¸€ã€çº¿ç¨‹çš„åŸºç¡€æ¦‚å¿µ" aria-label="Permalink to &quot;ä¸€ã€**çº¿ç¨‹çš„åŸºç¡€æ¦‚å¿µ**&quot;">â€‹</a></h1><h3 id="ä¸€ã€åŸºç¡€æ¦‚å¿µ" tabindex="-1">ä¸€ã€<strong>åŸºç¡€æ¦‚å¿µ</strong> <a class="header-anchor" href="#ä¸€ã€åŸºç¡€æ¦‚å¿µ" aria-label="Permalink to &quot;ä¸€ã€**åŸºç¡€æ¦‚å¿µ**&quot;">â€‹</a></h3><h4 id="_1-1-è¿›ç¨‹ä¸çº¿ç¨‹" tabindex="-1">1.1 è¿›ç¨‹ä¸çº¿ç¨‹ <a class="header-anchor" href="#_1-1-è¿›ç¨‹ä¸çº¿ç¨‹" aria-label="Permalink to &quot;1.1 è¿›ç¨‹ä¸çº¿ç¨‹&quot;">â€‹</a></h4><p>ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ</p><p><strong>è¿›ç¨‹æ˜¯æŒ‡è¿è¡Œä¸­çš„ç¨‹åºã€‚ æ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨é’‰é’‰ï¼Œæµè§ˆå™¨ï¼Œéœ€è¦å¯åŠ¨è¿™ä¸ªç¨‹åºï¼Œæ“ä½œç³»ç»Ÿä¼šç»™è¿™ä¸ªç¨‹åºåˆ†é…ä¸€å®šçš„èµ„æºï¼ˆå ç”¨å†…å­˜èµ„æºï¼‰ã€‚</strong></p><p>ä»€ä¹ˆçº¿ç¨‹ï¼Ÿ</p><p><strong>çº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œçš„éƒ½æ˜¯æŸä¸€ä¸ªè¿›ç¨‹çš„ä»£ç çš„æŸä¸ªç‰‡æ®µã€‚</strong></p><p>ä¸¾ä¸ªæ —å­ï¼šæˆ¿å­ä¸äºº</p><p>æ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ª100å¹³çš„æˆ¿å­ï¼Œè¿™ä¸ªæ–¹å¼å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªè¿›ç¨‹</p><p>æˆ¿å­é‡Œæœ‰äººï¼Œäººå°±å¯ä»¥çœ‹åšæˆä¸€ä¸ªçº¿ç¨‹ã€‚</p><p>äººåœ¨æˆ¿å­ä¸­åšä¸€ä¸ªäº‹æƒ…ï¼Œæ¯”å¦‚åƒé¥­ï¼Œå­¦ä¹ ï¼Œç¡è§‰ã€‚è¿™ä¸ªå°±å¥½åƒçº¿ç¨‹åœ¨æ‰§è¡ŒæŸä¸ªåŠŸèƒ½çš„ä»£ç ã€‚</p><p>æ‰€è°“è¿›ç¨‹å°±æ˜¯çº¿ç¨‹çš„å®¹å™¨ï¼Œéœ€è¦çº¿ç¨‹åˆ©ç”¨è¿›ç¨‹ä¸­çš„ä¸€äº›èµ„æºï¼Œå¤„ç†ä¸€ä¸ªä»£ç ã€æŒ‡ä»¤ã€‚æœ€ç»ˆå®ç°è¿›ç¨‹é”é¢„æœŸçš„ç»“æœã€‚</p><p>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼š</p><ul><li><p>æ ¹æœ¬ä¸åŒï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…çš„èµ„æºï¼Œè€Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚</p></li><li><p>èµ„æºæ–¹é¢ï¼šåŒä¸€ä¸ªè¿›ç¨‹ä¸‹çš„çº¿ç¨‹å…±äº«è¿›ç¨‹ä¸­çš„ä¸€äº›èµ„æºã€‚çº¿ç¨‹åŒæ—¶æ‹¥æœ‰è‡ªèº«çš„ç‹¬ç«‹å­˜å‚¨ç©ºé—´ã€‚è¿›ç¨‹ä¹‹é—´çš„èµ„æºé€šå¸¸æ˜¯ç‹¬ç«‹çš„ã€‚</p></li><li><p>æ•°é‡ä¸åŒï¼šè¿›ç¨‹ä¸€èˆ¬æŒ‡çš„å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚è€Œçº¿ç¨‹æ˜¯ä¾é™„äºæŸä¸ªè¿›ç¨‹çš„ï¼Œè€Œä¸”ä¸€ä¸ªè¿›ç¨‹ä¸­è‡³å°‘ä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚</p></li><li><p>å¼€é”€ä¸åŒï¼šæ¯•ç«Ÿè¿›ç¨‹å’Œçº¿ç¨‹ä¸æ˜¯ä¸€ä¸ªçº§åˆ«çš„å†…å®¹ï¼Œçº¿ç¨‹çš„åˆ›å»ºå’Œç»ˆæ­¢çš„æ—¶é—´æ˜¯æ¯”è¾ƒçŸ­çš„ã€‚è€Œä¸”çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢æ¯”è¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢é€Ÿåº¦è¦å¿«å¾ˆå¤šã€‚è€Œä¸”è¿›ç¨‹ä¹‹é—´çš„é€šè®¯å¾ˆéº»çƒ¦ï¼Œä¸€èˆ¬è¦å€ŸåŠ©å†…æ ¸æ‰å¯ä»¥å®ç°ï¼Œè€Œçº¿ç¨‹ä¹‹é—´é€šè®¯ï¼Œç›¸å½“æ–¹é¢ã€‚</p></li><li><p>â€¦â€¦â€¦â€¦â€¦â€¦</p></li></ul><h4 id="_1-2-å¤šçº¿ç¨‹" tabindex="-1">1.2 å¤šçº¿ç¨‹ <a class="header-anchor" href="#_1-2-å¤šçº¿ç¨‹" aria-label="Permalink to &quot;1.2 å¤šçº¿ç¨‹&quot;">â€‹</a></h4><p>ä»€ä¹ˆæ˜¯å¤šçº¿ç¨‹ï¼Ÿ</p><p>å¤šçº¿ç¨‹æ˜¯æŒ‡ï¼š<strong>å•ä¸ªè¿›ç¨‹ä¸­åŒæ—¶è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚</strong></p><p>å¤šçº¿ç¨‹çš„ä¸ä½æ˜¯ä¸ºäº†æé«˜CPUçš„åˆ©ç”¨ç‡ã€‚</p><p>å¯ä»¥é€šè¿‡é¿å…ä¸€äº›ç½‘ç»œIOæˆ–è€…ç£ç›˜IOç­‰éœ€è¦ç­‰å¾…çš„æ“ä½œï¼Œè®©CPUå»è°ƒåº¦å…¶ä»–çº¿ç¨‹ã€‚</p><p>è¿™æ ·å¯ä»¥å¤§å¹…åº¦çš„æå‡ç¨‹åºçš„æ•ˆç‡ï¼Œæé«˜ç”¨æˆ·çš„ä½“éªŒã€‚</p><p>æ¯”å¦‚Tomcatå¯ä»¥åšå¹¶è¡Œå¤„ç†ï¼Œæå‡å¤„ç†çš„æ•ˆç‡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªæ’é˜Ÿã€‚</p><p>ä¸å¦‚è¦å¤„ç†ä¸€ä¸ªç½‘ç»œç­‰å¾…çš„æ“ä½œï¼Œå¼€å¯ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†éœ€è¦ç½‘ç»œç­‰å¾…çš„ä»»åŠ¡ï¼Œè®©å½“å‰ä¸šåŠ¡çº¿ç¨‹å¯ä»¥ç»§ç»­å¾€ä¸‹æ‰§è¡Œé€»è¾‘ï¼Œæ•ˆç‡æ˜¯å¯ä»¥å¾—åˆ°å¤§å¹…åº¦æå‡çš„ã€‚</p><p>å¤šçº¿ç¨‹çš„å±€é™</p><ul><li><p>å¦‚æœçº¿ç¨‹æ•°é‡ç‰¹åˆ«å¤šï¼ŒCPUåœ¨åˆ‡æ¢çº¿ç¨‹ä¸Šä¸‹æ–‡æ—¶ï¼Œä¼šé¢å¤–é€ æˆå¾ˆå¤§çš„æ¶ˆè€—ã€‚</p></li><li><p>ä»»åŠ¡çš„æ‹†åˆ†éœ€è¦ä¾èµ–ä¸šåŠ¡åœºæ™¯ï¼Œæœ‰ä¸€äº›å¼‚æ„åŒ–çš„ä»»åŠ¡ï¼Œå¾ˆéš¾å¯¹ä»»åŠ¡æ‹†åˆ†ï¼Œè¿˜æœ‰å¾ˆå¤šä¸šåŠ¡å¹¶ä¸æ˜¯å¤šçº¿ç¨‹å¤„ç†æ›´å¥½ã€‚</p></li><li><p><strong>çº¿ç¨‹å®‰å…¨é—®é¢˜</strong>ï¼šè™½ç„¶å¤šçº¿ç¨‹å¸¦æ¥äº†ä¸€å®šçš„æ€§èƒ½æå‡ï¼Œä½†æ˜¯å†åšä¸€äº›æ“ä½œæ—¶ï¼Œå¤šçº¿ç¨‹å¦‚æœæ“ä½œä¸´ç•Œèµ„æºï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸€äº›æ•°æ®ä¸ä¸€è‡´çš„å®‰å…¨é—®é¢˜ï¼Œç”šè‡³æ¶‰åŠåˆ°é”æ“ä½œæ—¶ï¼Œä¼šé€ æˆæ­»é”é—®é¢˜ã€‚</p></li></ul><h4 id="_1-3-ä¸²è¡Œã€å¹¶è¡Œã€å¹¶å‘" tabindex="-1">1.3 ä¸²è¡Œã€å¹¶è¡Œã€å¹¶å‘ <a class="header-anchor" href="#_1-3-ä¸²è¡Œã€å¹¶è¡Œã€å¹¶å‘" aria-label="Permalink to &quot;1.3 ä¸²è¡Œã€å¹¶è¡Œã€å¹¶å‘&quot;">â€‹</a></h4><p>ä»€ä¹ˆæ˜¯ä¸²è¡Œï¼š</p><p>ä¸²è¡Œå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªæ’é˜Ÿï¼Œç¬¬ä¸€ä¸ªåšå®Œï¼Œç¬¬äºŒä¸ªæ‰èƒ½ä¸Šã€‚</p><p>ä»€ä¹ˆæ˜¯å¹¶è¡Œï¼š</p><p>å¹¶è¡Œå°±æ˜¯åŒæ—¶å¤„ç†ã€‚ï¼ˆä¸€èµ·ä¸Šï¼ï¼ï¼ï¼‰</p><p>ä»€ä¹ˆæ˜¯å¹¶å‘ï¼š</p><p>è¿™é‡Œçš„å¹¶å‘å¹¶ä¸æ˜¯ä¸‰é«˜ä¸­çš„é«˜å¹¶å‘é—®é¢˜ï¼Œè¿™é‡Œæ˜¯å¤šçº¿ç¨‹ä¸­çš„å¹¶å‘æ¦‚å¿µï¼ˆCPUè°ƒåº¦çº¿ç¨‹çš„æ¦‚å¿µï¼‰ã€‚CPUåœ¨æçŸ­çš„æ—¶é—´å†…ï¼Œåå¤åˆ‡æ¢æ‰§è¡Œä¸åŒçš„çº¿ç¨‹ï¼Œçœ‹ä¼¼å¥½åƒæ˜¯å¹¶è¡Œï¼Œä½†æ˜¯çŸ¥è¯†CPUé«˜é€Ÿçš„åˆ‡æ¢ã€‚</p><p>å¹¶è¡Œå›Šæ‹¬å¹¶å‘ã€‚</p><p>å¹¶è¡Œå°±æ˜¯å¤šæ ¸CPUåŒæ—¶è°ƒåº¦å¤šä¸ªçº¿ç¨‹ï¼Œæ˜¯çœŸæ­£çš„å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œã€‚</p><p>å•æ ¸CPUæ— æ³•å®ç°å¹¶è¡Œæ•ˆæœï¼Œå•æ ¸CPUæ˜¯å¹¶å‘ã€‚</p><h4 id="_1-4-åŒæ­¥å¼‚æ­¥ã€é˜»å¡éé˜»å¡" tabindex="-1">1.4 åŒæ­¥å¼‚æ­¥ã€é˜»å¡éé˜»å¡ <a class="header-anchor" href="#_1-4-åŒæ­¥å¼‚æ­¥ã€é˜»å¡éé˜»å¡" aria-label="Permalink to &quot;1.4 åŒæ­¥å¼‚æ­¥ã€é˜»å¡éé˜»å¡&quot;">â€‹</a></h4><p>åŒæ­¥ä¸å¼‚æ­¥ï¼šæ‰§è¡ŒæŸä¸ªåŠŸèƒ½åï¼Œè¢«è°ƒç”¨è€…æ˜¯å¦ä¼š<strong>ä¸»åŠ¨åé¦ˆ</strong>ä¿¡æ¯</p><p>é˜»å¡å’Œéé˜»å¡ï¼šæ‰§è¡ŒæŸä¸ªåŠŸèƒ½åï¼Œè°ƒç”¨è€…æ˜¯å¦éœ€è¦<strong>ä¸€ç›´ç­‰å¾…ç»“æœ</strong>çš„åé¦ˆã€‚</p><p>ä¸¤ä¸ªæ¦‚å¿µçœ‹ä¼¼ç›¸ä¼¼ï¼Œä½†æ˜¯ä¾§é‡ç‚¹æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚</p><p><strong>åŒæ­¥é˜»å¡</strong>ï¼šæ¯”å¦‚ç”¨é”…çƒ§æ°´ï¼Œæ°´å¼€åï¼Œä¸ä¼šä¸»åŠ¨é€šçŸ¥ä½ ã€‚çƒ§æ°´å¼€å§‹æ‰§è¡Œåï¼Œéœ€è¦ä¸€ç›´ç­‰å¾…æ°´çƒ§å¼€ã€‚</p><p><strong>åŒæ­¥éé˜»å¡</strong>ï¼šæ¯”å¦‚ç”¨é”…çƒ§æ°´ï¼Œæ°´å¼€åï¼Œä¸ä¼šä¸»åŠ¨é€šçŸ¥ä½ ã€‚çƒ§æ°´å¼€å§‹æ‰§è¡Œåï¼Œä¸éœ€è¦ä¸€ç›´ç­‰å¾…æ°´çƒ§å¼€ï¼Œå¯ä»¥å»æ‰§è¡Œå…¶ä»–åŠŸèƒ½ï¼Œä½†æ˜¯éœ€è¦æ—¶ä¸æ—¶çš„æŸ¥çœ‹æ°´å¼€äº†æ²¡ã€‚</p><p><strong>å¼‚æ­¥é˜»å¡</strong>ï¼šæ¯”å¦‚ç”¨æ°´å£¶çƒ§æ°´ï¼Œæ°´å¼€åï¼Œä¼šä¸»åŠ¨é€šçŸ¥ä½ æ°´çƒ§å¼€äº†ã€‚çƒ§æ°´å¼€å§‹æ‰§è¡Œåï¼Œéœ€è¦ä¸€ç›´ç­‰å¾…æ°´çƒ§å¼€ã€‚</p><p><strong>å¼‚æ­¥éé˜»å¡</strong>ï¼šæ¯”å¦‚ç”¨æ°´å£¶çƒ§æ°´ï¼Œæ°´å¼€åï¼Œä¼šä¸»åŠ¨é€šçŸ¥ä½ æ°´çƒ§å¼€äº†ã€‚çƒ§æ°´å¼€å§‹æ‰§è¡Œåï¼Œä¸éœ€è¦ä¸€ç›´ç­‰å¾…æ°´çƒ§å¼€ï¼Œå¯ä»¥å»æ‰§è¡Œå…¶ä»–åŠŸèƒ½ã€‚</p><p>å¼‚æ­¥éé˜»å¡è¿™ä¸ªæ•ˆæœæ˜¯æœ€å¥½çš„ï¼Œå¹³æ—¶å¼€å‘æ—¶ï¼Œæå‡æ•ˆç‡æœ€å¥½çš„æ–¹å¼å°±æ˜¯é‡‡ç”¨å¼‚æ­¥éé˜»å¡çš„æ–¹å¼å¤„ç†ä¸€äº›å¤šçº¿ç¨‹çš„ä»»åŠ¡ã€‚</p><h3 id="äºŒã€çº¿ç¨‹çš„åˆ›å»º" tabindex="-1">äºŒã€<strong>çº¿ç¨‹çš„åˆ›å»º</strong> <a class="header-anchor" href="#äºŒã€çº¿ç¨‹çš„åˆ›å»º" aria-label="Permalink to &quot;äºŒã€**çº¿ç¨‹çš„åˆ›å»º**&quot;">â€‹</a></h3><p>çº¿ç¨‹çš„åˆ›å»ºåˆ†ä¸ºä¸‰ç§æ–¹å¼ï¼š</p><h4 id="_2-1-ç»§æ‰¿threadç±»-é‡å†™runæ–¹æ³•" tabindex="-1">2.1 ç»§æ‰¿Threadç±» é‡å†™runæ–¹æ³• <a class="header-anchor" href="#_2-1-ç»§æ‰¿threadç±»-é‡å†™runæ–¹æ³•" aria-label="Permalink to &quot;2.1 ç»§æ‰¿Threadç±» é‡å†™runæ–¹æ³•&quot;">â€‹</a></h4><p>å¯åŠ¨çº¿ç¨‹æ˜¯è°ƒç”¨startæ–¹æ³•ï¼Œè¿™æ ·ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œçº¿ç¨‹çš„ä»»åŠ¡ã€‚</p><p>å¦‚æœç›´æ¥è°ƒç”¨runæ–¹æ³•ï¼Œè¿™æ ·ä¼šè®©å½“å‰çº¿ç¨‹æ‰§è¡Œrunæ–¹æ³•ä¸­çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public class MiTest {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void main(String[] args) {</span></span>
<span class="line"><span>        MyJob t1 = new MyJob();</span></span>
<span class="line"><span>        t1.start();</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;main:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>class MyJob extends Thread{</span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public void run() {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;MyJob:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-2-å®ç°runnableæ¥å£-é‡å†™runæ–¹æ³•" tabindex="-1">2.2 å®ç°Runnableæ¥å£ é‡å†™runæ–¹æ³• <a class="header-anchor" href="#_2-2-å®ç°runnableæ¥å£-é‡å†™runæ–¹æ³•" aria-label="Permalink to &quot;2.2 å®ç°Runnableæ¥å£ é‡å†™runæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public class MiTest {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void main(String[] args) {</span></span>
<span class="line"><span>        MyRunnable myRunnable = new MyRunnable();</span></span>
<span class="line"><span>        Thread t1 = new Thread(myRunnable);</span></span>
<span class="line"><span>        t1.start();</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 1000; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;main:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class MyRunnable implements Runnable{</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public void run() {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 1000; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;MyRunnable:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>æœ€å¸¸ç”¨çš„æ–¹å¼ï¼š</p><ul><li>åŒ¿åå†…éƒ¨ç±»æ–¹å¼ï¼š</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Thread t1 = new Thread(new Runnable() {</span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public void run() {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 1000; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;åŒ¿åå†…éƒ¨ç±»:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>});</span></span></code></pre></div><ul><li>lambdaæ–¹å¼ï¼š</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>    for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>        System.out.println(&quot;lambda:&quot; + i);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>});</span></span></code></pre></div><h4 id="_2-3-å®ç°callable-é‡å†™callæ–¹æ³•-é…åˆfuturetask" tabindex="-1">2.3 å®ç°Callable é‡å†™callæ–¹æ³•ï¼Œé…åˆFutureTask <a class="header-anchor" href="#_2-3-å®ç°callable-é‡å†™callæ–¹æ³•-é…åˆfuturetask" aria-label="Permalink to &quot;2.3 å®ç°Callable é‡å†™callæ–¹æ³•ï¼Œé…åˆFutureTask&quot;">â€‹</a></h4><p>Callableä¸€èˆ¬ç”¨äºæœ‰è¿”å›ç»“æœçš„éé˜»å¡çš„æ‰§è¡Œæ–¹æ³•</p><p>åŒæ­¥éé˜»å¡ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public class MiTest {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void main(String[] args) throws ExecutionException, InterruptedException {</span></span>
<span class="line"><span>        //1. åˆ›å»ºMyCallable</span></span>
<span class="line"><span>        MyCallable myCallable = new MyCallable();</span></span>
<span class="line"><span>        //2. åˆ›å»ºFutureTaskï¼Œä¼ å…¥Callable</span></span>
<span class="line"><span>        FutureTask futureTask = new FutureTask(myCallable);</span></span>
<span class="line"><span>        //3. åˆ›å»ºThreadçº¿ç¨‹</span></span>
<span class="line"><span>        Thread t1 = new Thread(futureTask);</span></span>
<span class="line"><span>        //4. å¯åŠ¨çº¿ç¨‹</span></span>
<span class="line"><span>        t1.start();</span></span>
<span class="line"><span>        //5. åšä¸€äº›æ“ä½œ</span></span>
<span class="line"><span>        //6. è¦ç»“æœ</span></span>
<span class="line"><span>        Object count = futureTask.get();</span></span>
<span class="line"><span>        System.out.println(&quot;æ€»å’Œä¸ºï¼š&quot; + count);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class MyCallable implements Callable{</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public Object call() throws Exception {</span></span>
<span class="line"><span>        int count = 0;</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            count += i;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return count;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="äºŒã€çº¿ç¨‹çš„ä½¿ç”¨" tabindex="-1"><strong>äºŒã€çº¿ç¨‹çš„ä½¿ç”¨</strong> <a class="header-anchor" href="#äºŒã€çº¿ç¨‹çš„ä½¿ç”¨" aria-label="Permalink to &quot;**äºŒã€çº¿ç¨‹çš„ä½¿ç”¨**&quot;">â€‹</a></h3><h4 id="_2-1-çº¿ç¨‹çš„çŠ¶æ€" tabindex="-1">2.1 çº¿ç¨‹çš„çŠ¶æ€ <a class="header-anchor" href="#_2-1-çº¿ç¨‹çš„çŠ¶æ€" aria-label="Permalink to &quot;2.1 çº¿ç¨‹çš„çŠ¶æ€&quot;">â€‹</a></h4><p>ç½‘ä¸Šå¯¹çº¿ç¨‹çŠ¶æ€çš„æè¿°å¾ˆå¤šï¼Œæœ‰5ç§ï¼Œ6ç§ï¼Œ7ç§ï¼Œéƒ½å¯ä»¥æ¥å—</p><p>5ä¸­çŠ¶æ€ä¸€èˆ¬æ˜¯é’ˆå¯¹ä¼ ç»Ÿçš„çº¿ç¨‹çŠ¶æ€æ¥è¯´</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/b802326396694bd8a4e17ab21a04d348.png" alt="" loading="lazy"></p><p>Javaä¸­ç»™çº¿ç¨‹å‡†å¤‡çš„6ç§çŠ¶æ€</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/558ee9b72713409c8d9486410aa0074e.png" alt="" loading="lazy"></p><p>NEWï¼šThreadå¯¹è±¡è¢«åˆ›å»ºå‡ºæ¥äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æ‰§è¡Œstartæ–¹æ³•ã€‚</p><p>RUNNABLEï¼šThreadå¯¹è±¡è°ƒç”¨äº†startæ–¹æ³•ï¼Œå°±ä¸ºRUNNABLEçŠ¶æ€ï¼ˆCPUè°ƒåº¦/æ²¡æœ‰è°ƒåº¦ï¼‰</p><p>BLOCKEDã€WAITINGã€TIME_WAITINGï¼šéƒ½å¯ä»¥ç†è§£ä¸ºæ˜¯é˜»å¡ã€ç­‰å¾…çŠ¶æ€ï¼Œå› ä¸ºå¤„åœ¨è¿™ä¸‰ç§çŠ¶æ€ä¸‹ï¼ŒCPUä¸ä¼šè°ƒåº¦å½“å‰çº¿ç¨‹</p><p>BLOCKEDï¼šsynchronizedæ²¡æœ‰æ‹¿åˆ°åŒæ­¥é”ï¼Œè¢«é˜»å¡çš„æƒ…å†µ</p><p>WAITINGï¼šè°ƒç”¨waitæ–¹æ³•å°±ä¼šå¤„äºWAITINGçŠ¶æ€ï¼Œéœ€è¦è¢«æ‰‹åŠ¨å”¤é†’</p><p>TIME_WAITINGï¼šè°ƒç”¨sleepæ–¹æ³•æˆ–è€…joinæ–¹æ³•ï¼Œä¼šè¢«è‡ªåŠ¨å”¤é†’ï¼Œæ— éœ€æ‰‹åŠ¨å”¤é†’</p><p>TERMINATEDï¼šrunæ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œçº¿ç¨‹ç”Ÿå‘½å‘¨æœŸåˆ°å¤´äº†</p><p>åœ¨Javaä»£ç ä¸­éªŒè¯ä¸€ä¸‹æ•ˆæœ</p><p>NEWï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    System.out.println(t1.getState());</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>RUNNABLEï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while(true){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(500);</span></span>
<span class="line"><span>    System.out.println(t1.getState());</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>BLOCKEDï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Object obj = new Object();</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        // t1çº¿ç¨‹æ‹¿ä¸åˆ°é”èµ„æºï¼Œå¯¼è‡´å˜ä¸ºBLOCKEDçŠ¶æ€</span></span>
<span class="line"><span>        synchronized (obj){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    // mainçº¿ç¨‹æ‹¿åˆ°objçš„é”èµ„æº</span></span>
<span class="line"><span>    synchronized (obj) {</span></span>
<span class="line"><span>        t1.start();</span></span>
<span class="line"><span>        Thread.sleep(500);</span></span>
<span class="line"><span>        System.out.println(t1.getState());</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>WAITINGï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Object obj = new Object();</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        synchronized (obj){</span></span>
<span class="line"><span>            try {</span></span>
<span class="line"><span>                obj.wait();</span></span>
<span class="line"><span>            } catch (InterruptedException e) {</span></span>
<span class="line"><span>                e.printStackTrace();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(500);</span></span>
<span class="line"><span>    System.out.println(t1.getState());</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>TIMED_WAITINGï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            Thread.sleep(1000);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(500);</span></span>
<span class="line"><span>    System.out.println(t1.getState());</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>TERMINATEDï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            Thread.sleep(500);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(1000);</span></span>
<span class="line"><span>    System.out.println(t1.getState());</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-2-çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•" tabindex="-1">3.2 çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³• <a class="header-anchor" href="#_3-2-çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•" aria-label="Permalink to &quot;3.2 çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•&quot;">â€‹</a></h4><h5 id="_3-2-1-è·å–å½“å‰çº¿ç¨‹" tabindex="-1">3.2.1 è·å–å½“å‰çº¿ç¨‹ <a class="header-anchor" href="#_3-2-1-è·å–å½“å‰çº¿ç¨‹" aria-label="Permalink to &quot;3.2.1 è·å–å½“å‰çº¿ç¨‹&quot;">â€‹</a></h5><p>Threadçš„é™æ€æ–¹æ³•è·å–å½“å‰çº¿ç¨‹å¯¹è±¡</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws ExecutionException, InterruptedException {</span></span>
<span class="line"><span>	// è·å–å½“å‰çº¿ç¨‹çš„æ–¹æ³•</span></span>
<span class="line"><span>    Thread main = Thread.currentThread();</span></span>
<span class="line"><span>    System.out.println(main);</span></span>
<span class="line"><span>    // &quot;Thread[&quot; + getName() + &quot;,&quot; + getPriority() + &quot;,&quot; +  group.getName() + &quot;]&quot;;</span></span>
<span class="line"><span>    // Thread[main,5,main]</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-2-2-çº¿ç¨‹çš„åå­—" tabindex="-1">3.2.2 çº¿ç¨‹çš„åå­— <a class="header-anchor" href="#_3-2-2-çº¿ç¨‹çš„åå­—" aria-label="Permalink to &quot;3.2.2 çº¿ç¨‹çš„åå­—&quot;">â€‹</a></h5><p>åœ¨æ„å»ºThreadå¯¹è±¡å®Œæ¯•åï¼Œä¸€å®šè¦è®¾ç½®ä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°ï¼Œæ–¹é¢åæœŸæ’æŸ¥é”™è¯¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws ExecutionException, InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        System.out.println(Thread.currentThread().getName());</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.setName(&quot;æ¨¡å—-åŠŸèƒ½-è®¡æ•°å™¨&quot;);</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-2-3-çº¿ç¨‹çš„ä¼˜å…ˆçº§" tabindex="-1">3.2.3 çº¿ç¨‹çš„ä¼˜å…ˆçº§ <a class="header-anchor" href="#_3-2-3-çº¿ç¨‹çš„ä¼˜å…ˆçº§" aria-label="Permalink to &quot;3.2.3 çº¿ç¨‹çš„ä¼˜å…ˆçº§&quot;">â€‹</a></h5><p>å…¶å®å°±æ˜¯CPUè°ƒåº¦çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€</p><p>javaä¸­ç»™çº¿ç¨‹è®¾ç½®çš„ä¼˜å…ˆçº§åˆ«æœ‰10ä¸ªçº§åˆ«ï¼Œä»1~10ä»»å–ä¸€ä¸ªæ•´æ•°ã€‚</p><p>å¦‚æœè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œä¼šæ’é™¤å‚æ•°å¼‚å¸¸çš„é”™è¯¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws ExecutionException, InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 1000; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;t1:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 1000; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;t2:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.setPriority(1);</span></span>
<span class="line"><span>    t2.setPriority(10);</span></span>
<span class="line"><span>    t2.start();</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-2-4-çº¿ç¨‹çš„è®©æ­¥" tabindex="-1">3.2.4 çº¿ç¨‹çš„è®©æ­¥ <a class="header-anchor" href="#_3-2-4-çº¿ç¨‹çš„è®©æ­¥" aria-label="Permalink to &quot;3.2.4 çº¿ç¨‹çš„è®©æ­¥&quot;">â€‹</a></h5><p>å¯ä»¥é€šè¿‡Threadçš„é™æ€æ–¹æ³•yieldï¼Œè®©å½“å‰çº¿ç¨‹ä»è¿è¡ŒçŠ¶æ€è½¬å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws ExecutionException, InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            if(i == 50){</span></span>
<span class="line"><span>                Thread.yield();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            System.out.println(&quot;t1:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;t2:&quot; + i);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t2.start();</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-2-5-çº¿ç¨‹çš„ä¼‘çœ " tabindex="-1">3.2.5 çº¿ç¨‹çš„ä¼‘çœ  <a class="header-anchor" href="#_3-2-5-çº¿ç¨‹çš„ä¼‘çœ " aria-label="Permalink to &quot;3.2.5 çº¿ç¨‹çš„ä¼‘çœ &quot;">â€‹</a></h5><p>Threadçš„é™æ€æ–¹æ³•ï¼Œè®©çº¿ç¨‹ä»è¿è¡ŒçŠ¶æ€è½¬å˜ä¸ºç­‰å¾…çŠ¶æ€</p><p>sleepæœ‰ä¸¤ä¸ªæ–¹æ³•é‡è½½ï¼š</p><ul><li><p>ç¬¬ä¸€ä¸ªå°±æ˜¯nativeä¿®é¥°çš„ï¼Œè®©çº¿ç¨‹è½¬ä¸ºç­‰å¾…çŠ¶æ€çš„æ•ˆæœ</p></li><li><p>ç¬¬äºŒä¸ªæ˜¯å¯ä»¥ä¼ å…¥æ¯«ç§’å’Œä¸€ä¸ªçº³ç§’çš„æ–¹æ³•ï¼ˆå¦‚æœçº³ç§’å€¼å¤§äºç­‰äº0.5æ¯«ç§’ï¼Œå°±ç»™ä¼‘çœ çš„æ¯«ç§’å€¼+1ã€‚å¦‚æœä¼ å…¥çš„æ¯«ç§’å€¼æ˜¯0ï¼Œçº³ç§’å€¼ä¸ä¸º0ï¼Œå°±ä¼‘çœ 1æ¯«ç§’ï¼‰</p></li></ul><p>sleepä¼šæŠ›å‡ºä¸€ä¸ªInterruptedException</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    System.out.println(System.currentTimeMillis());</span></span>
<span class="line"><span>    Thread.sleep(1000);</span></span>
<span class="line"><span>    System.out.println(System.currentTimeMillis());</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-2-6-çº¿ç¨‹çš„å¼ºå " tabindex="-1">3.2.6 çº¿ç¨‹çš„å¼ºå  <a class="header-anchor" href="#_3-2-6-çº¿ç¨‹çš„å¼ºå " aria-label="Permalink to &quot;3.2.6 çº¿ç¨‹çš„å¼ºå &quot;">â€‹</a></h5><p>Threadçš„éé™æ€æ–¹æ³•joinæ–¹æ³•</p><p>éœ€è¦åœ¨æŸä¸€ä¸ªçº¿ç¨‹ä¸‹å»è°ƒç”¨è¿™ä¸ªæ–¹æ³•</p><p>å¦‚æœåœ¨mainçº¿ç¨‹ä¸­è°ƒç”¨äº†t1.join()ï¼Œé‚£ä¹ˆmainçº¿ç¨‹ä¼šè¿›å…¥åˆ°ç­‰å¾…çŠ¶æ€ï¼Œéœ€è¦ç­‰å¾…t1çº¿ç¨‹å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œåœ¨æ¢å¤åˆ°å°±ç»ªçŠ¶æ€ç­‰å¾…CPUè°ƒåº¦ã€‚</p><p>å¦‚æœåœ¨mainçº¿ç¨‹ä¸­è°ƒç”¨äº†t1.join(2000)ï¼Œé‚£ä¹ˆmainçº¿ç¨‹ä¼šè¿›å…¥åˆ°ç­‰å¾…çŠ¶æ€ï¼Œéœ€è¦ç­‰å¾…t1æ‰§è¡Œ2såï¼Œåœ¨æ¢å¤åˆ°å°±ç»ªçŠ¶æ€ç­‰å¾…CPUè°ƒåº¦ã€‚å¦‚æœåœ¨ç­‰å¾…æœŸé—´ï¼Œt1å·²ç»ç»“æŸäº†ï¼Œé‚£ä¹ˆmainçº¿ç¨‹è‡ªåŠ¨å˜ä¸ºå°±ç»ªçŠ¶æ€ç­‰å¾…CPUè°ƒåº¦ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 10; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;t1:&quot; + i);</span></span>
<span class="line"><span>            try {</span></span>
<span class="line"><span>                Thread.sleep(1000);</span></span>
<span class="line"><span>            } catch (InterruptedException e) {</span></span>
<span class="line"><span>                e.printStackTrace();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    for (int i = 0; i &lt; 10; i++) {</span></span>
<span class="line"><span>        System.out.println(&quot;main:&quot; + i);</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            Thread.sleep(1000);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        if (i == 1){</span></span>
<span class="line"><span>            try {</span></span>
<span class="line"><span>                t1.join(2000);</span></span>
<span class="line"><span>            } catch (InterruptedException e) {</span></span>
<span class="line"><span>                e.printStackTrace();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-2-7-å®ˆæŠ¤çº¿ç¨‹" tabindex="-1">3.2.7 å®ˆæŠ¤çº¿ç¨‹ <a class="header-anchor" href="#_3-2-7-å®ˆæŠ¤çº¿ç¨‹" aria-label="Permalink to &quot;3.2.7 å®ˆæŠ¤çº¿ç¨‹&quot;">â€‹</a></h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œçº¿ç¨‹éƒ½æ˜¯éå®ˆæŠ¤çº¿ç¨‹</p><p>JVMä¼šåœ¨ç¨‹åºä¸­æ²¡æœ‰éå®ˆæŠ¤çº¿ç¨‹æ—¶ï¼Œç»“æŸæ‰å½“å‰JVM</p><p>ä¸»çº¿ç¨‹é»˜è®¤æ˜¯éå®ˆæŠ¤çº¿ç¨‹ï¼Œå¦‚æœä¸»çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œéœ€è¦æŸ¥çœ‹å½“å‰JVMå†…æ˜¯å¦è¿˜æœ‰éå®ˆæŠ¤çº¿ç¨‹ï¼Œå¦‚æœæ²¡æœ‰JVMç›´æ¥åœæ­¢</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 10; i++) {</span></span>
<span class="line"><span>            System.out.println(&quot;t1:&quot; + i);</span></span>
<span class="line"><span>            try {</span></span>
<span class="line"><span>                Thread.sleep(1000);</span></span>
<span class="line"><span>            } catch (InterruptedException e) {</span></span>
<span class="line"><span>                e.printStackTrace();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.setDaemon(true);</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-2-8-çº¿ç¨‹çš„ç­‰å¾…å’Œå”¤é†’" tabindex="-1">3.2.8 çº¿ç¨‹çš„ç­‰å¾…å’Œå”¤é†’ <a class="header-anchor" href="#_3-2-8-çº¿ç¨‹çš„ç­‰å¾…å’Œå”¤é†’" aria-label="Permalink to &quot;3.2.8 çº¿ç¨‹çš„ç­‰å¾…å’Œå”¤é†’&quot;">â€‹</a></h5><p>å¯ä»¥è®©è·å–synchronizedé”èµ„æºçš„çº¿ç¨‹é€šè¿‡waitæ–¹æ³•è¿›å»åˆ°é”çš„<strong>ç­‰å¾…æ± </strong>ï¼Œå¹¶ä¸”ä¼šé‡Šæ”¾é”èµ„æº</p><p>å¯ä»¥è®©è·å–synchronizedé”èµ„æºçš„çº¿ç¨‹ï¼Œé€šè¿‡notifyæˆ–è€…notifyAllæ–¹æ³•ï¼Œå°†ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹å”¤é†’ï¼Œæ·»åŠ åˆ°<strong>é”æ± </strong>ä¸­</p><p>notifyéšæœºçš„å”¤é†’ç­‰å¾…æ± ä¸­çš„ä¸€ä¸ªçº¿ç¨‹åˆ°é”æ± </p><p>notifyAllå°†ç­‰å¾…æ± ä¸­çš„å…¨éƒ¨çº¿ç¨‹éƒ½å”¤é†’ï¼Œå¹¶ä¸”æ·»åŠ åˆ°é”æ± </p><p>åœ¨è°ƒç”¨waitæ–¹æ³•å’Œnotifyä»¥åŠnorifyAllæ–¹æ³•æ—¶ï¼Œå¿…é¡»åœ¨synchronizedä¿®é¥°çš„ä»£ç å—æˆ–è€…æ–¹æ³•å†…éƒ¨æ‰å¯ä»¥ï¼Œå› ä¸ºè¦æ“ä½œåŸºäºæŸä¸ªå¯¹è±¡çš„é”çš„ä¿¡æ¯ç»´æŠ¤ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        sync();</span></span>
<span class="line"><span>    },&quot;t1&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        sync();</span></span>
<span class="line"><span>    },&quot;t2&quot;);</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    t2.start();</span></span>
<span class="line"><span>    Thread.sleep(12000);</span></span>
<span class="line"><span>    synchronized (MiTest.class) {</span></span>
<span class="line"><span>        MiTest.class.notifyAll();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static synchronized void sync()  {</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 10; i++) {</span></span>
<span class="line"><span>            if(i == 5) {</span></span>
<span class="line"><span>                MiTest.class.wait();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            Thread.sleep(1000);</span></span>
<span class="line"><span>            System.out.println(Thread.currentThread().getName());</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } catch (InterruptedException e) {</span></span>
<span class="line"><span>        e.printStackTrace();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-3-çº¿ç¨‹çš„ç»“æŸæ–¹å¼" tabindex="-1">3.3 çº¿ç¨‹çš„ç»“æŸæ–¹å¼ <a class="header-anchor" href="#_3-3-çº¿ç¨‹çš„ç»“æŸæ–¹å¼" aria-label="Permalink to &quot;3.3 çº¿ç¨‹çš„ç»“æŸæ–¹å¼&quot;">â€‹</a></h4><p>çº¿ç¨‹ç»“æŸæ–¹å¼å¾ˆå¤šï¼Œæœ€å¸¸ç”¨å°±æ˜¯è®©çº¿ç¨‹çš„runæ–¹æ³•ç»“æŸï¼Œæ— è®ºæ˜¯returnç»“æŸï¼Œè¿˜æ˜¯æŠ›å‡ºå¼‚å¸¸ç»“æŸï¼Œéƒ½å¯ä»¥</p><h5 id="_3-3-1-stopæ–¹æ³•-ä¸ç”¨" tabindex="-1">3.3.1 stopæ–¹æ³•ï¼ˆä¸ç”¨ï¼‰ <a class="header-anchor" href="#_3-3-1-stopæ–¹æ³•-ä¸ç”¨" aria-label="Permalink to &quot;3.3.1 stopæ–¹æ³•ï¼ˆä¸ç”¨ï¼‰&quot;">â€‹</a></h5><p>å¼ºåˆ¶è®©çº¿ç¨‹ç»“æŸï¼Œæ— è®ºä½ åœ¨å¹²å˜›ï¼Œä¸æ¨èä½¿ç”¨å½“ç„¶å½“ç„¶æ–¹å¼ï¼Œä½†æ˜¯ï¼Œä»–ç¡®å®å¯ä»¥æŠŠçº¿ç¨‹å¹²æ‰</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            Thread.sleep(5000);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(500);</span></span>
<span class="line"><span>    t1.stop();</span></span>
<span class="line"><span>    System.out.println(t1.getState());</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-3-2-ä½¿ç”¨å…±äº«å˜é‡-å¾ˆå°‘ä¼šç”¨" tabindex="-1">3.3.2 ä½¿ç”¨å…±äº«å˜é‡ï¼ˆå¾ˆå°‘ä¼šç”¨ï¼‰ <a class="header-anchor" href="#_3-3-2-ä½¿ç”¨å…±äº«å˜é‡-å¾ˆå°‘ä¼šç”¨" aria-label="Permalink to &quot;3.3.2 ä½¿ç”¨å…±äº«å˜é‡ï¼ˆå¾ˆå°‘ä¼šç”¨ï¼‰&quot;">â€‹</a></h5><p>è¿™ç§æ–¹å¼ç”¨çš„ä¹Ÿä¸å¤šï¼Œæœ‰çš„çº¿ç¨‹å¯èƒ½ä¼šé€šè¿‡æ­»å¾ªç¯æ¥ä¿è¯ä¸€ç›´è¿è¡Œã€‚</p><p>å’±ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹å…±äº«å˜é‡åœ¨ç ´åæ­»å¾ªç¯ï¼Œè®©çº¿ç¨‹é€€å‡ºå¾ªç¯ï¼Œç»“æŸrunæ–¹æ³•</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>static volatile boolean flag = true;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while(flag){</span></span>
<span class="line"><span>            // å¤„ç†ä»»åŠ¡</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        System.out.println(&quot;ä»»åŠ¡ç»“æŸ&quot;);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(500);</span></span>
<span class="line"><span>    flag = false;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-3-3-interruptæ–¹å¼" tabindex="-1">3.3.3 interruptæ–¹å¼ <a class="header-anchor" href="#_3-3-3-interruptæ–¹å¼" aria-label="Permalink to &quot;3.3.3 interruptæ–¹å¼&quot;">â€‹</a></h5><p>å…±äº«å˜é‡æ–¹å¼</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    // çº¿ç¨‹é»˜è®¤æƒ…å†µä¸‹ï¼Œ    interruptæ ‡è®°ä½ï¼šfalse</span></span>
<span class="line"><span>    System.out.println(Thread.currentThread().isInterrupted());</span></span>
<span class="line"><span>    // æ‰§è¡Œinterruptä¹‹åï¼Œå†æ¬¡æŸ¥çœ‹æ‰“æ–­ä¿¡æ¯</span></span>
<span class="line"><span>    Thread.currentThread().interrupt();</span></span>
<span class="line"><span>    // interruptæ ‡è®°ä½ï¼šture</span></span>
<span class="line"><span>    System.out.println(Thread.currentThread().isInterrupted());</span></span>
<span class="line"><span>    // è¿”å›å½“å‰çº¿ç¨‹ï¼Œå¹¶å½’ä½ä¸ºfalse interruptæ ‡è®°ä½ï¼šture</span></span>
<span class="line"><span>    System.out.println(Thread.interrupted());</span></span>
<span class="line"><span>    // å·²ç»å½’ä½äº†</span></span>
<span class="line"><span>    System.out.println(Thread.interrupted());</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // =====================================================</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while(!Thread.currentThread().isInterrupted()){</span></span>
<span class="line"><span>            // å¤„ç†ä¸šåŠ¡</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        System.out.println(&quot;t1ç»“æŸ&quot;);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(500);</span></span>
<span class="line"><span>    t1.interrupt();</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>é€šè¿‡æ‰“æ–­WAITINGæˆ–è€…TIMED_WAITINGçŠ¶æ€çš„çº¿ç¨‹ï¼Œä»è€ŒæŠ›å‡ºå¼‚å¸¸è‡ªè¡Œå¤„ç†</p><p>è¿™ç§åœæ­¢çº¿ç¨‹æ–¹å¼æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§ï¼Œåœ¨æ¡†æ¶å’ŒJUCä¸­ä¹Ÿæ˜¯æœ€å¸¸è§çš„</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while(true){</span></span>
<span class="line"><span>            // è·å–ä»»åŠ¡</span></span>
<span class="line"><span>            // æ‹¿åˆ°ä»»åŠ¡ï¼Œæ‰§è¡Œä»»åŠ¡</span></span>
<span class="line"><span>            // æ²¡æœ‰ä»»åŠ¡äº†ï¼Œè®©çº¿ç¨‹ä¼‘çœ </span></span>
<span class="line"><span>            try {</span></span>
<span class="line"><span>                Thread.sleep(1000);</span></span>
<span class="line"><span>            } catch (InterruptedException e) {</span></span>
<span class="line"><span>                e.printStackTrace();</span></span>
<span class="line"><span>                System.out.println(&quot;åŸºäºæ‰“æ–­å½¢å¼ç»“æŸå½“å‰çº¿ç¨‹&quot;);</span></span>
<span class="line"><span>                return;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(500);</span></span>
<span class="line"><span>    t1.interrupt();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h1 id="äºŒã€å¹¶å‘ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§" tabindex="-1">äºŒã€<strong>å¹¶å‘ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§</strong> <a class="header-anchor" href="#äºŒã€å¹¶å‘ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§" aria-label="Permalink to &quot;äºŒã€**å¹¶å‘ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§**&quot;">â€‹</a></h1><h2 id="ä¸€ã€åŸå­æ€§" tabindex="-1"><strong>ä¸€ã€åŸå­æ€§</strong> <a class="header-anchor" href="#ä¸€ã€åŸå­æ€§" aria-label="Permalink to &quot;**ä¸€ã€åŸå­æ€§**&quot;">â€‹</a></h2><h4 id="_1-1-ä»€ä¹ˆæ˜¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§" tabindex="-1">1.1 ä»€ä¹ˆæ˜¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§ <a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§" aria-label="Permalink to &quot;1.1 ä»€ä¹ˆæ˜¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§&quot;">â€‹</a></h4><p>JMMï¼ˆJava Memory Modelï¼‰ã€‚ä¸åŒçš„ç¡¬ä»¶å’Œä¸åŒçš„æ“ä½œç³»ç»Ÿåœ¨å†…å­˜ä¸Šçš„æ“ä½œæœ‰ä¸€å®šå·®å¼‚çš„ã€‚Javaä¸ºäº†è§£å†³ç›¸åŒä»£ç åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šå‡ºç°çš„å„ç§é—®é¢˜ï¼Œç”¨JMMå±è”½æ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿå¸¦æ¥çš„å·®å¼‚ã€‚</p><p>è®©Javaçš„å¹¶å‘ç¼–ç¨‹å¯ä»¥åšåˆ°è·¨å¹³å°ã€‚</p><p>JMMè§„å®šæ‰€æœ‰å˜é‡éƒ½ä¼šå­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œåœ¨æ“ä½œçš„æ—¶å€™ï¼Œéœ€è¦ä»ä¸»å†…å­˜ä¸­å¤åˆ¶ä¸€ä»½åˆ°çº¿ç¨‹å†…å­˜ï¼ˆCPUå†…å­˜ï¼‰ï¼Œåœ¨çº¿ç¨‹å†…éƒ¨åšè®¡ç®—ã€‚<strong>ç„¶åå†å†™å›ä¸»å†…å­˜ä¸­ï¼ˆä¸ä¸€å®šï¼ï¼‰ã€‚</strong></p><p><strong>åŸå­æ€§çš„å®šä¹‰ï¼šåŸå­æ€§æŒ‡ä¸€ä¸ªæ“ä½œæ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œä¸å¯ä¸­æ–­çš„ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œæ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¸ä¼šå½±å“åˆ°ä»–ã€‚</strong></p><p>å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§ç”¨ä»£ç é˜è¿°ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private static int count;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void increment(){</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        Thread.sleep(10);</span></span>
<span class="line"><span>    } catch (InterruptedException e) {</span></span>
<span class="line"><span>        e.printStackTrace();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    count++;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>           increment();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            increment();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    t2.start();</span></span>
<span class="line"><span>    t1.join();</span></span>
<span class="line"><span>    t2.join();</span></span>
<span class="line"><span>    System.out.println(count);</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>å½“å‰ç¨‹åºï¼šå¤šçº¿ç¨‹æ“ä½œå…±äº«æ•°æ®æ—¶ï¼Œé¢„æœŸçš„ç»“æœï¼Œä¸æœ€ç»ˆçš„ç»“æœä¸ç¬¦ã€‚</p><p><strong>åŸå­æ€§ï¼šå¤šçº¿ç¨‹æ“ä½œä¸´ç•Œèµ„æºï¼Œé¢„æœŸçš„ç»“æœä¸æœ€ç»ˆç»“æœä¸€è‡´ã€‚</strong></p><p>é€šè¿‡å¯¹è¿™ä¸ªç¨‹åºçš„åˆ†æï¼Œå¯ä»¥æŸ¥çœ‹å‡ºï¼Œ++çš„æ“ä½œï¼Œä¸€å…±åˆ†ä¸ºäº†ä¸‰éƒ¨ï¼Œé¦–å…ˆæ˜¯çº¿ç¨‹ä»ä¸»å†…å­˜æ‹¿åˆ°æ•°æ®ä¿å­˜åˆ°CPUçš„å¯„å­˜å™¨ä¸­ï¼Œç„¶ååœ¨å¯„å­˜å™¨ä¸­è¿›è¡Œ+1æ“ä½œï¼Œæœ€ç»ˆå°†ç»“æœå†™å›åˆ°ä¸»å†…å­˜å½“ä¸­ã€‚</p><h3 id="_1-2-ä¿è¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§" tabindex="-1">1.2 ä¿è¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§ <a class="header-anchor" href="#_1-2-ä¿è¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§" aria-label="Permalink to &quot;1.2 ä¿è¯å¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§&quot;">â€‹</a></h3><h4 id="_1-2-1-synchronized" tabindex="-1">1.2.1 synchronized <a class="header-anchor" href="#_1-2-1-synchronized" aria-label="Permalink to &quot;1.2.1 synchronized&quot;">â€‹</a></h4><p>å› ä¸º++æ“ä½œå¯ä»¥ä»æŒ‡ä»¤ä¸­æŸ¥çœ‹åˆ°</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/c53311e92c734b248e0c31ef615e8c4f.png" alt="" loading="lazy"></p><p>å¯ä»¥åœ¨æ–¹æ³•ä¸Šè¿½åŠ synchronizedå…³é”®å­—æˆ–è€…é‡‡ç”¨åŒæ­¥ä»£ç å—çš„å½¢å¼æ¥ä¿è¯åŸå­æ€§</p><p>synchronizedå¯ä»¥è®©é¿å…å¤šçº¿ç¨‹åŒæ—¶æ“ä½œä¸´è¡—èµ„æºï¼ŒåŒä¸€æ—¶é—´ç‚¹ï¼Œåªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨æ“ä½œä¸´ç•Œèµ„æº</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/4d92d0e53d49438fafa4f2c9710aa398.png" alt="" loading="lazy"></p><h4 id="_1-2-2-cas" tabindex="-1">1.2.2 CAS <a class="header-anchor" href="#_1-2-2-cas" aria-label="Permalink to &quot;1.2.2 CAS&quot;">â€‹</a></h4><p>åˆ°åº•ä»€ä¹ˆæ˜¯CAS</p><p>compare and swapä¹Ÿå°±æ˜¯æ¯”è¾ƒå’Œäº¤æ¢ï¼Œä»–æ˜¯ä¸€æ¡CPUçš„å¹¶å‘åŸè¯­ã€‚</p><p>ä»–åœ¨æ›¿æ¢å†…å­˜çš„æŸä¸ªä½ç½®çš„å€¼æ—¶ï¼Œé¦–å…ˆæŸ¥çœ‹å†…å­˜ä¸­çš„å€¼ä¸é¢„æœŸå€¼æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´ï¼Œæ‰§è¡Œæ›¿æ¢æ“ä½œã€‚è¿™ä¸ªæ“ä½œæ˜¯ä¸€ä¸ªåŸå­æ€§æ“ä½œã€‚</p><p>Javaä¸­åŸºäºUnsafeçš„ç±»æä¾›äº†å¯¹CASçš„æ“ä½œçš„æ–¹æ³•ï¼ŒJVMä¼šå¸®åŠ©æˆ‘ä»¬å°†æ–¹æ³•å®ç°CASæ±‡ç¼–æŒ‡ä»¤ã€‚</p><p>ä½†æ˜¯è¦æ¸…æ¥šCASåªæ˜¯æ¯”è¾ƒå’Œäº¤æ¢ï¼Œåœ¨è·å–åŸå€¼çš„è¿™ä¸ªæ“ä½œä¸Šï¼Œéœ€è¦ä½ è‡ªå·±å®ç°ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private static AtomicInteger count = new AtomicInteger(0);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            count.incrementAndGet();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            count.incrementAndGet();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    t2.start();</span></span>
<span class="line"><span>    t1.join();</span></span>
<span class="line"><span>    t2.join();</span></span>
<span class="line"><span>    System.out.println(count);</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Doug Leaåœ¨CASçš„åŸºç¡€ä¸Šå¸®åŠ©æˆ‘ä»¬å®ç°äº†ä¸€äº›åŸå­ç±»ï¼Œå…¶ä¸­å°±åŒ…æ‹¬ç°åœ¨çœ‹åˆ°çš„AtomicIntegerï¼Œè¿˜æœ‰å…¶ä»–å¾ˆå¤šåŸå­ç±»â€¦â€¦</p><p><strong>CASçš„ç¼ºç‚¹</strong>ï¼šCASåªèƒ½ä¿è¯å¯¹ä¸€ä¸ªå˜é‡çš„æ“ä½œæ˜¯åŸå­æ€§çš„ï¼Œæ— æ³•å®ç°å¯¹å¤šè¡Œä»£ç å®ç°åŸå­æ€§ã€‚</p><p><strong>CASçš„é—®é¢˜</strong>ï¼š</p><ul><li><p><strong>ABAé—®é¢˜</strong>ï¼šé—®é¢˜å¦‚ä¸‹ï¼Œå¯ä»¥å¼•å…¥ç‰ˆæœ¬å·çš„æ–¹å¼ï¼Œæ¥è§£å†³ABAçš„é—®é¢˜ã€‚Javaä¸­æä¾›äº†ä¸€ä¸ªç±»åœ¨CASæ—¶ï¼Œé’ˆå¯¹å„ä¸ªç‰ˆæœ¬è¿½åŠ ç‰ˆæœ¬å·çš„æ“ä½œã€‚ AtomicStampeReference<img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/1a90706738b3476d81d038d2648d3c7c.png" alt="" loading="lazy"></p></li><li><p>AtomicStampedReferenceåœ¨CASæ—¶ï¼Œä¸ä½†ä¼šåˆ¤æ–­åŸå€¼ï¼Œè¿˜ä¼šæ¯”è¾ƒç‰ˆæœ¬ä¿¡æ¯ã€‚</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) {</span></span>
<span class="line"><span>    AtomicStampedReference&lt;String&gt; reference = new AtomicStampedReference&lt;&gt;(&quot;AAA&quot;,1);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    String oldValue = reference.getReference();</span></span>
<span class="line"><span>    int oldVersion = reference.getStamp();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    boolean b = reference.compareAndSet(oldValue, &quot;B&quot;, oldVersion, oldVersion + 1);</span></span>
<span class="line"><span>    System.out.println(&quot;ä¿®æ”¹1ç‰ˆæœ¬çš„ï¼š&quot; + b);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    boolean c = reference.compareAndSet(&quot;B&quot;, &quot;C&quot;, 1, 1 + 1);</span></span>
<span class="line"><span>    System.out.println(&quot;ä¿®æ”¹2ç‰ˆæœ¬çš„ï¼š&quot; + c);</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li><p><strong>è‡ªæ—‹æ—¶é—´è¿‡é•¿é—®é¢˜</strong>ï¼š</p></li><li><p>å¯ä»¥æŒ‡å®šCASä¸€å…±å¾ªç¯å¤šå°‘æ¬¡ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ¬¡æ•°ï¼Œç›´æ¥å¤±è´¥/æˆ–è€…æŒ‚èµ·çº¿ç¨‹ã€‚ï¼ˆè‡ªæ—‹é”ã€è‡ªé€‚åº”è‡ªæ—‹é”ï¼‰</p></li><li><p>å¯ä»¥åœ¨CASä¸€æ¬¡å¤±è´¥åï¼Œå°†è¿™ä¸ªæ“ä½œæš‚å­˜èµ·æ¥ï¼Œåé¢éœ€è¦è·å–ç»“æœæ—¶ï¼Œå°†æš‚å­˜çš„æ“ä½œå…¨éƒ¨æ‰§è¡Œï¼Œå†è¿”å›æœ€åçš„ç»“æœã€‚</p></li></ul><h4 id="_1-2-3-locké”" tabindex="-1">1.2.3 Locké” <a class="header-anchor" href="#_1-2-3-locké”" aria-label="Permalink to &quot;1.2.3 Locké”&quot;">â€‹</a></h4><p>Locké”æ˜¯åœ¨JDK1.5ç”±Doug Leaç ”å‘çš„ï¼Œä»–çš„æ€§èƒ½ç›¸æ¯”synchronizedåœ¨JDK1.5çš„æ—¶æœŸï¼Œæ€§èƒ½å¥½äº†å¾ˆå¤šå¤šï¼Œä½†æ˜¯åœ¨JDK1.6å¯¹synchronizedä¼˜åŒ–ä¹‹åï¼Œæ€§èƒ½ç›¸å·®ä¸å¤§ï¼Œä½†æ˜¯å¦‚æœæ¶‰åŠå¹¶å‘æ¯”è¾ƒå¤šæ—¶ï¼Œæ¨èReentrantLocké”ï¼Œæ€§èƒ½ä¼šæ›´å¥½ã€‚</p><p>å®ç°æ–¹å¼ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private static int count;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private static ReentrantLock lock = new ReentrantLock();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void increment()  {</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        count++;</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            Thread.sleep(10);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            increment();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 100; i++) {</span></span>
<span class="line"><span>            increment();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    t2.start();</span></span>
<span class="line"><span>    t1.join();</span></span>
<span class="line"><span>    t2.join();</span></span>
<span class="line"><span>    System.out.println(count);</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>ReentrantLockå¯ä»¥ç›´æ¥å¯¹æ¯”synchronizedï¼Œåœ¨åŠŸèƒ½ä¸Šæ¥è¯´ï¼Œéƒ½æ˜¯é”ã€‚</p><p>ä½†æ˜¯ReentrantLockçš„åŠŸèƒ½æ€§ç›¸æ¯”synchronizedæ›´ä¸°å¯Œã€‚</p><p><strong>ReentrantLockåº•å±‚æ˜¯åŸºäºAQSå®ç°çš„ï¼Œæœ‰ä¸€ä¸ªåŸºäºCASç»´æŠ¤çš„stateå˜é‡æ¥å®ç°é”çš„æ“ä½œã€‚</strong></p><h4 id="_1-2-4-threadlocal" tabindex="-1">1.2.4 ThreadLocal <a class="header-anchor" href="#_1-2-4-threadlocal" aria-label="Permalink to &quot;1.2.4 ThreadLocal&quot;">â€‹</a></h4><p>ThreadLocalä¿è¯åŸå­æ€§çš„æ–¹å¼ï¼Œæ˜¯ä¸è®©å¤šçº¿ç¨‹å»æ“ä½œ<strong>ä¸´ç•Œèµ„æº</strong>ï¼Œè®©æ¯ä¸ªçº¿ç¨‹å»æ“ä½œå±äºè‡ªå·±çš„æ•°æ®</p><p>ä»£ç å®ç°</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>static ThreadLocal tl1 = new ThreadLocal();</span></span>
<span class="line"><span>static ThreadLocal tl2 = new ThreadLocal();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) {</span></span>
<span class="line"><span>    tl1.set(&quot;123&quot;);</span></span>
<span class="line"><span>    tl2.set(&quot;456&quot;);</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        System.out.println(&quot;t1:&quot; + tl1.get());</span></span>
<span class="line"><span>        System.out.println(&quot;t1:&quot; + tl2.get());</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    System.out.println(&quot;main:&quot; + tl1.get());</span></span>
<span class="line"><span>    System.out.println(&quot;main:&quot; + tl2.get());</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>ThreadLocalå®ç°åŸç†ï¼š</p><ul><li><p>æ¯ä¸ªThreadä¸­éƒ½å­˜å‚¨ç€ä¸€ä¸ªæˆå‘˜å˜é‡ï¼ŒThreadLocalMap</p></li><li><p>ThreadLocalæœ¬èº«ä¸å­˜å‚¨æ•°æ®ï¼Œåƒæ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼ŒåŸºäºThreadLocalå»æ“ä½œThreadLocalMap</p></li><li><p>ThreadLocalMapæœ¬èº«å°±æ˜¯åŸºäºEntry[]å®ç°çš„ï¼Œå› ä¸ºä¸€ä¸ªçº¿ç¨‹å¯ä»¥ç»‘å®šå¤šä¸ªThreadLocalï¼Œè¿™æ ·ä¸€æ¥ï¼Œå¯èƒ½éœ€è¦å­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œæ‰€ä»¥é‡‡ç”¨Entry[]çš„å½¢å¼å®ç°ã€‚</p></li><li><p>æ¯ä¸€ä¸ªç°æœ‰éƒ½è‡ªå·±ç‹¬ç«‹çš„ThreadLocalMapï¼Œå†åŸºäºThreadLocalå¯¹è±¡æœ¬èº«ä½œä¸ºkeyï¼Œå¯¹valueè¿›è¡Œå­˜å–</p></li><li><p>ThreadLocalMapçš„keyæ˜¯ä¸€ä¸ªå¼±å¼•ç”¨ï¼Œå¼±å¼•ç”¨çš„ç‰¹ç‚¹æ˜¯ï¼Œå³ä¾¿æœ‰å¼±å¼•ç”¨ï¼Œåœ¨GCæ—¶ï¼Œä¹Ÿå¿…é¡»è¢«å›æ”¶ã€‚è¿™é‡Œæ˜¯ä¸ºäº†åœ¨ThreadLocalå¯¹è±¡å¤±å»å¼•ç”¨åï¼Œå¦‚æœkeyçš„å¼•ç”¨æ˜¯å¼ºå¼•ç”¨ï¼Œä¼šå¯¼è‡´ThreadLocalå¯¹è±¡æ— æ³•è¢«å›æ”¶</p></li></ul><p>ThreadLocalå†…å­˜æ³„æ¼é—®é¢˜ï¼š</p><ul><li><p>å¦‚æœThreadLocalå¼•ç”¨ä¸¢å¤±ï¼Œkeyå› ä¸ºå¼±å¼•ç”¨ä¼šè¢«GCå›æ”¶æ‰ï¼Œå¦‚æœåŒæ—¶çº¿ç¨‹è¿˜æ²¡æœ‰è¢«å›æ”¶ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå†…å­˜ä¸­çš„valueæ— æ³•è¢«å›æ”¶ï¼ŒåŒæ—¶ä¹Ÿæ— æ³•è¢«è·å–åˆ°ã€‚</p></li><li><p>åªéœ€è¦åœ¨ä½¿ç”¨å®Œæ¯•ThreadLocalå¯¹è±¡ä¹‹åï¼ŒåŠæ—¶çš„è°ƒç”¨removeæ–¹æ³•ï¼Œç§»é™¤Entryå³å¯</p></li></ul><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/e5c66dabcdb94dc2b375ba7cdb22471d.png" alt="" loading="lazy"></p><h2 id="äºŒã€å¯è§æ€§" tabindex="-1"><strong>äºŒã€å¯è§æ€§</strong> <a class="header-anchor" href="#äºŒã€å¯è§æ€§" aria-label="Permalink to &quot;**äºŒã€å¯è§æ€§**&quot;">â€‹</a></h2><h3 id="_2-1-ä»€ä¹ˆæ˜¯å¯è§æ€§" tabindex="-1">2.1 ä»€ä¹ˆæ˜¯å¯è§æ€§ <a class="header-anchor" href="#_2-1-ä»€ä¹ˆæ˜¯å¯è§æ€§" aria-label="Permalink to &quot;2.1 ä»€ä¹ˆæ˜¯å¯è§æ€§&quot;">â€‹</a></h3><p>å¯è§æ€§é—®é¢˜æ˜¯åŸºäºCPUä½ç½®å‡ºç°çš„ï¼ŒCPUå¤„ç†é€Ÿåº¦éå¸¸å¿«ï¼Œç›¸å¯¹CPUæ¥è¯´ï¼Œå»ä¸»å†…å­˜è·å–æ•°æ®è¿™ä¸ªäº‹æƒ…å¤ªæ…¢äº†ï¼ŒCPUå°±æä¾›äº†L1ï¼ŒL2ï¼ŒL3çš„ä¸‰çº§ç¼“å­˜ï¼Œæ¯æ¬¡å»ä¸»å†…å­˜æ‹¿å®Œæ•°æ®åï¼Œå°±ä¼šå­˜å‚¨åˆ°CPUçš„ä¸‰çº§ç¼“å­˜ï¼Œæ¯æ¬¡å»ä¸‰çº§ç¼“å­˜æ‹¿æ•°æ®ï¼Œæ•ˆç‡è‚¯å®šä¼šæå‡ã€‚</p><p>è¿™å°±å¸¦æ¥äº†é—®é¢˜ï¼Œç°åœ¨CPUéƒ½æ˜¯å¤šæ ¸ï¼Œæ¯ä¸ªçº¿ç¨‹çš„å·¥ä½œå†…å­˜ï¼ˆCPUä¸‰çº§ç¼“å­˜ï¼‰éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¼šå‘ŠçŸ¥æ¯ä¸ªçº¿ç¨‹ä¸­åšä¿®æ”¹æ—¶ï¼Œåªæ”¹è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œæ²¡æœ‰åŠæ—¶çš„åŒæ­¥åˆ°ä¸»å†…å­˜ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/b3e82a21b18741a1ab3898e3c3ce95a7.png" alt="" loading="lazy"></p><p>å¯è§æ€§é—®é¢˜çš„ä»£ç é€»è¾‘</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private static boolean flag = true;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while (flag) {</span></span>
<span class="line"><span>            // ....</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        System.out.println(&quot;t1çº¿ç¨‹ç»“æŸ&quot;);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(10);</span></span>
<span class="line"><span>    flag = false;</span></span>
<span class="line"><span>    System.out.println(&quot;ä¸»çº¿ç¨‹å°†flagæ”¹ä¸ºfalse&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_2-2-è§£å†³å¯è§æ€§çš„æ–¹å¼" tabindex="-1">2.2 è§£å†³å¯è§æ€§çš„æ–¹å¼ <a class="header-anchor" href="#_2-2-è§£å†³å¯è§æ€§çš„æ–¹å¼" aria-label="Permalink to &quot;2.2 è§£å†³å¯è§æ€§çš„æ–¹å¼&quot;">â€‹</a></h3><h4 id="_2-2-1-volatile" tabindex="-1">2.2.1 volatile <a class="header-anchor" href="#_2-2-1-volatile" aria-label="Permalink to &quot;2.2.1 volatile&quot;">â€‹</a></h4><p>volatileæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨æ¥ä¿®é¥°æˆå‘˜å˜é‡ã€‚</p><p>å¦‚æœå±æ€§è¢«volatileä¿®é¥°ï¼Œç›¸å½“äºä¼šå‘Šè¯‰CPUï¼Œå¯¹å½“å‰å±æ€§çš„æ“ä½œï¼Œä¸å…è®¸ä½¿ç”¨CPUçš„ç¼“å­˜ï¼Œå¿…é¡»å»å’Œä¸»å†…å­˜æ“ä½œ</p><p>volatileçš„å†…å­˜è¯­ä¹‰ï¼š</p><ul><li><p>volatileå±æ€§è¢«å†™ï¼šå½“å†™ä¸€ä¸ªvolatileå˜é‡ï¼ŒJMMä¼šå°†å½“å‰çº¿ç¨‹å¯¹åº”çš„CPUç¼“å­˜åŠæ—¶çš„åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­</p></li><li><p>volatileå±æ€§è¢«è¯»ï¼šå½“è¯»ä¸€ä¸ªvolatileå˜é‡ï¼ŒJMMä¼šå°†å¯¹åº”çš„CPUç¼“å­˜ä¸­çš„å†…å­˜è®¾ç½®ä¸ºæ— æ•ˆï¼Œå¿…é¡»å»ä¸»å†…å­˜ä¸­é‡æ–°è¯»å–å…±äº«å˜é‡</p></li></ul><p>å…¶å®åŠ äº†volatileå°±æ˜¯å‘ŠçŸ¥CPUï¼Œå¯¹å½“å‰å±æ€§çš„è¯»å†™æ“ä½œï¼Œä¸å…è®¸ä½¿ç”¨CPUç¼“å­˜ï¼ŒåŠ äº†volatileä¿®é¥°çš„å±æ€§ï¼Œä¼šåœ¨è½¬ä¸ºæ±‡ç¼–ä¹‹ååï¼Œè¿½åŠ ä¸€ä¸ªlockçš„å‰ç¼€ï¼ŒCPUæ‰§è¡Œè¿™ä¸ªæŒ‡ä»¤æ—¶ï¼Œå¦‚æœå¸¦æœ‰lockå‰ç¼€ä¼šåšä¸¤ä¸ªäº‹æƒ…ï¼š</p><ul><li><p>å°†å½“å‰å¤„ç†å™¨ç¼“å­˜è¡Œçš„æ•°æ®å†™å›åˆ°ä¸»å†…å­˜</p></li><li><p>è¿™ä¸ªå†™å›çš„æ•°æ®ï¼Œåœ¨å…¶ä»–çš„CPUå†…æ ¸çš„ç¼“å­˜ä¸­ï¼Œç›´æ¥æ— æ•ˆã€‚</p></li></ul><p><strong>æ€»ç»“ï¼švolatileå°±æ˜¯è®©CPUæ¯æ¬¡æ“ä½œè¿™ä¸ªæ•°æ®æ—¶ï¼Œå¿…é¡»ç«‹å³åŒæ­¥åˆ°ä¸»å†…å­˜ï¼Œä»¥åŠä»ä¸»å†…å­˜è¯»å–æ•°æ®ã€‚</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private volatile static boolean flag = true;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while (flag) {</span></span>
<span class="line"><span>            // ....</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        System.out.println(&quot;t1çº¿ç¨‹ç»“æŸ&quot;);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(10);</span></span>
<span class="line"><span>    flag = false;</span></span>
<span class="line"><span>    System.out.println(&quot;ä¸»çº¿ç¨‹å°†flagæ”¹ä¸ºfalse&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-2-2-synchronized" tabindex="-1">2.2.2 synchronized <a class="header-anchor" href="#_2-2-2-synchronized" aria-label="Permalink to &quot;2.2.2 synchronized&quot;">â€‹</a></h4><p>synchronizedä¹Ÿæ˜¯å¯ä»¥è§£å†³å¯è§æ€§é—®é¢˜çš„ï¼Œsynchronizedçš„å†…å­˜è¯­ä¹‰ã€‚</p><p>å¦‚æœæ¶‰åŠåˆ°äº†synchronizedçš„åŒæ­¥ä»£ç å—æˆ–è€…æ˜¯åŒæ­¥æ–¹æ³•ï¼Œè·å–é”èµ„æºä¹‹åï¼Œå°†å†…éƒ¨æ¶‰åŠåˆ°çš„å˜é‡ä»CPUç¼“å­˜ä¸­ç§»é™¤ï¼Œå¿…é¡»å»ä¸»å†…å­˜ä¸­é‡æ–°æ‹¿æ•°æ®ï¼Œè€Œä¸”åœ¨é‡Šæ”¾é”ä¹‹åï¼Œä¼šç«‹å³å°†CPUç¼“å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ä¸»å†…å­˜ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private static boolean flag = true;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while (flag) {</span></span>
<span class="line"><span>            synchronized (MiTest.class){</span></span>
<span class="line"><span>                //...</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            System.out.println(111);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        System.out.println(&quot;t1çº¿ç¨‹ç»“æŸ&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(10);</span></span>
<span class="line"><span>    flag = false;</span></span>
<span class="line"><span>    System.out.println(&quot;ä¸»çº¿ç¨‹å°†flagæ”¹ä¸ºfalse&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-2-3-lock" tabindex="-1">2.2.3 Lock <a class="header-anchor" href="#_2-2-3-lock" aria-label="Permalink to &quot;2.2.3 Lock&quot;">â€‹</a></h4><p>Locké”ä¿è¯å¯è§æ€§çš„æ–¹å¼å’Œsynchronizedå®Œå…¨ä¸åŒï¼ŒsynchronizedåŸºäºä»–çš„å†…å­˜è¯­ä¹‰ï¼Œåœ¨è·å–é”å’Œé‡Šæ”¾é”æ—¶ï¼Œå¯¹CPUç¼“å­˜åšä¸€ä¸ªåŒæ­¥åˆ°ä¸»å†…å­˜çš„æ“ä½œã€‚</p><p>Locké”æ˜¯åŸºäºvolatileå®ç°çš„ã€‚Locké”å†…éƒ¨å†è¿›è¡ŒåŠ é”å’Œé‡Šæ”¾é”æ—¶ï¼Œä¼šå¯¹ä¸€ä¸ªç”±volatileä¿®é¥°çš„stateå±æ€§è¿›è¡ŒåŠ å‡æ“ä½œã€‚</p><p>å¦‚æœå¯¹volatileä¿®é¥°çš„å±æ€§è¿›è¡Œå†™æ“ä½œï¼ŒCPUä¼šæ‰§è¡Œå¸¦æœ‰lockå‰ç¼€çš„æŒ‡ä»¤ï¼ŒCPUä¼šå°†ä¿®æ”¹çš„æ•°æ®ï¼Œä»CPUç¼“å­˜ç«‹å³åŒæ­¥åˆ°ä¸»å†…å­˜ï¼ŒåŒæ—¶ä¹Ÿä¼šå°†å…¶ä»–çš„å±æ€§ä¹Ÿç«‹å³åŒæ­¥åˆ°ä¸»å†…å­˜ä¸­ã€‚è¿˜ä¼šå°†å…¶ä»–CPUç¼“å­˜è¡Œä¸­çš„è¿™ä¸ªæ•°æ®è®¾ç½®ä¸ºæ— æ•ˆï¼Œå¿…é¡»é‡æ–°ä»ä¸»å†…å­˜ä¸­æ‹‰å–ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private static boolean flag = true;</span></span>
<span class="line"><span>private static Lock lock = new ReentrantLock();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>        while (flag) {</span></span>
<span class="line"><span>            lock.lock();</span></span>
<span class="line"><span>            try{</span></span>
<span class="line"><span>                //...</span></span>
<span class="line"><span>            }finally {</span></span>
<span class="line"><span>                lock.unlock();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        System.out.println(&quot;t1çº¿ç¨‹ç»“æŸ&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    t1.start();</span></span>
<span class="line"><span>    Thread.sleep(10);</span></span>
<span class="line"><span>    flag = false;</span></span>
<span class="line"><span>    System.out.println(&quot;ä¸»çº¿ç¨‹å°†flagæ”¹ä¸ºfalse&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-2-4-final" tabindex="-1">2.2.4 final <a class="header-anchor" href="#_2-2-4-final" aria-label="Permalink to &quot;2.2.4 final&quot;">â€‹</a></h4><p>finalä¿®é¥°çš„å±æ€§ï¼Œåœ¨è¿è¡ŒæœŸé—´æ˜¯ä¸å…è®¸ä¿®æ”¹çš„ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±é—´æ¥çš„ä¿è¯äº†å¯è§æ€§ï¼Œæ‰€æœ‰å¤šçº¿ç¨‹è¯»å–finalå±æ€§ï¼Œå€¼è‚¯å®šæ˜¯ä¸€æ ·ã€‚</p><p>finalå¹¶ä¸æ˜¯è¯´æ¯æ¬¡å–æ•°æ®ä»ä¸»å†…å­˜è¯»å–ï¼Œä»–æ²¡æœ‰è¿™ä¸ªå¿…è¦ï¼Œè€Œä¸”finalå’Œvolatileæ˜¯ä¸å…è®¸åŒæ—¶ä¿®é¥°ä¸€ä¸ªå±æ€§çš„</p><p>finalä¿®é¥°çš„å†…å®¹å·²ç»ä¸å…è®¸å†æ¬¡è¢«å†™äº†ï¼Œè€Œvolatileæ˜¯ä¿è¯æ¯æ¬¡è¯»å†™æ•°æ®å»ä¸»å†…å­˜è¯»å–ï¼Œå¹¶ä¸”volatileä¼šå½±å“ä¸€å®šçš„æ€§èƒ½ï¼Œå°±ä¸éœ€è¦åŒæ—¶ä¿®é¥°ã€‚</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/b4dca6c8368846fab361bb8435493e4d.png" alt="" loading="lazy"></p><h2 id="ä¸‰ã€æœ‰åºæ€§" tabindex="-1"><strong>ä¸‰ã€æœ‰åºæ€§</strong> <a class="header-anchor" href="#ä¸‰ã€æœ‰åºæ€§" aria-label="Permalink to &quot;**ä¸‰ã€æœ‰åºæ€§**&quot;">â€‹</a></h2><h3 id="_3-1-ä»€ä¹ˆæ˜¯æœ‰åºæ€§" tabindex="-1">3.1 ä»€ä¹ˆæ˜¯æœ‰åºæ€§ <a class="header-anchor" href="#_3-1-ä»€ä¹ˆæ˜¯æœ‰åºæ€§" aria-label="Permalink to &quot;3.1 ä»€ä¹ˆæ˜¯æœ‰åºæ€§&quot;">â€‹</a></h3><p>åœ¨Javaä¸­ï¼Œ.javaæ–‡ä»¶ä¸­çš„å†…å®¹ä¼šè¢«ç¼–è¯‘ï¼Œåœ¨æ‰§è¡Œå‰éœ€è¦å†æ¬¡è½¬ä¸ºCPUå¯ä»¥è¯†åˆ«çš„æŒ‡ä»¤ï¼ŒCPUåœ¨æ‰§è¡Œè¿™äº›æŒ‡ä»¤æ—¶ï¼Œä¸ºäº†æå‡æ‰§è¡Œæ•ˆç‡ï¼Œåœ¨ä¸å½±å“æœ€ç»ˆç»“æœçš„å‰æä¸‹ï¼ˆæ»¡è¶³ä¸€äº›è¦æ±‚ï¼‰ï¼Œä¼šå¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’ã€‚</p><p>æŒ‡ä»¤ä¹±åºæ‰§è¡Œçš„åŸå› ï¼Œæ˜¯ä¸ºäº†å°½å¯èƒ½çš„å‘æŒ¥CPUçš„æ€§èƒ½ã€‚</p><p>Javaä¸­çš„ç¨‹åºæ˜¯ä¹±åºæ‰§è¡Œçš„ã€‚</p><p>Javaç¨‹åºéªŒè¯ä¹±åºæ‰§è¡Œæ•ˆæœï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>static int a,b,x,y;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    for (int i = 0; i &lt; Integer.MAX_VALUE; i++) {</span></span>
<span class="line"><span>        a = 0;</span></span>
<span class="line"><span>        b = 0;</span></span>
<span class="line"><span>        x = 0;</span></span>
<span class="line"><span>        y = 0;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        Thread t1 = new Thread(() -&gt; {</span></span>
<span class="line"><span>            a = 1;</span></span>
<span class="line"><span>            x = b;</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>        Thread t2 = new Thread(() -&gt; {</span></span>
<span class="line"><span>            b = 1;</span></span>
<span class="line"><span>            y = a;</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        t1.start();</span></span>
<span class="line"><span>        t2.start();</span></span>
<span class="line"><span>        t1.join();</span></span>
<span class="line"><span>        t2.join();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        if(x == 0 &amp;&amp; y == 0){</span></span>
<span class="line"><span>            System.out.println(&quot;ç¬¬&quot; + i + &quot;æ¬¡ï¼Œx = &quot;+ x + &quot;,y = &quot; + y);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>å•ä¾‹æ¨¡å¼ç”±äºæŒ‡ä»¤é‡æ’åºå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼š</p><p>çº¿ç¨‹å¯èƒ½ä¼šæ‹¿åˆ°æ²¡æœ‰åˆå§‹åŒ–çš„å¯¹è±¡ï¼Œå¯¼è‡´åœ¨ä½¿ç”¨æ—¶ï¼Œå¯èƒ½ç”±äºå†…éƒ¨å±æ€§ä¸ºé»˜è®¤å€¼ï¼Œå¯¼è‡´å‡ºç°ä¸€äº›ä¸å¿…è¦çš„é—®é¢˜</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private static volatile MiTest test;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private MiTest(){}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static MiTest getInstance(){</span></span>
<span class="line"><span>    // B</span></span>
<span class="line"><span>    if(test  == null){</span></span>
<span class="line"><span>        synchronized (MiTest.class){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            if(test == null){</span></span>
<span class="line"><span>                // A   ,  å¼€è¾Ÿç©ºé—´ï¼ŒtestæŒ‡å‘åœ°å€ï¼Œåˆå§‹åŒ–</span></span>
<span class="line"><span>                test = new MiTest();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return test;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_3-2-as-if-serial" tabindex="-1">3.2 as-if-serial <a class="header-anchor" href="#_3-2-as-if-serial" aria-label="Permalink to &quot;3.2 as-if-serial&quot;">â€‹</a></h3><p>as-if-serialè¯­ä¹‰ï¼š</p><p>ä¸è®ºæŒ‡å®šå¦‚ä½•é‡æ’åºï¼Œéœ€è¦ä¿è¯å•çº¿ç¨‹çš„ç¨‹åºæ‰§è¡Œç»“æœæ˜¯ä¸å˜çš„ã€‚</p><p>è€Œä¸”å¦‚æœå­˜åœ¨ä¾èµ–çš„å…³ç³»ï¼Œé‚£ä¹ˆä¹Ÿä¸å¯ä»¥åšæŒ‡ä»¤é‡æ’ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// è¿™ç§æƒ…å†µè‚¯å®šä¸èƒ½åšæŒ‡ä»¤é‡æ’åº</span></span>
<span class="line"><span>int i = 0;</span></span>
<span class="line"><span>i++;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// è¿™ç§æƒ…å†µè‚¯å®šä¸èƒ½åšæŒ‡ä»¤é‡æ’åº</span></span>
<span class="line"><span>int j = 200;</span></span>
<span class="line"><span>j * 100;</span></span>
<span class="line"><span>j + 100;</span></span>
<span class="line"><span>// è¿™é‡Œå³ä¾¿å‡ºç°äº†æŒ‡ä»¤é‡æ’ï¼Œä¹Ÿä¸å¯ä»¥å½±å“æœ€ç»ˆçš„ç»“æœï¼Œ20100</span></span></code></pre></div><h3 id="_3-3-happens-before" tabindex="-1">3.3 happens-before <a class="header-anchor" href="#_3-3-happens-before" aria-label="Permalink to &quot;3.3 happens-before&quot;">â€‹</a></h3><p><strong>å…·ä½“è§„åˆ™ï¼š</strong><br> ã€€ã€€1. å•çº¿ç¨‹happen-beforeåŸåˆ™ï¼šåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œhappen-beforeåé¢çš„æ“ä½œã€‚ã€€ã€€2. é”çš„happen-beforeåŸåˆ™ï¼šåŒä¸€ä¸ªé”çš„unlockæ“ä½œhappen-beforeæ­¤é”çš„lockæ“ä½œã€‚ã€€ã€€3. volatileçš„happen-beforeåŸåˆ™ï¼š å¯¹ä¸€ä¸ªvolatileå˜é‡çš„å†™æ“ä½œhappen-beforeå¯¹æ­¤å˜é‡çš„ä»»æ„æ“ä½œã€‚ã€€ã€€4. happen-beforeçš„ä¼ é€’æ€§åŸåˆ™ï¼š å¦‚æœAæ“ä½œ happen-before Bæ“ä½œï¼ŒBæ“ä½œhappen-before Cæ“ä½œï¼Œé‚£ä¹ˆAæ“ä½œhappen-before Cæ“ä½œã€‚ã€€ã€€5. çº¿ç¨‹å¯åŠ¨çš„happen-beforeåŸåˆ™ï¼šåŒä¸€ä¸ªçº¿ç¨‹çš„startæ–¹æ³•happen-beforeæ­¤çº¿ç¨‹çš„å…¶å®ƒæ–¹æ³•ã€‚ã€€ã€€6. çº¿ç¨‹ä¸­æ–­çš„happen-beforeåŸåˆ™ï¼šå¯¹çº¿ç¨‹interruptæ–¹æ³•çš„è°ƒç”¨happen-beforeè¢«ä¸­æ–­çº¿ç¨‹çš„æ£€æµ‹åˆ°ä¸­æ–­å‘é€çš„ä»£ç ã€‚ã€€ã€€7. çº¿ç¨‹ç»ˆç»“çš„happen-beforeåŸåˆ™ï¼šçº¿ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½happen-beforeçº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ã€‚ã€€ã€€8. å¯¹è±¡åˆ›å»ºçš„happen-beforeåŸåˆ™ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆå…ˆäºä»–çš„finalizeæ–¹æ³•è°ƒç”¨ã€‚<strong>JMMåªæœ‰åœ¨ä¸å‡ºç°ä¸Šè¿°8ä¸­æƒ…å†µæ—¶ï¼Œæ‰ä¸ä¼šè§¦å‘æŒ‡ä»¤é‡æ’æ•ˆæœã€‚</strong></p><p>ä¸éœ€è¦è¿‡åˆ†çš„å…³æ³¨happens-beforeåŸåˆ™ï¼Œåªéœ€è¦å¯ä»¥å†™å‡ºçº¿ç¨‹å®‰å…¨çš„ä»£ç å°±å¯ä»¥äº†ã€‚</p><h3 id="_3-4-volatile" tabindex="-1">3.4 volatile <a class="header-anchor" href="#_3-4-volatile" aria-label="Permalink to &quot;3.4 volatile&quot;">â€‹</a></h3><p>å¦‚æœéœ€è¦è®©ç¨‹åºå¯¹æŸä¸€ä¸ªå±æ€§çš„æ“ä½œä¸å‡ºç°æŒ‡ä»¤é‡æ’ï¼Œé™¤äº†æ»¡è¶³happens-beforeåŸåˆ™ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åŸºäºvolatileä¿®é¥°å±æ€§ï¼Œä»è€Œå¯¹è¿™ä¸ªå±æ€§çš„æ“ä½œï¼Œå°±ä¸ä¼šå‡ºç°æŒ‡ä»¤é‡æ’çš„é—®é¢˜äº†ã€‚</p><p>volatileå¦‚ä½•å®ç°çš„ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Ÿ</p><p>å†…å­˜å±éšœæ¦‚å¿µã€‚å°†å†…å­˜å±éšœçœ‹æˆä¸€æ¡æŒ‡ä»¤ã€‚</p><p>ä¼šåœ¨ä¸¤ä¸ªæ“ä½œä¹‹é—´ï¼Œæ·»åŠ ä¸Šä¸€é“æŒ‡ä»¤ï¼Œè¿™ä¸ªæŒ‡ä»¤å°±å¯ä»¥é¿å…ä¸Šä¸‹æ‰§è¡Œçš„å…¶ä»–æŒ‡ä»¤è¿›è¡Œé‡æ’åºã€‚</p><h1 id="ä¸‰ã€é”" tabindex="-1">ä¸‰ã€<strong>é”</strong> <a class="header-anchor" href="#ä¸‰ã€é”" aria-label="Permalink to &quot;ä¸‰ã€**é”**&quot;">â€‹</a></h1><h2 id="ä¸€ã€é”çš„åˆ†ç±»" tabindex="-1">ä¸€ã€<strong>é”çš„åˆ†ç±»</strong> <a class="header-anchor" href="#ä¸€ã€é”çš„åˆ†ç±»" aria-label="Permalink to &quot;ä¸€ã€**é”çš„åˆ†ç±»**&quot;">â€‹</a></h2><h3 id="_1-1-å¯é‡å…¥é”ã€ä¸å¯é‡å…¥é”" tabindex="-1">1.1 å¯é‡å…¥é”ã€ä¸å¯é‡å…¥é” <a class="header-anchor" href="#_1-1-å¯é‡å…¥é”ã€ä¸å¯é‡å…¥é”" aria-label="Permalink to &quot;1.1 å¯é‡å…¥é”ã€ä¸å¯é‡å…¥é”&quot;">â€‹</a></h3><p>Javaä¸­æä¾›çš„synchronizedï¼ŒReentrantLockï¼ŒReentrantReadWriteLockéƒ½æ˜¯å¯é‡å…¥é”ã€‚</p><p><strong>é‡å…¥</strong>ï¼šå½“å‰çº¿ç¨‹è·å–åˆ°Aé”ï¼Œåœ¨è·å–ä¹‹åå°è¯•å†æ¬¡è·å–Aé”æ˜¯å¯ä»¥ç›´æ¥æ‹¿åˆ°çš„ã€‚</p><p><strong>ä¸å¯é‡å…¥</strong>ï¼šå½“å‰çº¿ç¨‹è·å–åˆ°Aé”ï¼Œåœ¨è·å–ä¹‹åå°è¯•å†æ¬¡è·å–Aé”ï¼Œæ— æ³•è·å–åˆ°çš„ï¼Œå› ä¸ºAé”è¢«å½“å‰çº¿ç¨‹å ç”¨ç€ï¼Œéœ€è¦ç­‰å¾…è‡ªå·±é‡Šæ”¾é”å†è·å–é”ã€‚</p><h3 id="_1-2-ä¹è§‚é”ã€æ‚²è§‚é”" tabindex="-1">1.2 ä¹è§‚é”ã€æ‚²è§‚é” <a class="header-anchor" href="#_1-2-ä¹è§‚é”ã€æ‚²è§‚é”" aria-label="Permalink to &quot;1.2 ä¹è§‚é”ã€æ‚²è§‚é”&quot;">â€‹</a></h3><p>Javaä¸­æä¾›çš„synchronizedï¼ŒReentrantLockï¼ŒReentrantReadWriteLockéƒ½æ˜¯æ‚²è§‚é”ã€‚</p><p>Javaä¸­æä¾›çš„CASæ“ä½œï¼Œå°±æ˜¯ä¹è§‚é”çš„ä¸€ç§å®ç°ã€‚</p><p><strong>æ‚²è§‚é”</strong>ï¼šè·å–ä¸åˆ°é”èµ„æºæ—¶ï¼Œä¼šå°†å½“å‰çº¿ç¨‹æŒ‚èµ·ï¼ˆè¿›å…¥BLOCKEDã€WAITINGï¼‰ï¼Œçº¿ç¨‹æŒ‚èµ·ä¼šæ¶‰åŠåˆ°ç”¨æˆ·æ€å’Œå†…æ ¸çš„å¤ªçš„åˆ‡æ¢ï¼Œè€Œè¿™ç§åˆ‡æ¢æ˜¯æ¯”è¾ƒæ¶ˆè€—èµ„æºçš„ã€‚</p><ul><li><p>ç”¨æˆ·æ€ï¼šJVMå¯ä»¥è‡ªè¡Œæ‰§è¡Œçš„æŒ‡ä»¤ï¼Œä¸éœ€è¦å€ŸåŠ©æ“ä½œç³»ç»Ÿæ‰§è¡Œã€‚</p></li><li><p>å†…æ ¸æ€ï¼šJVMä¸å¯ä»¥è‡ªè¡Œæ‰§è¡Œï¼Œéœ€è¦æ“ä½œç³»ç»Ÿæ‰å¯ä»¥æ‰§è¡Œã€‚</p></li></ul><p><strong>ä¹è§‚é”</strong>ï¼šè·å–ä¸åˆ°é”èµ„æºï¼Œå¯ä»¥å†æ¬¡è®©CPUè°ƒåº¦ï¼Œé‡æ–°å°è¯•è·å–é”èµ„æºã€‚</p><p>AtomicåŸå­æ€§ç±»ä¸­ï¼Œå°±æ˜¯åŸºäºCASä¹è§‚é”å®ç°çš„ã€‚</p><h3 id="_1-3-å…¬å¹³é”ã€éå…¬å¹³é”" tabindex="-1">1.3 å…¬å¹³é”ã€éå…¬å¹³é” <a class="header-anchor" href="#_1-3-å…¬å¹³é”ã€éå…¬å¹³é”" aria-label="Permalink to &quot;1.3 å…¬å¹³é”ã€éå…¬å¹³é”&quot;">â€‹</a></h3><p>Javaä¸­æä¾›çš„synchronizedåªèƒ½æ˜¯éå…¬å¹³é”ã€‚</p><p>Javaä¸­æä¾›çš„ReentrantLockï¼ŒReentrantReadWriteLockå¯ä»¥å®ç°å…¬å¹³é”å’Œéå…¬å¹³é”</p><p><strong>å…¬å¹³é”</strong>ï¼šçº¿ç¨‹Aè·å–åˆ°äº†é”èµ„æºï¼Œçº¿ç¨‹Bæ²¡æœ‰æ‹¿åˆ°ï¼Œçº¿ç¨‹Bå»æ’é˜Ÿï¼Œçº¿ç¨‹Cæ¥äº†ï¼Œé”è¢«AæŒæœ‰ï¼ŒåŒæ—¶çº¿ç¨‹Båœ¨æ’é˜Ÿã€‚ç›´æ¥æ’åˆ°Bçš„åé¢ï¼Œç­‰å¾…Bæ‹¿åˆ°é”èµ„æºæˆ–è€…æ˜¯Bå–æ¶ˆåï¼Œæ‰å¯ä»¥å°è¯•å»ç«äº‰é”èµ„æºã€‚</p><p><strong>éå…¬å¹³é”</strong>ï¼šçº¿ç¨‹Aè·å–åˆ°äº†é”èµ„æºï¼Œçº¿ç¨‹Bæ²¡æœ‰æ‹¿åˆ°ï¼Œçº¿ç¨‹Bå»æ’é˜Ÿï¼Œçº¿ç¨‹Cæ¥äº†ï¼Œå…ˆå°è¯•ç«äº‰ä¸€æ³¢</p><ul><li><p>æ‹¿åˆ°é”èµ„æºï¼šå¼€å¿ƒï¼Œæ’é˜ŸæˆåŠŸã€‚</p></li><li><p>æ²¡æœ‰æ‹¿åˆ°é”èµ„æºï¼šä¾ç„¶è¦æ’åˆ°Bçš„åé¢ï¼Œç­‰å¾…Bæ‹¿åˆ°é”èµ„æºæˆ–è€…æ˜¯Bå–æ¶ˆåï¼Œæ‰å¯ä»¥å°è¯•å»ç«äº‰é”èµ„æºã€‚</p></li></ul><h3 id="_1-4-äº’æ–¥é”ã€å…±äº«é”" tabindex="-1">1.4 äº’æ–¥é”ã€å…±äº«é” <a class="header-anchor" href="#_1-4-äº’æ–¥é”ã€å…±äº«é”" aria-label="Permalink to &quot;1.4 äº’æ–¥é”ã€å…±äº«é”&quot;">â€‹</a></h3><p>Javaä¸­æä¾›çš„synchronizedã€ReentrantLockæ˜¯äº’æ–¥é”ã€‚</p><p>Javaä¸­æä¾›çš„ReentrantReadWriteLockï¼Œæœ‰äº’æ–¥é”ä¹Ÿæœ‰å…±äº«é”ã€‚</p><p><strong>äº’æ–¥é”</strong>ï¼šåŒä¸€æ—¶é—´ç‚¹ï¼Œåªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰è€…å½“å‰äº’æ–¥é”ã€‚</p><p><strong>å…±äº«é”</strong>ï¼šåŒä¸€æ—¶é—´ç‚¹ï¼Œå½“å‰å…±äº«é”å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æŒæœ‰ã€‚</p><h2 id="äºŒã€æ·±å…¥synchronized" tabindex="-1">äºŒã€<strong>æ·±å…¥synchronized</strong> <a class="header-anchor" href="#äºŒã€æ·±å…¥synchronized" aria-label="Permalink to &quot;äºŒã€**æ·±å…¥synchronized**&quot;">â€‹</a></h2><h3 id="_2-1-ç±»é”ã€å¯¹è±¡é”" tabindex="-1">2.1 ç±»é”ã€å¯¹è±¡é” <a class="header-anchor" href="#_2-1-ç±»é”ã€å¯¹è±¡é”" aria-label="Permalink to &quot;2.1 ç±»é”ã€å¯¹è±¡é”&quot;">â€‹</a></h3><p>synchronizedçš„ä½¿ç”¨ä¸€èˆ¬å°±æ˜¯åŒæ­¥æ–¹æ³•å’ŒåŒæ­¥ä»£ç å—ã€‚</p><p>synchronizedçš„é”æ˜¯åŸºäºå¯¹è±¡å®ç°çš„ã€‚</p><p>å¦‚æœä½¿ç”¨åŒæ­¥æ–¹æ³•</p><ul><li><p>staticï¼šæ­¤æ—¶ä½¿ç”¨çš„æ˜¯å½“å‰ç±».classä½œä¸ºé”ï¼ˆç±»é”ï¼‰</p></li><li><p>éstaticï¼šæ­¤æ—¶ä½¿ç”¨çš„æ˜¯å½“å‰å¯¹è±¡åšä¸ºé”ï¼ˆå¯¹è±¡é”ï¼‰</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public class MiTest {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void main(String[] args) {</span></span>
<span class="line"><span>        // é”çš„æ˜¯ï¼Œå½“å‰Test.class</span></span>
<span class="line"><span>        Test.a();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        Test test = new Test();</span></span>
<span class="line"><span>        // é”çš„æ˜¯newå‡ºæ¥çš„testå¯¹è±¡</span></span>
<span class="line"><span>        test.b();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Test{</span></span>
<span class="line"><span>    public static synchronized void a(){</span></span>
<span class="line"><span>        System.out.println(&quot;1111&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public synchronized void b(){</span></span>
<span class="line"><span>        System.out.println(&quot;2222&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_2-2-synchronizedçš„ä¼˜åŒ–" tabindex="-1">2.2 synchronizedçš„ä¼˜åŒ– <a class="header-anchor" href="#_2-2-synchronizedçš„ä¼˜åŒ–" aria-label="Permalink to &quot;2.2 synchronizedçš„ä¼˜åŒ–&quot;">â€‹</a></h3><p>åœ¨JDK1.5çš„æ—¶å€™ï¼ŒDoug Leeæ¨å‡ºäº†ReentrantLockï¼Œlockçš„æ€§èƒ½è¿œé«˜äºsynchronizedï¼Œæ‰€ä»¥JDKå›¢é˜Ÿå°±åœ¨JDK1.6ä¸­ï¼Œå¯¹synchronizedåšäº†å¤§é‡çš„ä¼˜åŒ–ã€‚</p><p><strong>é”æ¶ˆé™¤</strong>ï¼šåœ¨synchronizedä¿®é¥°çš„ä»£ç ä¸­ï¼Œå¦‚æœä¸å­˜åœ¨æ“ä½œä¸´ç•Œèµ„æºçš„æƒ…å†µï¼Œä¼šè§¦å‘é”æ¶ˆé™¤ï¼Œä½ å³ä¾¿å†™äº†synchronizedï¼Œä»–ä¹Ÿä¸ä¼šè§¦å‘ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public synchronized void method(){</span></span>
<span class="line"><span>    // æ²¡æœ‰æ“ä½œä¸´ç•Œèµ„æº</span></span>
<span class="line"><span>    // æ­¤æ—¶è¿™ä¸ªæ–¹æ³•çš„synchronizedä½ å¯ä»¥è®¤ä¸ºæœ¨æœ‰~~</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>é”è†¨èƒ€</strong>ï¼šå¦‚æœåœ¨ä¸€ä¸ªå¾ªç¯ä¸­ï¼Œé¢‘ç¹çš„è·å–å’Œé‡Šæ”¾åšèµ„æºï¼Œè¿™æ ·å¸¦æ¥çš„æ¶ˆè€—å¾ˆå¤§ï¼Œé”è†¨èƒ€å°±æ˜¯å°†é”çš„èŒƒå›´æ‰©å¤§ï¼Œé¿å…é¢‘ç¹çš„ç«äº‰å’Œè·å–é”èµ„æºå¸¦æ¥ä¸å¿…è¦çš„æ¶ˆè€—ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public void method(){</span></span>
<span class="line"><span>    for(int i = 0;i &lt; 999999;i++){</span></span>
<span class="line"><span>        synchronized(å¯¹è±¡){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // è¿™æ˜¯ä¸Šé¢çš„ä»£ç ä¼šè§¦å‘é”è†¨èƒ€</span></span>
<span class="line"><span>    synchronized(å¯¹è±¡){</span></span>
<span class="line"><span>        for(int i = 0;i &lt; 999999;i++){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>é”å‡çº§</strong>ï¼šReentrantLockçš„å®ç°ï¼Œæ˜¯å…ˆåŸºäºä¹è§‚é”çš„CASå°è¯•è·å–é”èµ„æºï¼Œå¦‚æœæ‹¿ä¸åˆ°é”èµ„æºï¼Œæ‰ä¼šæŒ‚èµ·çº¿ç¨‹ã€‚synchronizedåœ¨JDK1.6ä¹‹å‰ï¼Œå®Œå…¨å°±æ˜¯è·å–ä¸åˆ°é”ï¼Œç«‹å³æŒ‚èµ·å½“å‰çº¿ç¨‹ï¼Œæ‰€ä»¥synchronizedæ€§èƒ½æ¯”è¾ƒå·®ã€‚</p><p>synchronizedå°±åœ¨JDK1.6åšäº†é”å‡çº§çš„ä¼˜åŒ–</p><ul><li><p><strong>æ— é”ã€åŒ¿ååå‘</strong>ï¼šå½“å‰å¯¹è±¡æ²¡æœ‰ä½œä¸ºé”å­˜åœ¨ã€‚</p></li><li><p><strong>åå‘é”</strong>ï¼šå¦‚æœå½“å‰é”èµ„æºï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨é¢‘ç¹çš„è·å–å’Œé‡Šæ”¾ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹è¿‡æ¥ï¼Œåªéœ€è¦åˆ¤æ–­ï¼Œå½“å‰æŒ‡å‘çš„çº¿ç¨‹æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹ ã€‚</p></li><li><p>å¦‚æœæ˜¯ï¼Œç›´æ¥æ‹¿ç€é”èµ„æºèµ°ã€‚</p></li><li><p>å¦‚æœå½“å‰çº¿ç¨‹ä¸æ˜¯æˆ‘ï¼ŒåŸºäºCASçš„æ–¹å¼ï¼Œå°è¯•å°†åå‘é”æŒ‡å‘å½“å‰çº¿ç¨‹ã€‚å¦‚æœè·å–ä¸åˆ°ï¼Œè§¦å‘é”å‡çº§ï¼Œå‡çº§ä¸ºè½»é‡çº§é”ã€‚ï¼ˆåå‘é”çŠ¶æ€å‡ºç°äº†é”ç«äº‰çš„æƒ…å†µï¼‰</p></li><li><p><strong>è½»é‡çº§é”</strong>ï¼šä¼šé‡‡ç”¨è‡ªæ—‹é”çš„æ–¹å¼å»é¢‘ç¹çš„ä»¥CASçš„å½¢å¼è·å–é”èµ„æºï¼ˆé‡‡ç”¨çš„æ˜¯<strong>è‡ªé€‚åº”è‡ªæ—‹é”</strong>ï¼‰</p></li><li><p>å¦‚æœæˆåŠŸè·å–åˆ°ï¼Œæ‹¿ç€é”èµ„æºèµ°</p></li><li><p>å¦‚æœè‡ªæ—‹äº†ä¸€å®šæ¬¡æ•°ï¼Œæ²¡æ‹¿åˆ°é”èµ„æºï¼Œé”å‡çº§ã€‚</p></li><li><p><strong>é‡é‡çº§é”</strong>ï¼šå°±æ˜¯æœ€ä¼ ç»Ÿçš„synchronizedæ–¹å¼ï¼Œæ‹¿ä¸åˆ°é”èµ„æºï¼Œå°±æŒ‚èµ·å½“å‰çº¿ç¨‹ã€‚ï¼ˆç”¨æˆ·æ€&amp;å†…æ ¸æ€ï¼‰</p></li></ul><h3 id="_2-3-synchronizedå®ç°åŸç†" tabindex="-1">2.3 synchronizedå®ç°åŸç† <a class="header-anchor" href="#_2-3-synchronizedå®ç°åŸç†" aria-label="Permalink to &quot;2.3 synchronizedå®ç°åŸç†&quot;">â€‹</a></h3><p>synchronizedæ˜¯åŸºäºå¯¹è±¡å®ç°çš„ã€‚</p><p>å…ˆè¦å¯¹Javaä¸­å¯¹è±¡åœ¨å †å†…å­˜çš„å­˜å‚¨æœ‰ä¸€ä¸ªäº†è§£ã€‚</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/5960ce8eb65d44c299d542fea1b61781.png" alt="" loading="lazy"></p><p>å±•å¼€MarkWord</p><p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg-blog.csdnimg.cn%2F20200314202610433.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ludHJvbmNoZW5n%2Csize_16%2Ccolor_FFFFFF%2Ct_70&amp;refer=http%3A%2F%2Fimg-blog.csdnimg.cn&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1659024071&amp;t=5135a8e6d07b807c6bb771ceafd8a227" alt="" loading="lazy"></p><p>MarkWordä¸­æ ‡è®°ç€å››ç§é”çš„ä¿¡æ¯ï¼šæ— é”ã€åå‘é”ã€è½»é‡çº§é”ã€</p><h3 id="_2-4-synchronizedçš„é”å‡çº§" tabindex="-1">2.4 synchronizedçš„é”å‡çº§ <a class="header-anchor" href="#_2-4-synchronizedçš„é”å‡çº§" aria-label="Permalink to &quot;2.4 synchronizedçš„é”å‡çº§&quot;">â€‹</a></h3><p>ä¸ºäº†å¯ä»¥åœ¨Javaä¸­çœ‹åˆ°å¯¹è±¡å¤´çš„MarkWordä¿¡æ¯ï¼Œéœ€è¦å¯¼å…¥ä¾èµ–</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&lt;dependency&gt;</span></span>
<span class="line"><span>    &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;</span></span>
<span class="line"><span>    &lt;artifactId&gt;jol-core&lt;/artifactId&gt;</span></span>
<span class="line"><span>    &lt;version&gt;0.9&lt;/version&gt;</span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span></code></pre></div><p>é”é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼€å¯äº†åå‘é”å»¶è¿Ÿã€‚</p><p>åå‘é”åœ¨å‡çº§ä¸ºè½»é‡çº§é”æ—¶ï¼Œä¼šæ¶‰åŠåˆ°åå‘é”æ’¤é”€ï¼Œéœ€è¦ç­‰åˆ°ä¸€ä¸ªå®‰å…¨ç‚¹ï¼ˆSTWï¼‰ï¼Œæ‰å¯ä»¥åšåå‘é”æ’¤é”€ï¼Œåœ¨æ˜çŸ¥é“æœ‰å¹¶å‘æƒ…å†µï¼Œå°±å¯ä»¥é€‰æ‹©ä¸å¼€å¯åå‘é”ï¼Œæˆ–è€…æ˜¯è®¾ç½®åå‘é”å»¶è¿Ÿå¼€å¯</p><p>å› ä¸ºJVMåœ¨å¯åŠ¨æ—¶ï¼Œéœ€è¦åŠ è½½å¤§é‡çš„.classæ–‡ä»¶åˆ°å†…å­˜ä¸­ï¼Œè¿™ä¸ªæ“ä½œä¼šæ¶‰åŠåˆ°synchronizedçš„ä½¿ç”¨ï¼Œä¸ºäº†é¿å…å‡ºç°åå‘é”æ’¤é”€æ“ä½œï¼ŒJVMå¯åŠ¨åˆæœŸï¼Œæœ‰ä¸€ä¸ªå»¶è¿Ÿ4så¼€å¯åå‘é”çš„æ“ä½œ</p><p>å¦‚æœæ­£å¸¸å¼€å¯åå‘é”äº†ï¼Œé‚£ä¹ˆä¸ä¼šå‡ºç°æ— é”çŠ¶æ€ï¼Œå¯¹è±¡ä¼šç›´æ¥å˜ä¸ºåŒ¿ååå‘</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    Thread.sleep(5000);</span></span>
<span class="line"><span>    Object o = new Object();</span></span>
<span class="line"><span>    System.out.println(ClassLayout.parseInstance(o).toPrintable());</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        synchronized (o){</span></span>
<span class="line"><span>            //t1  - åå‘é”</span></span>
<span class="line"><span>            System.out.println(&quot;t1:&quot; + ClassLayout.parseInstance(o).toPrintable());</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span>    //main - åå‘é” - è½»é‡çº§é”CAS - é‡é‡çº§é”</span></span>
<span class="line"><span>    synchronized (o){</span></span>
<span class="line"><span>        System.out.println(&quot;main:&quot; + ClassLayout.parseInstance(o).toPrintable());</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>æ•´ä¸ªé”å‡çº§çŠ¶æ€çš„è½¬å˜ï¼š</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/20d71edbf3dd438b95358d0169b69226.png" alt="" loading="lazy"></p><p>Lock Recordä»¥åŠObjectMonitorå­˜å‚¨çš„å†…å®¹</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/616fb837af0c4bcfac43e281d3d22e08.png" alt="" loading="lazy"></p><h3 id="_2-5-é‡é‡é”åº•å±‚objectmonitor" tabindex="-1">2.5 é‡é‡é”åº•å±‚ObjectMonitor <a class="header-anchor" href="#_2-5-é‡é‡é”åº•å±‚objectmonitor" aria-label="Permalink to &quot;2.5 é‡é‡é”åº•å±‚ObjectMonitor&quot;">â€‹</a></h3><p>éœ€è¦å»æ‰¾åˆ°openjdkï¼Œåœ¨ç™¾åº¦ä¸­ç›´æ¥æœç´¢openjdkï¼Œç¬¬ä¸€ä¸ªé“¾æ¥å°±æ˜¯</p><p>æ‰¾åˆ°ObjectMonitorçš„ä¸¤ä¸ªæ–‡ä»¶ï¼Œhppï¼Œcpp</p><p>å…ˆæŸ¥çœ‹æ ¸å¿ƒå±æ€§ï¼š<a href="http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/69087d08d473/src/share/vm/runtime/objectMonitor.hpp" target="_blank" rel="noreferrer">http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/69087d08d473/src/share/vm/runtime/objectMonitor.hpp</a></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ObjectMonitor() {</span></span>
<span class="line"><span>    _header       = NULL;   // headerå­˜å‚¨ç€MarkWord</span></span>
<span class="line"><span>    _count        = 0;      // ç«äº‰é”çš„çº¿ç¨‹ä¸ªæ•°</span></span>
<span class="line"><span>    _waiters      = 0,      // waitçš„çº¿ç¨‹ä¸ªæ•°</span></span>
<span class="line"><span>    _recursions   = 0;      // æ ‡è¯†å½“å‰synchronizedé”é‡å…¥çš„æ¬¡æ•°</span></span>
<span class="line"><span>    _object       = NULL;</span></span>
<span class="line"><span>    _owner        = NULL;   // æŒæœ‰é”çš„çº¿ç¨‹</span></span>
<span class="line"><span>    _WaitSet      = NULL;   // ä¿å­˜waitçš„çº¿ç¨‹ä¿¡æ¯ï¼ŒåŒå‘é“¾è¡¨</span></span>
<span class="line"><span>    _WaitSetLock  = 0 ;</span></span>
<span class="line"><span>    _Responsible  = NULL ;</span></span>
<span class="line"><span>    _succ         = NULL ;</span></span>
<span class="line"><span>    _cxq          = NULL ;  // è·å–é”èµ„æºå¤±è´¥åï¼Œçº¿ç¨‹è¦æ”¾åˆ°å½“å‰çš„å•å‘é“¾è¡¨ä¸­</span></span>
<span class="line"><span>    FreeNext      = NULL ;</span></span>
<span class="line"><span>    _EntryList    = NULL ;  // _cxqä»¥åŠè¢«å”¤é†’çš„WaitSetä¸­çš„çº¿ç¨‹ï¼Œåœ¨ä¸€å®šæœºåˆ¶ä¸‹ï¼Œä¼šæ”¾åˆ°EntryListä¸­</span></span>
<span class="line"><span>    _SpinFreq     = 0 ;</span></span>
<span class="line"><span>    _SpinClock    = 0 ;</span></span>
<span class="line"><span>    OwnerIsThread = 0 ;</span></span>
<span class="line"><span>    _previous_owner_tid = 0;</span></span>
<span class="line"><span>  }</span></span></code></pre></div><p>é€‚å½“çš„æŸ¥çœ‹å‡ ä¸ªC++ä¸­å®ç°çš„åŠ é”æµç¨‹</p><p><a href="http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/69087d08d473/src/share/vm/runtime/objectMonitor.cpp" target="_blank" rel="noreferrer">http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/69087d08d473/src/share/vm/runtime/objectMonitor.cpp</a></p><p>TryLock</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>int ObjectMonitor::TryLock (Thread * Self) {</span></span>
<span class="line"><span>   for (;;) {</span></span>
<span class="line"><span>	  // æ‹¿åˆ°æŒæœ‰é”çš„çº¿ç¨‹</span></span>
<span class="line"><span>      void * own = _owner ;</span></span>
<span class="line"><span>      // å¦‚æœæœ‰çº¿ç¨‹æŒæœ‰é”ï¼Œå‘Šè¾</span></span>
<span class="line"><span>      if (own != NULL) return 0 ;</span></span>
<span class="line"><span>      // è¯´æ˜æ²¡æœ‰çº¿ç¨‹æŒæœ‰é”ï¼Œownæ˜¯nullï¼ŒcmpxchgæŒ‡ä»¤å°±æ˜¯åº•å±‚çš„CASå®ç°ã€‚</span></span>
<span class="line"><span>      if (Atomic::cmpxchg_ptr (Self, &amp;_owner, NULL) == NULL) {</span></span>
<span class="line"><span>		 // æˆåŠŸè·å–é”èµ„æº</span></span>
<span class="line"><span>         return 1 ;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      // è¿™é‡Œå…¶å®é‡è¯•æ“ä½œæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œç›´æ¥è¿”å›-1</span></span>
<span class="line"><span>      if (true) return -1 ;</span></span>
<span class="line"><span>   }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>try_entry</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>bool ObjectMonitor::try_enter(Thread* THREAD) {</span></span>
<span class="line"><span>  // åœ¨åˆ¤æ–­_owneræ˜¯ä¸æ˜¯å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>  if (THREAD != _owner) {</span></span>
<span class="line"><span>    // åˆ¤æ–­å½“å‰æŒæœ‰é”çš„çº¿ç¨‹æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹ï¼Œè¯´æ˜è½»é‡çº§é”åˆšåˆšå‡çº§è¿‡æ¥çš„æƒ…å†µ</span></span>
<span class="line"><span>    if (THREAD-&gt;is_lock_owned ((address)_owner)) {</span></span>
<span class="line"><span>       _owner = THREAD ;</span></span>
<span class="line"><span>       _recursions = 1 ;</span></span>
<span class="line"><span>       OwnerIsThread = 1 ;</span></span>
<span class="line"><span>       return true;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // CASæ“ä½œï¼Œå°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>    if (Atomic::cmpxchg_ptr (THREAD, &amp;_owner, NULL) != NULL) {</span></span>
<span class="line"><span>      // æ²¡æ‹¿åˆ°é”èµ„æºï¼Œå‘Šè¾</span></span>
<span class="line"><span>      return false;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // æ‹¿åˆ°é”èµ„æº</span></span>
<span class="line"><span>    return true;</span></span>
<span class="line"><span>  } else {</span></span>
<span class="line"><span>    // å°†_recursions + 1ï¼Œä»£è¡¨é”é‡å…¥æ“ä½œã€‚</span></span>
<span class="line"><span>    _recursions++;</span></span>
<span class="line"><span>    return true;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>enterï¼ˆæƒ³æ–¹è®¾æ³•æ‹¿åˆ°é”èµ„æºï¼Œå¦‚æœæ²¡æ‹¿åˆ°ï¼ŒæŒ‚èµ·æ‰”åˆ°_cxqå•å‘é“¾è¡¨ä¸­ï¼‰</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>void ATTR ObjectMonitor::enter(TRAPS) {</span></span>
<span class="line"><span>  // æ‹¿åˆ°å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>  Thread * const Self = THREAD ;</span></span>
<span class="line"><span>  void * cur ;</span></span>
<span class="line"><span>  // CASèµ°ä½ ï¼Œ</span></span>
<span class="line"><span>  cur = Atomic::cmpxchg_ptr (Self, &amp;_owner, NULL) ;</span></span>
<span class="line"><span>  if (cur == NULL) {</span></span>
<span class="line"><span>     // æ‹¿é”æˆåŠŸ</span></span>
<span class="line"><span>     return ;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  // é”é‡å…¥æ“ä½œ</span></span>
<span class="line"><span>  if (cur == Self) {</span></span>
<span class="line"><span>     // TODO-FIXME: check for integer overflow!  BUGID 6557169.</span></span>
<span class="line"><span>     _recursions ++ ;</span></span>
<span class="line"><span>     return ;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  //è½»é‡çº§é”è¿‡æ¥çš„ã€‚</span></span>
<span class="line"><span>  if (Self-&gt;is_lock_owned ((address)cur)) {</span></span>
<span class="line"><span>    _recursions = 1 ;</span></span>
<span class="line"><span>    _owner = Self ;</span></span>
<span class="line"><span>    OwnerIsThread = 1 ;</span></span>
<span class="line"><span>    return ;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // èµ°åˆ°è¿™äº†ï¼Œæ²¡æ‹¿åˆ°é”èµ„æºï¼Œcount++</span></span>
<span class="line"><span>  Atomic::inc_ptr(&amp;_count);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>    for (;;) {</span></span>
<span class="line"><span>      jt-&gt;set_suspend_equivalent();</span></span>
<span class="line"><span>      // å…¥é˜Ÿæ“ä½œï¼Œè¿›åˆ°cxqä¸­</span></span>
<span class="line"><span>      EnterI (THREAD) ;</span></span>
<span class="line"><span>      if (!ExitSuspendEquivalent(jt)) break ;</span></span>
<span class="line"><span>      _recursions = 0 ;</span></span>
<span class="line"><span>      _succ = NULL ;</span></span>
<span class="line"><span>      exit (false, Self) ;</span></span>
<span class="line"><span>      jt-&gt;java_suspend_self();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  // count--</span></span>
<span class="line"><span>  Atomic::dec_ptr(&amp;_count);</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>}</span></span></code></pre></div><p>EnterI</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>for (;;) {</span></span>
<span class="line"><span>    // å…¥é˜Ÿ</span></span>
<span class="line"><span>    node._next = nxt = _cxq ;</span></span>
<span class="line"><span>    // CASçš„æ–¹å¼å…¥é˜Ÿã€‚</span></span>
<span class="line"><span>    if (Atomic::cmpxchg_ptr (&amp;node, &amp;_cxq, nxt) == nxt) break ;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // é‡æ–°å°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>    if (TryLock (Self) &gt; 0) {</span></span>
<span class="line"><span>        assert (_succ != Self         , &quot;invariant&quot;) ;</span></span>
<span class="line"><span>        assert (_owner == Self        , &quot;invariant&quot;) ;</span></span>
<span class="line"><span>        assert (_Responsible != Self  , &quot;invariant&quot;) ;</span></span>
<span class="line"><span>        return ;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="ä¸‰ã€æ·±å…¥reentrantlock" tabindex="-1">ä¸‰ã€<strong>æ·±å…¥ReentrantLock</strong> <a class="header-anchor" href="#ä¸‰ã€æ·±å…¥reentrantlock" aria-label="Permalink to &quot;ä¸‰ã€**æ·±å…¥ReentrantLock**&quot;">â€‹</a></h2><h3 id="_3-1-reentrantlockå’Œsynchronizedçš„åŒºåˆ«" tabindex="-1">3.1 ReentrantLockå’Œsynchronizedçš„åŒºåˆ« <a class="header-anchor" href="#_3-1-reentrantlockå’Œsynchronizedçš„åŒºåˆ«" aria-label="Permalink to &quot;3.1 ReentrantLockå’Œsynchronizedçš„åŒºåˆ«&quot;">â€‹</a></h3><p>åºŸè¯åŒºåˆ«ï¼šå•è¯ä¸ä¸€æ ·ã€‚ã€‚ã€‚</p><p>æ ¸å¿ƒåŒºåˆ«ï¼š</p><ul><li>ReentrantLockæ˜¯ä¸ªç±»ï¼Œsynchronizedæ˜¯å…³é”®å­—ï¼Œå½“ç„¶éƒ½æ˜¯åœ¨JVMå±‚é¢å®ç°äº’æ–¥é”çš„æ–¹å¼</li></ul><p>æ•ˆç‡åŒºåˆ«ï¼š</p><ul><li>å¦‚æœç«äº‰æ¯”è¾ƒæ¿€çƒˆï¼Œæ¨èReentrantLockå»å®ç°ï¼Œä¸å­˜åœ¨é”å‡çº§æ¦‚å¿µã€‚è€Œsynchronizedæ˜¯å­˜åœ¨é”å‡çº§æ¦‚å¿µçš„ï¼Œå¦‚æœå‡çº§åˆ°é‡é‡çº§é”ï¼Œæ˜¯ä¸å­˜åœ¨é”é™çº§çš„ã€‚</li></ul><p>åº•å±‚å®ç°åŒºåˆ«ï¼š</p><ul><li>å®ç°åŸç†æ˜¯ä¸ä¸€æ ·ï¼ŒReentrantLockåŸºäºAQSå®ç°çš„ï¼Œsynchronizedæ˜¯åŸºäºObjectMonitor</li></ul><p>åŠŸèƒ½å‘çš„åŒºåˆ«ï¼š</p><ul><li><p>ReentrantLockçš„åŠŸèƒ½æ¯”synchronizedæ›´å…¨é¢ã€‚</p></li><li><p>ReentrantLockæ”¯æŒå…¬å¹³é”å’Œéå…¬å¹³é”</p></li><li><p>ReentrantLockå¯ä»¥æŒ‡å®šç­‰å¾…é”èµ„æºçš„æ—¶é—´ã€‚</p></li></ul><p>é€‰æ‹©å“ªä¸ªï¼šå¦‚æœä½ å¯¹å¹¶å‘ç¼–ç¨‹ç‰¹åˆ«ç†Ÿç»ƒï¼Œæ¨èä½¿ç”¨ReentrantLockï¼ŒåŠŸèƒ½æ›´ä¸°å¯Œã€‚å¦‚æœæŒæ¡çš„ä¸€èˆ¬èˆ¬ï¼Œä½¿ç”¨synchronizedä¼šæ›´å¥½</p><h3 id="_3-2-aqsæ¦‚è¿°" tabindex="-1">3.2 AQSæ¦‚è¿° <a class="header-anchor" href="#_3-2-aqsæ¦‚è¿°" aria-label="Permalink to &quot;3.2 AQSæ¦‚è¿°&quot;">â€‹</a></h3><p>AQSå°±æ˜¯AbstractQueuedSynchronizerç±»ï¼ŒAQSå…¶å®å°±æ˜¯JUCåŒ…ä¸‹çš„ä¸€ä¸ªåŸºç±»ï¼ŒJUCä¸‹çš„å¾ˆå¤šå†…å®¹éƒ½æ˜¯åŸºäºAQSå®ç°äº†éƒ¨åˆ†åŠŸèƒ½ï¼Œæ¯”å¦‚ReentrantLockï¼ŒThreadPoolExecutorï¼Œé˜»å¡é˜Ÿåˆ—ï¼ŒCountDownLatchï¼ŒSemaphoreï¼ŒCyclicBarrierç­‰ç­‰éƒ½æ˜¯åŸºäºAQSå®ç°ã€‚</p><p>é¦–å…ˆAQSä¸­æä¾›äº†ä¸€ä¸ªç”±volatileä¿®é¥°ï¼Œå¹¶ä¸”é‡‡ç”¨CASæ–¹å¼ä¿®æ”¹çš„intç±»å‹çš„stateå˜é‡ã€‚</p><p>å…¶æ¬¡AQSä¸­ç»´æŠ¤äº†ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œæœ‰headï¼Œæœ‰tailï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯Nodeå¯¹è±¡</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>static final class Node {</span></span>
<span class="line"><span>        static final Node SHARED = new Node();</span></span>
<span class="line"><span>        static final Node EXCLUSIVE = null;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        static final int CANCELLED =  1;</span></span>
<span class="line"><span>        static final int SIGNAL    = -1;</span></span>
<span class="line"><span>        static final int CONDITION = -2;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        static final int PROPAGATE = -3;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>        volatile int waitStatus;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>        volatile Node prev;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>        volatile Node next;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>        volatile Thread thread; </span></span>
<span class="line"><span>}</span></span></code></pre></div><p>AQSå†…éƒ¨ç»“æ„å’Œå±æ€§</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/6f1f8f1f2ff4494c81adddef4a0897e6.png" alt="" loading="lazy"></p><h3 id="_3-3-åŠ é”æµç¨‹æºç å‰–æ" tabindex="-1">3.3 åŠ é”æµç¨‹æºç å‰–æ <a class="header-anchor" href="#_3-3-åŠ é”æµç¨‹æºç å‰–æ" aria-label="Permalink to &quot;3.3 åŠ é”æµç¨‹æºç å‰–æ&quot;">â€‹</a></h3><h4 id="_3-3-1-åŠ é”æµç¨‹æ¦‚è¿°" tabindex="-1">3.3.1 åŠ é”æµç¨‹æ¦‚è¿° <a class="header-anchor" href="#_3-3-1-åŠ é”æµç¨‹æ¦‚è¿°" aria-label="Permalink to &quot;3.3.1 åŠ é”æµç¨‹æ¦‚è¿°&quot;">â€‹</a></h4><p>è¿™ä¸ªæ˜¯éå…¬å¹³é”çš„æµç¨‹</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/d25877e5d048450180f19d97a0778fba.png" alt="" loading="lazy"></p><h4 id="_3-3-2-ä¸‰ç§åŠ é”æºç åˆ†æ" tabindex="-1">3.3.2 ä¸‰ç§åŠ é”æºç åˆ†æ <a class="header-anchor" href="#_3-3-2-ä¸‰ç§åŠ é”æºç åˆ†æ" aria-label="Permalink to &quot;3.3.2 ä¸‰ç§åŠ é”æºç åˆ†æ&quot;">â€‹</a></h4><h5 id="_3-3-2-1-lockæ–¹æ³•" tabindex="-1">3.3.2.1 lockæ–¹æ³• <a class="header-anchor" href="#_3-3-2-1-lockæ–¹æ³•" aria-label="Permalink to &quot;3.3.2.1 lockæ–¹æ³•&quot;">â€‹</a></h5><ol><li>æ‰§è¡Œlockæ–¹æ³•åï¼Œå…¬å¹³é”å’Œéå…¬å¹³é”çš„æ‰§è¡Œå¥—è·¯ä¸ä¸€æ ·</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// éå…¬å¹³é”</span></span>
<span class="line"><span>final void lock() {</span></span>
<span class="line"><span>    // ä¸Šæ¥å°±å…ˆåŸºäºCASçš„æ–¹å¼ï¼Œå°è¯•å°†stateä»0æ”¹ä¸º1</span></span>
<span class="line"><span>    if (compareAndSetState(0, 1))</span></span>
<span class="line"><span>        // è·å–é”èµ„æºæˆåŠŸï¼Œä¼šå°†å½“å‰çº¿ç¨‹è®¾ç½®åˆ°exclusiveOwnerThreadå±æ€§ï¼Œä»£è¡¨æ˜¯å½“å‰çº¿ç¨‹æŒæœ‰ç€é”èµ„æº</span></span>
<span class="line"><span>        setExclusiveOwnerThread(Thread.currentThread());</span></span>
<span class="line"><span>    else</span></span>
<span class="line"><span>        // æ‰§è¡Œacquireï¼Œå°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>        acquire(1);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å…¬å¹³é”</span></span>
<span class="line"><span>final void lock() {</span></span>
<span class="line"><span>    //  æ‰§è¡Œacquireï¼Œå°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>    acquire(1);</span></span>
<span class="line"><span>}</span></span></code></pre></div><ol start="2"><li>acquireæ–¹æ³•ï¼Œæ˜¯å…¬å¹³é”å’Œéå…¬å¹³é”çš„é€»è¾‘ä¸€æ ·</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public final void acquire(int arg) {</span></span>
<span class="line"><span>    // tryAcquireï¼šå†æ¬¡æŸ¥çœ‹ï¼Œå½“å‰çº¿ç¨‹æ˜¯å¦å¯ä»¥å°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>    if (!tryAcquire(arg) &amp;&amp;</span></span>
<span class="line"><span>        // æ²¡æœ‰æ‹¿åˆ°é”èµ„æº</span></span>
<span class="line"><span>        // addWaiter(Node.EXCLUSIVE)ï¼šå°†å½“å‰çº¿ç¨‹å°è£…ä¸ºNodeèŠ‚ç‚¹ï¼Œæ’å…¥åˆ°AQSçš„åŒå‘é“¾è¡¨çš„ç»“å°¾</span></span>
<span class="line"><span>        // acquireQueuedï¼šæŸ¥çœ‹æˆ‘æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªæ’é˜Ÿçš„èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯å¯ä»¥å†æ¬¡å°è¯•è·å–é”èµ„æºï¼Œå¦‚æœé•¿æ—¶é—´æ‹¿ä¸åˆ°ï¼ŒæŒ‚èµ·çº¿ç¨‹</span></span>
<span class="line"><span>        // å¦‚æœä¸æ˜¯ç¬¬ä¸€ä¸ªæ’é˜Ÿçš„é¢èŠ‚ç‚¹ï¼Œå°±å°è¯•æŒ‚èµ·çº¿ç¨‹å³å¯</span></span>
<span class="line"><span>        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))</span></span>
<span class="line"><span>        // ä¸­æ–­çº¿ç¨‹çš„æ“ä½œ</span></span>
<span class="line"><span>        selfInterrupt();</span></span>
<span class="line"><span>}</span></span></code></pre></div><ol start="3"><li>tryAcquireæ–¹æ³•ç«äº‰é”æœ€èµ„æºçš„é€»è¾‘ï¼Œåˆ†ä¸ºå…¬å¹³é”å’Œéå…¬å¹³é”</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// éå…¬å¹³é”å®ç°</span></span>
<span class="line"><span>final boolean nonfairTryAcquire(int acquires) {</span></span>
<span class="line"><span>    // è·å–å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>    final Thread current = Thread.currentThread();</span></span>
<span class="line"><span>    // è·å–äº†stateç†Ÿå±æ€§</span></span>
<span class="line"><span>    int c = getState();</span></span>
<span class="line"><span>    // åˆ¤æ–­stateå½“å‰æ˜¯å¦ä¸º0,ä¹‹å‰æŒæœ‰é”çš„çº¿ç¨‹é‡Šæ”¾äº†é”èµ„æº</span></span>
<span class="line"><span>    if (c == 0) {</span></span>
<span class="line"><span>        // å†æ¬¡æŠ¢ä¸€æ³¢é”èµ„æº</span></span>
<span class="line"><span>        if (compareAndSetState(0, acquires)) {</span></span>
<span class="line"><span>            setExclusiveOwnerThread(current);</span></span>
<span class="line"><span>            // æ‹¿é”æˆåŠŸè¿”å›true</span></span>
<span class="line"><span>            return true;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // ä¸æ˜¯0ï¼Œæœ‰çº¿ç¨‹æŒæœ‰ç€é”èµ„æºï¼Œå¦‚æœæ˜¯ï¼Œè¯æ˜æ˜¯é”é‡å…¥æ“ä½œ</span></span>
<span class="line"><span>    else if (current == getExclusiveOwnerThread()) {</span></span>
<span class="line"><span>        // å°†state + 1</span></span>
<span class="line"><span>        int nextc = c + acquires;</span></span>
<span class="line"><span>        if (nextc &lt; 0) // è¯´æ˜å¯¹é‡å…¥æ¬¡æ•°+1åï¼Œè¶…è¿‡äº†intæ­£æ•°çš„å–å€¼èŒƒå›´</span></span>
<span class="line"><span>            // 01111111 11111111 11111111 11111111</span></span>
<span class="line"><span>            // 10000000 00000000 00000000 00000000</span></span>
<span class="line"><span>            // è¯´æ˜é‡å…¥çš„æ¬¡æ•°è¶…è¿‡ç•Œé™äº†ã€‚</span></span>
<span class="line"><span>            throw new Error(&quot;Maximum lock count exceeded&quot;);</span></span>
<span class="line"><span>        // æ­£å¸¸çš„å°†è®¡ç®—ç»“æœï¼Œå¤åˆ¶ç»™state</span></span>
<span class="line"><span>        setState(nextc);</span></span>
<span class="line"><span>        // é”é‡å…¥æˆåŠŸ</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // è¿”å›false</span></span>
<span class="line"><span>    return false;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>// å…¬å¹³é”å®ç°<br> protected final boolean tryAcquire(int acquires) {<br> // è·å–å½“å‰çº¿ç¨‹<br> final Thread current = Thread.currentThread();<br> // ....<br> int c = getState();<br> if (c == 0) {<br> // æŸ¥çœ‹AQSä¸­æ˜¯å¦æœ‰æ’é˜Ÿçš„Node<br> // æ²¡äººæ’é˜ŸæŠ¢ä¸€æ‰‹ ã€‚æœ‰äººæ’é˜Ÿï¼Œå¦‚æœæˆ‘æ˜¯ç¬¬ä¸€ä¸ªï¼Œä¹ŸæŠ¢ä¸€æ‰‹<br> if (!hasQueuedPredecessors() &amp;&amp;<br> // æŠ¢ä¸€æ‰‹~<br> compareAndSetState(0, acquires)) {<br> setExclusiveOwnerThread(current);<br> return true;<br> }<br> }<br> // é”é‡å…¥~~~<br> else if (current == getExclusiveOwnerThread()) {<br> int nextc = c + acquires;<br> if (nextc &lt; 0)<br> throw new Error(&quot;Maximum lock count exceeded&quot;);<br> setState(nextc);<br> return true;<br> }<br> return false;<br> }<br> // æŸ¥çœ‹æ˜¯å¦æœ‰çº¿ç¨‹åœ¨AQSçš„åŒå‘é˜Ÿåˆ—ä¸­æ’é˜Ÿ<br> // è¿”å›falseï¼Œä»£è¡¨æ²¡äººæ’é˜Ÿ<br> public final boolean hasQueuedPredecessors() {<br> // å¤´å°¾èŠ‚ç‚¹<br> Node t = tail;<br> Node h = head;<br> // sä¸ºå¤´ç»“ç‚¹çš„nextèŠ‚ç‚¹<br> Node s;<br> // å¦‚æœå¤´å°¾èŠ‚ç‚¹ç›¸ç­‰ï¼Œè¯æ˜æ²¡æœ‰çº¿ç¨‹æ’é˜Ÿï¼Œç›´æ¥å»æŠ¢å é”èµ„æº<br> return h != t &amp;&amp;<br> // sèŠ‚ç‚¹ä¸ä¸ºnullï¼Œå¹¶ä¸”sèŠ‚ç‚¹çš„çº¿ç¨‹ä¸ºå½“å‰çº¿ç¨‹ï¼ˆæ’åœ¨ç¬¬ä¸€åçš„æ˜¯ä¸æ˜¯æˆ‘ï¼‰<br> (s == null || s.thread != Thread.currentThread());<br> }</p><ol start="4"><li>addWaiteæ–¹æ³•ï¼Œå°†æ²¡æœ‰æ‹¿åˆ°é”èµ„æºçš„çº¿ç¨‹æ‰”åˆ°AQSé˜Ÿåˆ—ä¸­å»æ’é˜Ÿ</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// æ²¡æœ‰æ‹¿åˆ°é”èµ„æºï¼Œè¿‡æ¥æ’é˜Ÿï¼Œ  modeï¼šä»£è¡¨äº’æ–¥é”</span></span>
<span class="line"><span>private Node addWaiter(Node mode) {</span></span>
<span class="line"><span>    // å°†å½“å‰çº¿ç¨‹å°è£…ä¸ºNodeï¼Œ</span></span>
<span class="line"><span>    Node node = new Node(Thread.currentThread(), mode);</span></span>
<span class="line"><span>    // æ‹¿åˆ°å°¾ç»“ç‚¹</span></span>
<span class="line"><span>    Node pred = tail;</span></span>
<span class="line"><span>    // å¦‚æœå°¾ç»“ç‚¹ä¸ä¸ºnull</span></span>
<span class="line"><span>    if (pred != null) {</span></span>
<span class="line"><span>        // å½“å‰èŠ‚ç‚¹çš„prevæŒ‡å‘å°¾ç»“ç‚¹</span></span>
<span class="line"><span>        node.prev = pred;</span></span>
<span class="line"><span>        // ä»¥CASçš„æ–¹å¼ï¼Œå°†å½“å‰çº¿ç¨‹è®¾ç½®ä¸ºtailèŠ‚ç‚¹</span></span>
<span class="line"><span>        if (compareAndSetTail(pred, node)) {</span></span>
<span class="line"><span>            // å°†ä¹‹å‰çš„å°¾ç»“ç‚¹çš„nextæŒ‡å‘å½“å‰èŠ‚ç‚¹</span></span>
<span class="line"><span>            pred.next = node;</span></span>
<span class="line"><span>            return node;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // å¦‚æœCASå¤±è´¥ï¼Œä»¥æ­»å¾ªç¯çš„æ–¹å¼ï¼Œä¿è¯å½“å‰çº¿ç¨‹çš„Nodeä¸€å®šå¯ä»¥æ”¾åˆ°AQSé˜Ÿåˆ—çš„æœ«å°¾</span></span>
<span class="line"><span>    enq(node);</span></span>
<span class="line"><span>    return node;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private Node enq(final Node node) {</span></span>
<span class="line"><span>    for (;;) {</span></span>
<span class="line"><span>        // æ‹¿åˆ°å°¾ç»“ç‚¹</span></span>
<span class="line"><span>        Node t = tail;</span></span>
<span class="line"><span>        // å¦‚æœå°¾ç»“ç‚¹ä¸ºç©ºï¼ŒAQSä¸­ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ²¡æœ‰ï¼Œæ„å»ºä¸€ä¸ªä¼ªèŠ‚ç‚¹ï¼Œä½œä¸ºheadå’Œtail</span></span>
<span class="line"><span>        if (t == null) { </span></span>
<span class="line"><span>            if (compareAndSetHead(new Node()))</span></span>
<span class="line"><span>                tail = head;</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            // æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œä»¥CASçš„æ–¹å¼ï¼Œåœ¨AQSä¸­æœ‰èŠ‚ç‚¹åï¼Œæ’å…¥åˆ°AQSé˜Ÿåˆ—çš„æœ«å°¾</span></span>
<span class="line"><span>            node.prev = t;</span></span>
<span class="line"><span>            if (compareAndSetTail(t, node)) {</span></span>
<span class="line"><span>                t.next = node;</span></span>
<span class="line"><span>                return t;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><ol start="5"><li>acquireQueuedæ–¹æ³•ï¼Œåˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦è¿˜èƒ½å†æ¬¡å°è¯•è·å–é”èµ„æºï¼Œå¦‚æœä¸èƒ½å†æ¬¡è·å–é”èµ„æºï¼Œæˆ–è€…åˆæ²¡è·å–åˆ°ï¼Œå°è¯•å°†å½“å‰çº¿ç¨‹æŒ‚èµ·</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å½“å‰æ²¡æœ‰æ‹¿åˆ°é”èµ„æºåï¼Œå¹¶ä¸”åˆ°AQSæ’é˜Ÿäº†ä¹‹åè§¦å‘çš„æ–¹æ³•ã€‚  ä¸­æ–­æ“ä½œè¿™é‡Œä¸ç”¨è€ƒè™‘</span></span>
<span class="line"><span>final boolean acquireQueued(final Node node, int arg) {</span></span>
<span class="line"><span>    // ä¸è€ƒè™‘ä¸­æ–­</span></span>
<span class="line"><span>    // failedï¼šè·å–é”èµ„æºæ˜¯å¦å¤±è´¥ï¼ˆè¿™é‡Œç®€å•æŒæ¡è½åœ°ï¼ŒçœŸæ­£è§¦å‘çš„ï¼Œè¿˜æ˜¯tryLockå’ŒlockInterruptiblyï¼‰</span></span>
<span class="line"><span>    boolean failed = true;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        boolean interrupted = false;</span></span>
<span class="line"><span>        // æ­»å¾ªç¯â€¦â€¦â€¦â€¦</span></span>
<span class="line"><span>        for (;;) {</span></span>
<span class="line"><span>            // æ‹¿åˆ°å½“å‰èŠ‚ç‚¹çš„å‰ç»§èŠ‚ç‚¹</span></span>
<span class="line"><span>            final Node p = node.predecessor();</span></span>
<span class="line"><span>            // å‰ç»§èŠ‚ç‚¹æ˜¯å¦æ˜¯headï¼Œå¦‚æœæ˜¯headï¼Œå†æ¬¡æ‰§è¡ŒtryAcquireå°è¯•è·å–é”èµ„æºã€‚</span></span>
<span class="line"><span>            if (p == head &amp;&amp; tryAcquire(arg)) {</span></span>
<span class="line"><span>                // è·å–é”èµ„æºæˆåŠŸ</span></span>
<span class="line"><span>                // è®¾ç½®å¤´ç»“ç‚¹ä¸ºå½“å‰è·å–é”èµ„æºæˆåŠŸNodeï¼Œå¹¶ä¸”å–æ¶ˆthreadä¿¡æ¯</span></span>
<span class="line"><span>                setHead(node);</span></span>
<span class="line"><span>                // help GC</span></span>
<span class="line"><span>                p.next = null; </span></span>
<span class="line"><span>                // è·å–é”å¤±è´¥æ ‡è¯†ä¸ºfalse</span></span>
<span class="line"><span>                failed = false;</span></span>
<span class="line"><span>                return interrupted;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // æ²¡æ‹¿åˆ°é”èµ„æºâ€¦â€¦</span></span>
<span class="line"><span>            // shouldParkAfterFailedAcquireï¼šåŸºäºä¸Šä¸€ä¸ªèŠ‚ç‚¹è½¬æ”¹æ¥åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦èƒ½å¤ŸæŒ‚èµ·çº¿ç¨‹ï¼Œå¦‚æœå¯ä»¥è¿”å›trueï¼Œ</span></span>
<span class="line"><span>            // å¦‚æœä¸èƒ½ï¼Œå°±è¿”å›falseï¼Œç»§ç»­ä¸‹æ¬¡å¾ªç¯</span></span>
<span class="line"><span>            if (shouldParkAfterFailedAcquire(p, node) &amp;&amp;</span></span>
<span class="line"><span>                // è¿™é‡ŒåŸºäºUnsafeç±»çš„parkæ–¹æ³•ï¼Œå°†å½“å‰çº¿ç¨‹æŒ‚èµ·</span></span>
<span class="line"><span>                parkAndCheckInterrupt())</span></span>
<span class="line"><span>                interrupted = true;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        if (failed)</span></span>
<span class="line"><span>            // åœ¨lockæ–¹æ³•ä¸­ï¼ŒåŸºæœ¬ä¸ä¼šæ‰§è¡Œã€‚</span></span>
<span class="line"><span>            cancelAcquire(node);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// è·å–é”èµ„æºæˆåŠŸåï¼Œå…ˆæ‰§è¡ŒsetHead</span></span>
<span class="line"><span>private void setHead(Node node) {</span></span>
<span class="line"><span>    // å½“å‰èŠ‚ç‚¹ä½œä¸ºå¤´ç»“ç‚¹  ä¼ª</span></span>
<span class="line"><span>    head = node;</span></span>
<span class="line"><span>    // å¤´ç»“ç‚¹ä¸éœ€è¦çº¿ç¨‹ä¿¡æ¯</span></span>
<span class="line"><span>    node.thread = null;</span></span>
<span class="line"><span>    node.prev = null;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å½“å‰Nodeæ²¡æœ‰æ‹¿åˆ°é”èµ„æºï¼Œæˆ–è€…æ²¡æœ‰èµ„æ ¼ç«äº‰é”èµ„æºï¼Œçœ‹ä¸€ä¸‹èƒ½å¦æŒ‚èµ·å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>private static boolean shouldParkAfterFailedAcquire(Node pred, Node node) {</span></span>
<span class="line"><span>    // -1ï¼ŒSIGNALçŠ¶æ€ï¼šä»£è¡¨å½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œå¯ä»¥æŒ‚èµ·çº¿ç¨‹ï¼Œåç»­æˆ‘ä¼šå”¤é†’æˆ‘çš„åç»§èŠ‚ç‚¹</span></span>
<span class="line"><span>    // 1ï¼ŒCANCELLEDçŠ¶æ€ï¼šä»£è¡¨å½“å‰èŠ‚ç‚¹ä»¥åŠå–æ¶ˆäº†</span></span>
<span class="line"><span>    int ws = pred.waitStatus;</span></span>
<span class="line"><span>    if (ws == Node.SIGNAL)</span></span>
<span class="line"><span>        // ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä¸º-1ä¹‹åï¼Œå½“å‰èŠ‚ç‚¹æ‰å¯ä»¥å®‰å¿ƒçš„æŒ‚èµ·çº¿ç¨‹</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    if (ws &gt; 0) {</span></span>
<span class="line"><span>        // å¦‚æœå½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹æ˜¯å–æ¶ˆçŠ¶æ€ï¼Œæˆ‘éœ€è¦å¾€å‰æ‰¾åˆ°ä¸€ä¸ªçŠ¶æ€ä¸ä¸º1çš„Nodeï¼Œä½œä¸ºä»–çš„nextèŠ‚ç‚¹</span></span>
<span class="line"><span>        // æ‰¾åˆ°çŠ¶æ€ä¸ä¸º1çš„èŠ‚ç‚¹åï¼Œè®¾ç½®ä¸€ä¸‹nextå’Œprev</span></span>
<span class="line"><span>        do {</span></span>
<span class="line"><span>            node.prev = pred = pred.prev;</span></span>
<span class="line"><span>        } while (pred.waitStatus &gt; 0);</span></span>
<span class="line"><span>        pred.next = node;</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        // ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ä¸æ˜¯1æˆ–è€…-1ï¼Œé‚£å°±ä»£è¡¨èŠ‚ç‚¹çŠ¶æ€æ­£å¸¸ï¼Œå°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æ”¹ä¸º-1</span></span>
<span class="line"><span>        compareAndSetWaitStatus(pred, ws, Node.SIGNAL);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return false;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-3-2-2-trylockæ–¹æ³•" tabindex="-1">3.3.2.2 tryLockæ–¹æ³• <a class="header-anchor" href="#_3-3-2-2-trylockæ–¹æ³•" aria-label="Permalink to &quot;3.3.2.2 tryLockæ–¹æ³•&quot;">â€‹</a></h5><ul><li>tryLock();</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// tryLockæ–¹æ³•ï¼Œæ— è®ºå…¬å¹³é”è¿˜æœ‰éå…¬å¹³é”ã€‚éƒ½ä¼šèµ°éå…¬å¹³é”æŠ¢å é”èµ„æºçš„æ“ä½œ</span></span>
<span class="line"><span>// å°±æ˜¯æ‹¿åˆ°stateçš„å€¼ï¼Œ å¦‚æœæ˜¯0ï¼Œç›´æ¥CASæµ…å°ä¸€ä¸‹</span></span>
<span class="line"><span>// state ä¸æ˜¯0ï¼Œé‚£å°±çœ‹ä¸‹æ˜¯ä¸æ˜¯é”é‡å…¥æ“ä½œ</span></span>
<span class="line"><span>// å¦‚æœæ²¡æŠ¢åˆ°ï¼Œæˆ–è€…ä¸æ˜¯é”é‡å…¥æ“ä½œï¼Œå‘Šè¾ï¼Œè¿”å›false</span></span>
<span class="line"><span>public boolean tryLock() {</span></span>
<span class="line"><span>    // éå…¬å¹³é”çš„ç«äº‰é”æ“ä½œ</span></span>
<span class="line"><span>    return sync.nonfairTryAcquire(1);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>final boolean nonfairTryAcquire(int acquires) {</span></span>
<span class="line"><span>    final Thread current = Thread.currentThread();</span></span>
<span class="line"><span>    int c = getState();</span></span>
<span class="line"><span>    if (c == 0) {</span></span>
<span class="line"><span>        if (compareAndSetState(0, acquires)) {</span></span>
<span class="line"><span>            setExclusiveOwnerThread(current);</span></span>
<span class="line"><span>            return true;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    else if (current == getExclusiveOwnerThread()) {</span></span>
<span class="line"><span>        int nextc = c + acquires;</span></span>
<span class="line"><span>        if (nextc &lt; 0) // overflow</span></span>
<span class="line"><span>            throw new Error(&quot;Maximum lock count exceeded&quot;);</span></span>
<span class="line"><span>        setState(nextc);</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return false;</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li><p>tryLock(time,unit);</p></li><li><p>ç¬¬ä¸€æ³¢åˆ†æï¼Œç±»ä¼¼çš„ä»£ç ï¼š</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// tryLock(time,unit)æ‰§è¡Œçš„æ–¹æ³•</span></span>
<span class="line"><span>public final boolean tryAcquireNanos(int arg, long nanosTimeout)throws InterruptedException {</span></span>
<span class="line"><span>    // çº¿ç¨‹çš„ä¸­æ–­æ ‡è®°ä½ï¼Œæ˜¯ä¸æ˜¯ä»falseï¼Œåˆ«æ”¹ä¸ºäº†trueï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥æŠ›å¼‚å¸¸</span></span>
<span class="line"><span>    if (Thread.interrupted())</span></span>
<span class="line"><span>        throw new InterruptedException();</span></span>
<span class="line"><span>    // tryAcquireåˆ†ä¸ºå…¬å¹³å’Œéå…¬å¹³é”ä¸¤ç§æ‰§è¡Œæ–¹å¼ï¼Œå¦‚æœæ‹¿é”æˆåŠŸï¼Œ ç›´æ¥å‘Šè¾ï¼Œ</span></span>
<span class="line"><span>    return tryAcquire(arg) ||</span></span>
<span class="line"><span>        // å¦‚æœæ‹¿é”å¤±è´¥ï¼Œåœ¨è¿™è¦ç­‰å¾…æŒ‡å®šæ—¶é—´</span></span>
<span class="line"><span>        doAcquireNanos(arg, nanosTimeout);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private boolean doAcquireNanos(int arg, long nanosTimeout)</span></span>
<span class="line"><span>        throws InterruptedException {</span></span>
<span class="line"><span>    // å¦‚æœç­‰å¾…æ—¶é—´æ˜¯0ç§’ï¼Œç›´æ¥å‘Šè¾ï¼Œæ‹¿é”å¤±è´¥  </span></span>
<span class="line"><span>    if (nanosTimeout &lt;= 0L)</span></span>
<span class="line"><span>        return false;</span></span>
<span class="line"><span>    // è®¾ç½®ç»“æŸæ—¶é—´ã€‚</span></span>
<span class="line"><span>    final long deadline = System.nanoTime() + nanosTimeout;</span></span>
<span class="line"><span>    // å…ˆæ‰”åˆ°AQSé˜Ÿåˆ—</span></span>
<span class="line"><span>    final Node node = addWaiter(Node.EXCLUSIVE);</span></span>
<span class="line"><span>    // æ‹¿é”å¤±è´¥ï¼Œé»˜è®¤true</span></span>
<span class="line"><span>    boolean failed = true;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        for (;;) {</span></span>
<span class="line"><span>            // å¦‚æœåœ¨AQSä¸­ï¼Œå½“å‰nodeæ˜¯headçš„nextï¼Œç›´æ¥æŠ¢é”</span></span>
<span class="line"><span>            final Node p = node.predecessor();</span></span>
<span class="line"><span>            if (p == head &amp;&amp; tryAcquire(arg)) {</span></span>
<span class="line"><span>                setHead(node);</span></span>
<span class="line"><span>                p.next = null; // help GC</span></span>
<span class="line"><span>                failed = false;</span></span>
<span class="line"><span>                return true;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // ç»“ç®—å‰©ä½™çš„å¯ç”¨æ—¶é—´</span></span>
<span class="line"><span>            nanosTimeout = deadline - System.nanoTime();</span></span>
<span class="line"><span>            // åˆ¤æ–­æ˜¯å¦æ˜¯å¦ç”¨å°½çš„ä½ç½®</span></span>
<span class="line"><span>            if (nanosTimeout &lt;= 0L)</span></span>
<span class="line"><span>                return false;</span></span>
<span class="line"><span>            // shouldParkAfterFailedAcquireï¼šæ ¹æ®ä¸Šä¸€ä¸ªèŠ‚ç‚¹æ¥ç¡®å®šç°åœ¨æ˜¯å¦å¯ä»¥æŒ‚èµ·çº¿ç¨‹</span></span>
<span class="line"><span>            if (shouldParkAfterFailedAcquire(p, node) &amp;&amp;</span></span>
<span class="line"><span>                // é¿å…å‰©ä½™æ—¶é—´å¤ªå°‘ï¼Œå¦‚æœå‰©ä½™æ—¶é—´å°‘å°±ä¸ç”¨æŒ‚èµ·çº¿ç¨‹</span></span>
<span class="line"><span>                nanosTimeout &gt; spinForTimeoutThreshold)</span></span>
<span class="line"><span>                // å¦‚æœå‰©ä½™æ—¶é—´è¶³å¤Ÿï¼Œå°†çº¿ç¨‹æŒ‚èµ·å‰©ä½™æ—¶é—´</span></span>
<span class="line"><span>                LockSupport.parkNanos(this, nanosTimeout);</span></span>
<span class="line"><span>            // å¦‚æœçº¿ç¨‹é†’äº†ï¼ŒæŸ¥çœ‹æ˜¯ä¸­æ–­å”¤é†’çš„ï¼Œè¿˜æ˜¯æ—¶é—´åˆ°äº†å”¤é†’çš„ã€‚</span></span>
<span class="line"><span>            if (Thread.interrupted())</span></span>
<span class="line"><span>                // æ˜¯ä¸­æ–­å”¤é†’çš„ï¼</span></span>
<span class="line"><span>                throw new InterruptedException();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        if (failed)</span></span>
<span class="line"><span>            cancelAcquire(node);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>å–æ¶ˆèŠ‚ç‚¹åˆ†æï¼š<img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/c283fb2473a8401985b9f874cb222f40.png" alt="" loading="lazy"></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å–æ¶ˆåœ¨AQSä¸­æ’é˜Ÿçš„Node</span></span>
<span class="line"><span>private void cancelAcquire(Node node) {</span></span>
<span class="line"><span>    // å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºnullï¼Œç›´æ¥å¿½ç•¥ã€‚</span></span>
<span class="line"><span>    if (node == null)</span></span>
<span class="line"><span>        return;</span></span>
<span class="line"><span>    //1. çº¿ç¨‹è®¾ç½®ä¸ºnull</span></span>
<span class="line"><span>    node.thread = null;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //2. å¾€å‰è·³è¿‡è¢«å–æ¶ˆçš„èŠ‚ç‚¹ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹</span></span>
<span class="line"><span>    Node pred = node.prev;</span></span>
<span class="line"><span>    while (pred.waitStatus &gt; 0)</span></span>
<span class="line"><span>        node.prev = pred = pred.prev;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //3. æ‹¿åˆ°äº†ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰çš„next</span></span>
<span class="line"><span>    Node predNext = pred.next;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //4. å½“å‰èŠ‚ç‚¹çŠ¶æ€è®¾ç½®ä¸º1ï¼Œä»£è¡¨èŠ‚ç‚¹å–æ¶ˆ</span></span>
<span class="line"><span>    node.waitStatus = Node.CANCELLED;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // è„±ç¦»AQSé˜Ÿåˆ—çš„æ“ä½œ</span></span>
<span class="line"><span>    // å½“å‰Nodeæ˜¯å°¾ç»“ç‚¹ï¼Œå°†tailä»å½“å‰èŠ‚ç‚¹æ›¿æ¢ä¸ºä¸Šä¸€ä¸ªèŠ‚ç‚¹</span></span>
<span class="line"><span>    if (node == tail &amp;&amp; compareAndSetTail(node, pred)) {</span></span>
<span class="line"><span>        compareAndSetNext(pred, predNext, null);</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        // åˆ°è¿™ä¸Šé¢çš„æ“ä½œCASæ“ä½œå¤±è´¥</span></span>
<span class="line"><span>        int ws = pred.waitStatus;</span></span>
<span class="line"><span>        // ä¸æ˜¯headçš„åç»§èŠ‚ç‚¹</span></span>
<span class="line"><span>        if (pred != head &amp;&amp;</span></span>
<span class="line"><span>            // æ‹¿åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œåªè¦ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ä¸æ˜¯å–æ¶ˆçŠ¶æ€ï¼Œå°±æ”¹ä¸º-1</span></span>
<span class="line"><span>            (ws == Node.SIGNAL || (ws &lt;= 0 &amp;&amp; compareAndSetWaitStatus(pred, ws, Node.SIGNAL))) </span></span>
<span class="line"><span>            &amp;&amp; pred.thread != null) {</span></span>
<span class="line"><span>            // ä¸Šé¢çš„åˆ¤æ–­éƒ½æ˜¯ä¸ºäº†é¿å…åé¢èŠ‚ç‚¹æ— æ³•è¢«å”¤é†’ã€‚</span></span>
<span class="line"><span>            // å‰ç»§èŠ‚ç‚¹æ˜¯æœ‰æ•ˆèŠ‚ç‚¹ï¼Œå¯ä»¥å”¤é†’åé¢çš„èŠ‚ç‚¹</span></span>
<span class="line"><span>            Node next = node.next;</span></span>
<span class="line"><span>            if (next != null &amp;&amp; next.waitStatus &lt;= 0)</span></span>
<span class="line"><span>                compareAndSetNext(pred, predNext, next);</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            // å½“å‰èŠ‚ç‚¹æ˜¯headçš„åç»§èŠ‚ç‚¹</span></span>
<span class="line"><span>            unparkSuccessor(node);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        node.next = node; // help GC</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="_3-3-2-3-lockinterruptiblyæ–¹æ³•" tabindex="-1">3.3.2.3 lockInterruptiblyæ–¹æ³• <a class="header-anchor" href="#_3-3-2-3-lockinterruptiblyæ–¹æ³•" aria-label="Permalink to &quot;3.3.2.3 lockInterruptiblyæ–¹æ³•&quot;">â€‹</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// è¿™ä¸ªæ˜¯lockInterruptiblyå’ŒtryLock(time,unit)å”¯ä¸€çš„åŒºåˆ«</span></span>
<span class="line"><span>// lockInterruptiblyï¼Œæ‹¿ä¸åˆ°é”èµ„æºï¼Œå°±æ­»ç­‰ï¼Œç­‰åˆ°é”èµ„æºé‡Šæ”¾åï¼Œè¢«å”¤é†’ï¼Œæˆ–è€…æ˜¯è¢«ä¸­æ–­å”¤é†’</span></span>
<span class="line"><span>private void doAcquireInterruptibly(int arg) throws InterruptedException {</span></span>
<span class="line"><span>    final Node node = addWaiter(Node.EXCLUSIVE);</span></span>
<span class="line"><span>    boolean failed = true;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        for (;;) {</span></span>
<span class="line"><span>            final Node p = node.predecessor();</span></span>
<span class="line"><span>            if (p == head &amp;&amp; tryAcquire(arg)) {</span></span>
<span class="line"><span>                setHead(node);</span></span>
<span class="line"><span>                p.next = null; // help GC</span></span>
<span class="line"><span>                failed = false;</span></span>
<span class="line"><span>                return;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            if (shouldParkAfterFailedAcquire(p, node) &amp;&amp; parkAndCheckInterrupt())</span></span>
<span class="line"><span>                // ä¸­æ–­å”¤é†’æŠ›å¼‚å¸¸ï¼</span></span>
<span class="line"><span>                throw new InterruptedException();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        if (failed)</span></span>
<span class="line"><span>            cancelAcquire(node);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private final boolean parkAndCheckInterrupt() {</span></span>
<span class="line"><span>    LockSupport.park(this);</span></span>
<span class="line"><span>    // è¿™ä¸ªæ–¹æ³•å¯ä»¥ç¡®è®¤ï¼Œå½“å‰æŒ‚èµ·çš„çº¿ç¨‹ï¼Œæ˜¯è¢«ä¸­æ–­å”¤é†’çš„ï¼Œè¿˜æ˜¯è¢«æ­£å¸¸å”¤é†’çš„ã€‚</span></span>
<span class="line"><span>    // ä¸­æ–­å”¤é†’ï¼Œè¿”å›trueï¼Œå¦‚æœæ˜¯æ­£å¸¸å”¤é†’ï¼Œè¿”å›false</span></span>
<span class="line"><span>    return Thread.interrupted();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_3-4-é‡Šæ”¾é”æµç¨‹æºç å‰–æ" tabindex="-1">3.4 é‡Šæ”¾é”æµç¨‹æºç å‰–æ <a class="header-anchor" href="#_3-4-é‡Šæ”¾é”æµç¨‹æºç å‰–æ" aria-label="Permalink to &quot;3.4 é‡Šæ”¾é”æµç¨‹æºç å‰–æ&quot;">â€‹</a></h3><h4 id="_3-4-1-é‡Šæ”¾é”æµç¨‹æ¦‚è¿°" tabindex="-1">3.4.1 é‡Šæ”¾é”æµç¨‹æ¦‚è¿° <a class="header-anchor" href="#_3-4-1-é‡Šæ”¾é”æµç¨‹æ¦‚è¿°" aria-label="Permalink to &quot;3.4.1 é‡Šæ”¾é”æµç¨‹æ¦‚è¿°&quot;">â€‹</a></h4><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/33b1deba4dd94713b2f6071e54813fe2.png" alt="" loading="lazy"></p><h4 id="_3-4-2-é‡Šæ”¾é”æºç åˆ†æ" tabindex="-1">3.4.2 é‡Šæ”¾é”æºç åˆ†æ <a class="header-anchor" href="#_3-4-2-é‡Šæ”¾é”æºç åˆ†æ" aria-label="Permalink to &quot;3.4.2 é‡Šæ”¾é”æºç åˆ†æ&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public void unlock() {</span></span>
<span class="line"><span>    // é‡Šæ”¾é”èµ„æºä¸åˆ†ä¸ºå…¬å¹³é”å’Œéå…¬å¹³é”ï¼Œéƒ½æ˜¯ä¸€ä¸ªsyncå¯¹è±¡</span></span>
<span class="line"><span>    sync.release(1);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// é‡Šæ”¾é”çš„æ ¸å¿ƒæµç¨‹</span></span>
<span class="line"><span>public final boolean release(int arg) {</span></span>
<span class="line"><span>    // æ ¸å¿ƒé‡Šæ”¾é”èµ„æºçš„æ“ä½œä¹‹ä¸€</span></span>
<span class="line"><span>    if (tryRelease(arg)) {</span></span>
<span class="line"><span>        // å¦‚æœé”å·²ç»é‡Šæ”¾æ‰äº†ï¼Œèµ°è¿™ä¸ªé€»è¾‘</span></span>
<span class="line"><span>        Node h = head;</span></span>
<span class="line"><span>        // hä¸ä¸ºnullï¼Œè¯´æ˜æ²¡æœ‰æ’é˜Ÿçš„</span></span>
<span class="line"><span>        // å¦‚æœhçš„çŠ¶æ€ä¸ä¸º0ï¼ˆä¸º-1ï¼‰ï¼Œè¯´æ˜åé¢æœ‰æ’é˜Ÿçš„Nodeï¼Œå¹¶ä¸”çº¿ç¨‹å·²ç»æŒ‚èµ·äº†ã€‚</span></span>
<span class="line"><span>        if (h != null &amp;&amp; h.waitStatus != 0)</span></span>
<span class="line"><span>            // å”¤é†’æ’é˜Ÿçš„çº¿ç¨‹</span></span>
<span class="line"><span>            unparkSuccessor(h);</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return false;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// ReentrantLocké‡Šæ”¾é”èµ„æºæ“ä½œ</span></span>
<span class="line"><span>protected final boolean tryRelease(int releases) {</span></span>
<span class="line"><span>    // æ‹¿åˆ°state - 1ï¼ˆå¹¶æ²¡æœ‰èµ‹å€¼ç»™stateï¼‰</span></span>
<span class="line"><span>    int c = getState() - releases;</span></span>
<span class="line"><span>    // åˆ¤æ–­å½“å‰æŒæœ‰é”çš„çº¿ç¨‹æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸</span></span>
<span class="line"><span>    if (Thread.currentThread() != getExclusiveOwnerThread())</span></span>
<span class="line"><span>        throw new IllegalMonitorStateException();</span></span>
<span class="line"><span>    // freeï¼Œä»£è¡¨å½“å‰é”èµ„æºæ˜¯å¦é‡Šæ”¾å¹²å‡€äº†ã€‚</span></span>
<span class="line"><span>    boolean free = false;</span></span>
<span class="line"><span>    if (c == 0) {</span></span>
<span class="line"><span>        // å¦‚æœstate - 1åçš„å€¼ä¸º0ï¼Œä»£è¡¨é‡Šæ”¾å¹²å‡€äº†ã€‚</span></span>
<span class="line"><span>        free = true;</span></span>
<span class="line"><span>        // å°†æŒæœ‰é”çš„çº¿ç¨‹ç½®ä½null</span></span>
<span class="line"><span>        setExclusiveOwnerThread(null);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // å°†cè®¾ç½®ç»™state</span></span>
<span class="line"><span>    setState(c);</span></span>
<span class="line"><span>    // é”èµ„æºé‡Šæ”¾å¹²å‡€è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span></span>
<span class="line"><span>    return free;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å”¤é†’åé¢æ’é˜Ÿçš„Node</span></span>
<span class="line"><span>private void unparkSuccessor(Node node) {</span></span>
<span class="line"><span>    // æ‹¿åˆ°å¤´èŠ‚ç‚¹çŠ¶æ€</span></span>
<span class="line"><span>    int ws = node.waitStatus;</span></span>
<span class="line"><span>    if (ws &lt; 0)</span></span>
<span class="line"><span>        // å…ˆåŸºäºCASï¼Œå°†èŠ‚ç‚¹çŠ¶æ€ä»-1ï¼Œæ”¹ä¸º0</span></span>
<span class="line"><span>        compareAndSetWaitStatus(node, ws, 0);</span></span>
<span class="line"><span>    // æ‹¿åˆ°å¤´èŠ‚ç‚¹çš„åç»­èŠ‚ç‚¹ã€‚</span></span>
<span class="line"><span>    Node s = node.next;</span></span>
<span class="line"><span>    // å¦‚æœåç»­èŠ‚ç‚¹ä¸ºnullæˆ–è€…ï¼Œåç»­èŠ‚ç‚¹çš„çŠ¶æ€ä¸º1ï¼Œä»£è¡¨èŠ‚ç‚¹å–æ¶ˆäº†ã€‚</span></span>
<span class="line"><span>    if (s == null || s.waitStatus &gt; 0) {</span></span>
<span class="line"><span>        s = null;</span></span>
<span class="line"><span>        // å¦‚æœåç»­èŠ‚ç‚¹ä¸ºnullï¼Œæˆ–è€…åç»­èŠ‚ç‚¹çŠ¶æ€ä¸ºå–æ¶ˆçŠ¶æ€ï¼Œä»åå¾€å‰æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ç¯å¢ƒ</span></span>
<span class="line"><span>        for (Node t = tail; t != null &amp;&amp; t != node; t = t.prev)</span></span>
<span class="line"><span>            // ä»åå¾€å‰æ‰¾åˆ°çŠ¶æ€å°äºç­‰äº0çš„èŠ‚ç‚¹</span></span>
<span class="line"><span>            // æ‰¾åˆ°ç¦»headæœ€æ–°çš„æœ‰æ•ˆèŠ‚ç‚¹ï¼Œå¹¶èµ‹å€¼ç»™s</span></span>
<span class="line"><span>            if (t.waitStatus &lt;= 0)</span></span>
<span class="line"><span>                s = t;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // åªè¦æ‰¾åˆ°äº†è¿™ä¸ªéœ€è¦è¢«å”¤é†’çš„èŠ‚ç‚¹ï¼Œæ‰§è¡Œunparkå”¤é†’</span></span>
<span class="line"><span>    if (s != null)</span></span>
<span class="line"><span>        LockSupport.unpark(s.thread);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_3-5-aqså¸¸è§çš„é—®é¢˜" tabindex="-1">3.5 AQSå¸¸è§çš„é—®é¢˜ <a class="header-anchor" href="#_3-5-aqså¸¸è§çš„é—®é¢˜" aria-label="Permalink to &quot;3.5 AQSå¸¸è§çš„é—®é¢˜&quot;">â€‹</a></h3><h4 id="_3-5-1-aqsä¸­ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªè™šæ‹Ÿçš„headèŠ‚ç‚¹" tabindex="-1">3.5.1 AQSä¸­ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªè™šæ‹Ÿçš„headèŠ‚ç‚¹ <a class="header-anchor" href="#_3-5-1-aqsä¸­ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªè™šæ‹Ÿçš„headèŠ‚ç‚¹" aria-label="Permalink to &quot;3.5.1 AQSä¸­ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªè™šæ‹Ÿçš„headèŠ‚ç‚¹&quot;">â€‹</a></h4><p>å› ä¸ºAQSæä¾›äº†ReentrantLockçš„åŸºæœ¬å®ç°ï¼Œè€Œåœ¨ReentrantLocké‡Šæ”¾é”èµ„æºæ—¶ï¼Œéœ€è¦å»è€ƒè™‘æ˜¯å¦éœ€è¦æ‰§è¡ŒunparkSuccessoræ–¹æ³•ï¼Œå»å”¤é†’åç»§èŠ‚ç‚¹ã€‚</p><p>å› ä¸ºNodeä¸­å­˜åœ¨waitStatusçš„çŠ¶æ€ï¼Œé»˜è®¤æƒ…å†µä¸‹çŠ¶æ€ä¸º0ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹çº¿ç¨‹æŒ‚èµ·äº†ï¼Œé‚£ä¹ˆå°±å°†å½“å‰èŠ‚ç‚¹çš„çŠ¶æ€è®¾ç½®ä¸º-1ã€‚è¿™ä¸ª-1çŠ¶æ€çš„å‡ºç°æ˜¯ä¸ºäº†é¿å…é‡å¤å”¤é†’æˆ–è€…é‡Šæ”¾èµ„æºçš„é—®é¢˜ã€‚</p><p>å› ä¸ºAQSä¸­æ’é˜Ÿçš„Nodeä¸­çš„çº¿ç¨‹å¦‚æœæŒ‚èµ·äº†ï¼Œæ˜¯æ— æ³•è‡ªåŠ¨å”¤é†’çš„ã€‚éœ€è¦é‡Šæ”¾é”æˆ–è€…é‡Šæ”¾èµ„æºåï¼Œå†è¢«é‡Šæ”¾çš„çº¿ç¨‹å»å”¤é†’æŒ‚èµ·çš„çº¿ç¨‹ã€‚ å› ä¸ºå”¤é†’èŠ‚ç‚¹éœ€è¦ä»æ•´ä¸ªAQSåŒå‘é“¾è¡¨ä¸­æ‰¾åˆ°ç¦»headæœ€è¿‘çš„æœ‰æ•ˆèŠ‚ç‚¹å»å”¤é†’ã€‚è€Œè¿™ä¸ªæ‰¾ç¦»headæœ€è¿‘çš„Nodeå¯èƒ½éœ€è¦éå†æ•´ä¸ªåŒå‘é“¾è¡¨ã€‚å¦‚æœAQSä¸­ï¼Œæ²¡æœ‰æŒ‚èµ·çš„çº¿ç¨‹ï¼Œä»£è¡¨ä¸éœ€è¦å»éå†AQSåŒå‘é“¾è¡¨å»æ‰¾ç¦»headæœ€è¿‘çš„æœ‰æ•ˆèŠ‚ç‚¹ã€‚</p><p>ä¸ºäº†é¿å…å‡ºç°ä¸å¿…è¦çš„å¾ªç¯é“¾è¡¨æ“ä½œï¼Œæä¾›äº†ä¸€ä¸ª-1çš„çŠ¶æ€ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªNodeè¿›å…¥åˆ°AQSä¸­æ’é˜Ÿï¼Œæ‰€ä»¥å‘ç°å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªNodeè¿›æ¥ï¼Œä»–å¿…é¡»å…ˆåˆå§‹åŒ–ä¸€ä¸ªè™šæ‹Ÿçš„headèŠ‚ç‚¹ä½œä¸ºå¤´ï¼Œæ¥ç›‘æ§åç»§èŠ‚ç‚¹ä¸­æ˜¯å¦æœ‰æŒ‚èµ·çš„çº¿ç¨‹ã€‚</p><h4 id="_3-5-2-aqsä¸­ä¸ºä»€ä¹ˆé€‰æ‹©ä½¿ç”¨åŒå‘é“¾è¡¨-è€Œä¸æ˜¯å•å‘é“¾è¡¨" tabindex="-1">3.5.2 AQSä¸­ä¸ºä»€ä¹ˆé€‰æ‹©ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œè€Œä¸æ˜¯å•å‘é“¾è¡¨ <a class="header-anchor" href="#_3-5-2-aqsä¸­ä¸ºä»€ä¹ˆé€‰æ‹©ä½¿ç”¨åŒå‘é“¾è¡¨-è€Œä¸æ˜¯å•å‘é“¾è¡¨" aria-label="Permalink to &quot;3.5.2 AQSä¸­ä¸ºä»€ä¹ˆé€‰æ‹©ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œè€Œä¸æ˜¯å•å‘é“¾è¡¨&quot;">â€‹</a></h4><p>é¦–å…ˆAQSä¸­ä¸€èˆ¬æ˜¯å­˜æ”¾æ²¡æœ‰è·å–åˆ°èµ„æºçš„Nodeï¼Œè€Œåœ¨ç«äº‰é”èµ„æºæ—¶ï¼ŒReentrantLockæä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼ŒlockInterruptiblyæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹åœ¨ç«äº‰é”èµ„æºçš„æ’é˜Ÿé€”ä¸­ï¼Œå…è®¸ä¸­æ–­ã€‚ä¸­æ–­åä¼šæ‰§è¡ŒcancelAcquireæ–¹æ³•ï¼Œä»è€Œå°†å½“å‰èŠ‚ç‚¹çŠ¶æ€ç½®ä½1ï¼Œå¹¶ä¸”ä»AQSé˜Ÿåˆ—ä¸­ç§»é™¤æ‰ã€‚å¦‚æœé‡‡ç”¨å•å‘é“¾è¡¨ï¼Œå½“å‰èŠ‚ç‚¹åªèƒ½æŒ‰åˆ°åç»§æˆ–è€…å‰ç»§èŠ‚ç‚¹ï¼Œè¿™æ ·æ˜¯æ— æ³•å°†å‰ç»§èŠ‚ç‚¹æŒ‡å‘åç»§èŠ‚ç‚¹çš„ï¼Œéœ€è¦éå†æ•´ä¸ªAQSä»å¤´æˆ–è€…ä»å°¾å»æ‰¾ã€‚å•å‘é“¾è¡¨åœ¨ç§»é™¤AQSä¸­æ’é˜Ÿçš„Nodeæ—¶ï¼Œæˆæœ¬å¾ˆé«˜ã€‚</p><p>å½“å‰åœ¨å”¤é†’åç»§èŠ‚ç‚¹æ—¶ï¼Œå¦‚æœæ˜¯å•å‘é“¾è¡¨ä¹Ÿä¼šå‡ºé—®é¢˜ï¼Œå› ä¸ºèŠ‚ç‚¹æ’å…¥æ–¹å¼çš„é—®é¢˜ï¼Œå¯¼è‡´åªèƒ½å•å‘çš„å»æ‰¾æœ‰æ•ˆèŠ‚ç‚¹å»å”¤é†’ï¼Œä»è€Œé€ æˆå¾ˆå¤šæ¬¡æ— æ•ˆçš„éå†æ“ä½œï¼Œå¦‚æœæ˜¯åŒå‘é“¾è¡¨å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="å››ã€æ·±å…¥reentrantreadwritelock" tabindex="-1">å››ã€<strong>æ·±å…¥ReentrantReadWriteLock</strong> <a class="header-anchor" href="#å››ã€æ·±å…¥reentrantreadwritelock" aria-label="Permalink to &quot;å››ã€**æ·±å…¥ReentrantReadWriteLock**&quot;">â€‹</a></h2><h3 id="ä¸€ã€ä¸ºä»€ä¹ˆè¦å‡ºç°è¯»å†™é”" tabindex="-1">ä¸€ã€ä¸ºä»€ä¹ˆè¦å‡ºç°è¯»å†™é” <a class="header-anchor" href="#ä¸€ã€ä¸ºä»€ä¹ˆè¦å‡ºç°è¯»å†™é”" aria-label="Permalink to &quot;ä¸€ã€ä¸ºä»€ä¹ˆè¦å‡ºç°è¯»å†™é”&quot;">â€‹</a></h3><p>synchronizedå’ŒReentrantLockéƒ½æ˜¯äº’æ–¥é”ã€‚</p><p>å¦‚æœè¯´æœ‰ä¸€ä¸ªæ“ä½œæ˜¯è¯»å¤šå†™å°‘çš„ï¼Œè¿˜è¦ä¿è¯çº¿ç¨‹å®‰å…¨çš„è¯ã€‚å¦‚æœé‡‡ç”¨ä¸Šè¿°çš„ä¸¤ç§äº’æ–¥é”ï¼Œæ•ˆç‡æ–¹é¢å¾ˆå®šæ˜¯å¾ˆä½çš„ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå’±ä»¬å°±å¯ä»¥ä½¿ç”¨ReentrantReadWriteLockè¯»å†™é”å»å®ç°ã€‚</p><p>è¯»è¯»ä¹‹é—´æ˜¯ä¸äº’æ–¥çš„ï¼Œå¯ä»¥è¯»å’Œè¯»æ“ä½œå¹¶å‘æ‰§è¡Œã€‚</p><p>ä½†æ˜¯å¦‚æœæ¶‰åŠåˆ°äº†å†™æ“ä½œï¼Œé‚£ä¹ˆè¿˜å¾—æ˜¯äº’æ–¥çš„æ“ä½œã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>static ReentrantReadWriteLock lock = new ReentrantReadWriteLock();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>static ReentrantReadWriteLock.WriteLock writeLock = lock.writeLock();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>static ReentrantReadWriteLock.ReadLock readLock = lock.readLock();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        readLock.lock();</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            System.out.println(&quot;å­çº¿ç¨‹ï¼&quot;);</span></span>
<span class="line"><span>            try {</span></span>
<span class="line"><span>                Thread.sleep(500000);</span></span>
<span class="line"><span>            } catch (InterruptedException e) {</span></span>
<span class="line"><span>                e.printStackTrace();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        } finally {</span></span>
<span class="line"><span>            readLock.unlock();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Thread.sleep(1000);</span></span>
<span class="line"><span>    writeLock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        System.out.println(&quot;ä¸»çº¿ç¨‹ï¼&quot;);</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        writeLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="äºŒã€è¯»å†™é”çš„å®ç°åŸç†" tabindex="-1">äºŒã€è¯»å†™é”çš„å®ç°åŸç† <a class="header-anchor" href="#äºŒã€è¯»å†™é”çš„å®ç°åŸç†" aria-label="Permalink to &quot;äºŒã€è¯»å†™é”çš„å®ç°åŸç†&quot;">â€‹</a></h3><p><strong>ReentrantReadWriteLockè¿˜æ˜¯åŸºäºAQSå®ç°çš„ï¼Œè¿˜æ˜¯å¯¹stateè¿›è¡Œæ“ä½œï¼Œæ‹¿åˆ°é”èµ„æºå°±å»å¹²æ´»ï¼Œå¦‚æœæ²¡æœ‰æ‹¿åˆ°ï¼Œä¾ç„¶å»AQSé˜Ÿåˆ—ä¸­æ’é˜Ÿã€‚</strong></p><p><strong>è¯»é”æ“ä½œï¼šåŸºäºstateçš„é«˜16ä½è¿›è¡Œæ“ä½œã€‚</strong></p><p><strong>å†™é”æ“ä½œï¼šåŸºäºstateçš„ä½16ä¸ºè¿›è¡Œæ“ä½œã€‚</strong></p><p><strong>ReentrantReadWriteLockä¾ç„¶æ˜¯å¯é‡å…¥é”ã€‚</strong></p><p><strong>å†™é”é‡å…¥</strong>ï¼šè¯»å†™é”ä¸­çš„å†™é”çš„é‡å…¥æ–¹å¼ï¼ŒåŸºæœ¬å’ŒReentrantLockä¸€è‡´ï¼Œæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¾ç„¶æ˜¯å¯¹stateè¿›è¡Œ+1æ“ä½œå³å¯ï¼Œåªè¦ç¡®è®¤æŒæœ‰é”èµ„æºçš„çº¿ç¨‹ï¼Œæ˜¯å½“å‰å†™é”çº¿ç¨‹å³å¯ã€‚åªä¸è¿‡ä¹‹å‰ReentrantLockçš„é‡å…¥æ¬¡æ•°æ˜¯stateçš„æ­£æ•°å–å€¼èŒƒå›´ï¼Œä½†æ˜¯è¯»å†™é”ä¸­å†™é”èŒƒå›´å°±å˜å°äº†ã€‚</p><p><strong>è¯»é”é‡å…¥</strong>ï¼šå› ä¸ºè¯»é”æ˜¯å…±äº«é”ã€‚è¯»é”åœ¨è·å–é”èµ„æºæ“ä½œæ—¶ï¼Œæ˜¯è¦å¯¹stateçš„é«˜16ä½è¿›è¡Œ + 1æ“ä½œã€‚å› ä¸ºè¯»é”æ˜¯å…±äº«é”ï¼Œæ‰€ä»¥åŒä¸€æ—¶é—´ä¼šæœ‰å¤šä¸ªè¯»çº¿ç¨‹æŒæœ‰è¯»é”èµ„æºã€‚è¿™æ ·ä¸€æ¥ï¼Œå¤šä¸ªè¯»æ“ä½œåœ¨æŒæœ‰è¯»é”æ—¶ï¼Œæ— æ³•ç¡®è®¤æ¯ä¸ªçº¿ç¨‹è¯»é”é‡å…¥çš„æ¬¡æ•°ã€‚ä¸ºäº†å»è®°å½•è¯»é”é‡å…¥çš„æ¬¡æ•°ï¼Œæ¯ä¸ªè¯»æ“ä½œçš„çº¿ç¨‹ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªThreadLocalè®°å½•é”é‡å…¥çš„æ¬¡æ•°ã€‚</p><p><strong>å†™é”çš„é¥¥é¥¿é—®é¢˜</strong>ï¼šè¯»é”æ˜¯å…±äº«é”ï¼Œå½“æœ‰çº¿ç¨‹æŒæœ‰è¯»é”èµ„æºæ—¶ï¼Œå†æ¥ä¸€ä¸ªçº¿ç¨‹æƒ³è¦è·å–è¯»é”ï¼Œç›´æ¥å¯¹stateä¿®æ”¹å³å¯ã€‚åœ¨è¯»é”èµ„æºå…ˆè¢«å ç”¨åï¼Œæ¥äº†ä¸€ä¸ªå†™é”èµ„æºï¼Œæ­¤æ—¶ï¼Œå¤§é‡çš„éœ€è¦è·å–è¯»é”çš„çº¿ç¨‹æ¥è¯·æ±‚é”èµ„æºï¼Œå¦‚æœå¯ä»¥ç»•è¿‡å†™é”ï¼Œç›´æ¥æ‹¿èµ„æºï¼Œä¼šé€ æˆå†™é”é•¿æ—¶é—´æ— æ³•è·å–åˆ°å†™é”èµ„æºã€‚</p><p><strong>è¯»é”åœ¨æ‹¿åˆ°é”èµ„æºåï¼Œå¦‚æœå†æœ‰è¯»çº¿ç¨‹éœ€è¦è·å–è¯»é”èµ„æºï¼Œéœ€è¦å»AQSé˜Ÿåˆ—æ’é˜Ÿã€‚å¦‚æœé˜Ÿåˆ—çš„å‰é¢éœ€è¦å†™é”èµ„æºçš„çº¿ç¨‹ï¼Œé‚£ä¹ˆåç»­è¯»çº¿ç¨‹æ˜¯æ— æ³•æ‹¿åˆ°é”èµ„æºçš„ã€‚æŒæœ‰è¯»é”çš„çº¿ç¨‹ï¼Œåªä¼šè®©å†™é”çº¿ç¨‹ä¹‹å‰çš„è¯»çº¿ç¨‹æ‹¿åˆ°é”èµ„æº</strong></p><h3 id="ä¸‰ã€å†™é”åˆ†æ" tabindex="-1">ä¸‰ã€å†™é”åˆ†æ <a class="header-anchor" href="#ä¸‰ã€å†™é”åˆ†æ" aria-label="Permalink to &quot;ä¸‰ã€å†™é”åˆ†æ&quot;">â€‹</a></h3><h4 id="_3-1-å†™é”åŠ é”æµç¨‹æ¦‚è¿°" tabindex="-1">3.1 å†™é”åŠ é”æµç¨‹æ¦‚è¿° <a class="header-anchor" href="#_3-1-å†™é”åŠ é”æµç¨‹æ¦‚è¿°" aria-label="Permalink to &quot;3.1 å†™é”åŠ é”æµç¨‹æ¦‚è¿°&quot;">â€‹</a></h4><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/09215181ecf44581aa9b0e464e05b418.png" alt="" loading="lazy"></p><h4 id="_3-2-å†™é”åŠ é”æºç åˆ†æ" tabindex="-1">3.2 å†™é”åŠ é”æºç åˆ†æ <a class="header-anchor" href="#_3-2-å†™é”åŠ é”æºç åˆ†æ" aria-label="Permalink to &quot;3.2 å†™é”åŠ é”æºç åˆ†æ&quot;">â€‹</a></h4><p>å†™é”åŠ é”æµç¨‹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å†™é”åŠ é”çš„å…¥å£</span></span>
<span class="line"><span>public void lock() {</span></span>
<span class="line"><span>    sync.acquire(1);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// é˜¿å·´é˜¿å·´ï¼ï¼</span></span>
<span class="line"><span>public final void acquire(int arg) {</span></span>
<span class="line"><span>    if (!tryAcquire(arg) &amp;&amp;</span></span>
<span class="line"><span>        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))</span></span>
<span class="line"><span>        selfInterrupt();</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// è¯»å†™é”çš„å†™é”å®ç°tryAcquire</span></span>
<span class="line"><span>protected final boolean tryAcquire(int acquires) {</span></span>
<span class="line"><span>    // æ‹¿åˆ°å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>    Thread current = Thread.currentThread();</span></span>
<span class="line"><span>    // æ‹¿åˆ°stateçš„å€¼</span></span>
<span class="line"><span>    int c = getState();</span></span>
<span class="line"><span>    // å¾—åˆ°stateä½16ä½çš„å€¼</span></span>
<span class="line"><span>    int w = exclusiveCount(c);</span></span>
<span class="line"><span>    // åˆ¤æ–­æ˜¯å¦æœ‰çº¿ç¨‹æŒæœ‰ç€é”èµ„æº</span></span>
<span class="line"><span>    if (c != 0) {</span></span>
<span class="line"><span>        // å½“å‰æ²¡æœ‰çº¿ç¨‹æŒæœ‰å†™é”ï¼Œè¯»å†™äº’æ–¥ï¼Œå‘Šè¾ã€‚</span></span>
<span class="line"><span>        // æœ‰çº¿ç¨‹æŒæœ‰å†™é”ï¼ŒæŒæœ‰å†™é”çš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹ï¼Œä¸æ˜¯é”é‡å…¥ï¼Œå‘Šè¾ã€‚</span></span>
<span class="line"><span>        if (w == 0 || current != getExclusiveOwnerThread())</span></span>
<span class="line"><span>            return false;</span></span>
<span class="line"><span>        // å½“å‰çº¿ç¨‹æŒæœ‰å†™é”ã€‚ é”é‡å…¥ã€‚</span></span>
<span class="line"><span>        if (w + exclusiveCount(acquires) &gt; MAX_COUNT)</span></span>
<span class="line"><span>            throw new Error(&quot;Maximum lock count exceeded&quot;);</span></span>
<span class="line"><span>        // æ²¡æœ‰è¶…è¿‡é”é‡å…¥çš„æ¬¡æ•°ï¼Œæ­£å¸¸ + 1</span></span>
<span class="line"><span>        setState(c + acquires);</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // å°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>    if (writerShouldBlock() ||</span></span>
<span class="line"><span>        // CASæ‹¿é”</span></span>
<span class="line"><span>        !compareAndSetState(c, c + acquires))</span></span>
<span class="line"><span>        return false;</span></span>
<span class="line"><span>    // æ‹¿é”æˆåŠŸï¼Œè®¾ç½®å æœ‰äº’æ–¥é”çš„çº¿ç¨‹</span></span>
<span class="line"><span>    setExclusiveOwnerThread(current);</span></span>
<span class="line"><span>    // è¿”å›true</span></span>
<span class="line"><span>    return true;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ================================================================</span></span>
<span class="line"><span>// è¿™ä¸ªæ–¹æ³•æ˜¯å°†stateçš„ä½16ä½çš„å€¼æ‹¿åˆ°</span></span>
<span class="line"><span>int w = exclusiveCount(c);</span></span>
<span class="line"><span>state &amp; ((1 &lt;&lt; 16) - 1)</span></span>
<span class="line"><span>00000000 00000000 00000000 00000001    ==   1</span></span>
<span class="line"><span>00000000 00000001 00000000 00000000    ==   1 &lt;&lt; 16</span></span>
<span class="line"><span>00000000 00000000 11111111 11111111    ==   (1 &lt;&lt; 16) - 1</span></span>
<span class="line"><span>&amp;è¿ç®—ï¼Œä¸€ä¸ªä¸º0ï¼Œå¿…ç„¶ä¸º0ï¼Œéƒ½ä¸º1ï¼Œæ‰ä¸º1</span></span>
<span class="line"><span>// ================================================================</span></span>
<span class="line"><span>// writerShouldBlockæ–¹æ³•æŸ¥çœ‹å…¬å¹³é”å’Œéå…¬å¹³é”çš„æ•ˆæœ</span></span>
<span class="line"><span>// éå…¬å¹³é”ç›´æ¥è¿”å›falseæ‰§è¡ŒCASå°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>// å…¬å¹³é”éœ€è¦æŸ¥çœ‹æ˜¯å¦æœ‰æ’é˜Ÿçš„ï¼Œå¦‚æœæœ‰æ’é˜Ÿçš„ï¼Œæˆ‘æ˜¯å¦æ˜¯headçš„next</span></span></code></pre></div><h4 id="_3-3-å†™é”é‡Šæ”¾é”æµç¨‹æ¦‚è¿°-é‡Šæ”¾é”æºç " tabindex="-1">3.3 å†™é”é‡Šæ”¾é”æµç¨‹æ¦‚è¿°&amp;é‡Šæ”¾é”æºç  <a class="header-anchor" href="#_3-3-å†™é”é‡Šæ”¾é”æµç¨‹æ¦‚è¿°-é‡Šæ”¾é”æºç " aria-label="Permalink to &quot;3.3 å†™é”é‡Šæ”¾é”æµç¨‹æ¦‚è¿°&amp;é‡Šæ”¾é”æºç &quot;">â€‹</a></h4><p>é‡Šæ”¾çš„æµç¨‹å’ŒReentrantLockä¸€è‡´ï¼Œåªæ˜¯åœ¨åˆ¤æ–­é‡Šæ”¾æ˜¯å¦å¹²å‡€æ—¶ï¼Œåˆ¤æ–­ä½16ä½çš„å€¼</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å†™é”é‡Šæ”¾é”çš„tryReleaseæ–¹æ³•</span></span>
<span class="line"><span>protected final boolean tryRelease(int releases) {</span></span>
<span class="line"><span>    // åˆ¤æ–­å½“å‰æŒæœ‰å†™é”çš„çº¿ç¨‹æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>    if (!isHeldExclusively())</span></span>
<span class="line"><span>        throw new IllegalMonitorStateException();</span></span>
<span class="line"><span>    // è·å–state - 1</span></span>
<span class="line"><span>    int nextc = getState() - releases;</span></span>
<span class="line"><span>    // åˆ¤æ–­ä½16ä½ç»“æœæ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0ï¼Œfreeè®¾ç½®ä¸ºtrue</span></span>
<span class="line"><span>    boolean free = exclusiveCount(nextc) == 0;</span></span>
<span class="line"><span>    if (free)</span></span>
<span class="line"><span>        // å°†æŒæœ‰é”çš„çº¿ç¨‹è®¾ç½®ä¸ºnull</span></span>
<span class="line"><span>        setExclusiveOwnerThread(null);</span></span>
<span class="line"><span>    // è®¾ç½®ç»™state</span></span>
<span class="line"><span>    setState(nextc);</span></span>
<span class="line"><span>    // é‡Šæ”¾å¹²å‡€ï¼Œè¿”å›trueã€‚  å†™é”æœ‰å†²å…¥ï¼Œè¿™é‡Œéœ€è¦è¿”å›falseï¼Œä¸å»é‡Šæ”¾æ’é˜Ÿçš„Node</span></span>
<span class="line"><span>    return free;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="å››ã€è¯»é”åˆ†æ" tabindex="-1">å››ã€è¯»é”åˆ†æ <a class="header-anchor" href="#å››ã€è¯»é”åˆ†æ" aria-label="Permalink to &quot;å››ã€è¯»é”åˆ†æ&quot;">â€‹</a></h3><h4 id="_4-1-è¯»é”åŠ é”æµç¨‹æ¦‚è¿°" tabindex="-1">4.1 è¯»é”åŠ é”æµç¨‹æ¦‚è¿° <a class="header-anchor" href="#_4-1-è¯»é”åŠ é”æµç¨‹æ¦‚è¿°" aria-label="Permalink to &quot;4.1 è¯»é”åŠ é”æµç¨‹æ¦‚è¿°&quot;">â€‹</a></h4><p>1ã€åˆ†æè¯»é”åŠ é€Ÿçš„åŸºæœ¬æµç¨‹</p><p>2ã€åˆ†æè¯»é”çš„å¯é‡å…¥é”å®ç°ä»¥åŠä¼˜åŒ–</p><p>3ã€è§£å†³ThreadLocalå†…å­˜æ³„æ¼é—®é¢˜</p><p>4ã€è¯»é”è·å–é”è‡ªåï¼Œå¦‚æœå”¤é†’AQSä¸­æ’é˜Ÿçš„è¯»çº¿ç¨‹</p><h4 id="_4-1-1-åŸºç¡€è¯»é”æµç¨‹" tabindex="-1">4.1.1 åŸºç¡€è¯»é”æµç¨‹ <a class="header-anchor" href="#_4-1-1-åŸºç¡€è¯»é”æµç¨‹" aria-label="Permalink to &quot;4.1.1 åŸºç¡€è¯»é”æµç¨‹&quot;">â€‹</a></h4><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/08d73c23a8654fe2867269d63678cdee.png" alt="" loading="lazy"></p><p>é’ˆå¯¹ä¸Šè¿°ç®€å•é€»è¾‘çš„æºç åˆ†æ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// è¯»é”åŠ é”çš„æ–¹æ³•å…¥å£</span></span>
<span class="line"><span>public final void acquireShared(int arg) {</span></span>
<span class="line"><span>    // ç«äº‰é”èµ„æºæ»´å¹²æ´»</span></span>
<span class="line"><span>    if (tryAcquireShared(arg) &lt; 0)</span></span>
<span class="line"><span>        // æ²¡æ‹¿åˆ°é”èµ„æºï¼Œå»æ’é˜Ÿ</span></span>
<span class="line"><span>        doAcquireShared(arg);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// è¯»é”ç«äº‰é”èµ„æºçš„æ“ä½œ</span></span>
<span class="line"><span>protected final int tryAcquireShared(int unused) {</span></span>
<span class="line"><span>    // æ‹¿åˆ°å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>    Thread current = Thread.currentThread();</span></span>
<span class="line"><span>    // æ‹¿åˆ°state</span></span>
<span class="line"><span>    int c = getState();</span></span>
<span class="line"><span>    // æ‹¿åˆ°stateçš„ä½16ä½ï¼Œåˆ¤æ–­ != 0ï¼Œæœ‰å†™é”å ç”¨ç€é”èµ„æº</span></span>
<span class="line"><span>    // å¹¶ä¸”ï¼Œå½“å‰å ç”¨é”èµ„æºçš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>    if (exclusiveCount(c) != 0 &amp;&amp; getExclusiveOwnerThread() != current)</span></span>
<span class="line"><span>        // å†™é”è¢«å…¶ä»–çº¿ç¨‹å ç”¨ï¼Œæ— æ³•è·å–è¯»é”ï¼Œç›´æ¥è¿”å› -1ï¼Œå»æ’é˜Ÿ</span></span>
<span class="line"><span>        return -1;</span></span>
<span class="line"><span>    // æ²¡æœ‰çº¿ç¨‹æŒæœ‰å†™é”ã€å½“å‰çº¿ç¨‹æŒæœ‰å†™é”</span></span>
<span class="line"><span>    // è·å–è¯»é”çš„ä¿¡æ¯ï¼Œstateçš„é«˜16ä½ã€‚</span></span>
<span class="line"><span>    int r = sharedCount(c);</span></span>
<span class="line"><span>    // å…¬å¹³é”ï¼šå°±æŸ¥çœ‹é˜Ÿåˆ—æ˜¯ç”±æœ‰æ’é˜Ÿçš„ï¼Œæœ‰æ’é˜Ÿçš„ï¼Œç›´æ¥å‘Šè¾ï¼Œè¿›ä¸å»ifï¼Œåé¢ä¹Ÿä¸ç”¨åˆ¤æ–­ï¼ˆæ²¡äººæ’é˜Ÿç»§ç»­èµ°ï¼‰</span></span>
<span class="line"><span>    // éå…¬å¹³é”ï¼šæ²¡æœ‰æ’é˜Ÿçš„ï¼Œç›´æ¥æŠ¢ã€‚ æœ‰æ’é˜Ÿçš„ï¼Œä½†æ˜¯è¯»é”å…¶å®ä¸éœ€è¦æ’é˜Ÿï¼Œå¦‚æœå‡ºç°è¿™ä¸ªæƒ…å†µï¼Œå¤§éƒ¨åˆ†æ˜¯å†™é”èµ„æºåˆšåˆšé‡Šæ”¾ï¼Œ</span></span>
<span class="line"><span>    // åç»­Nodeè¿˜æ²¡æœ‰æ¥è®°å¾—æ‹¿åˆ°è¯»é”èµ„æºï¼Œå½“å‰ç«äº‰çš„è¯»çº¿ç¨‹ï¼Œå¯ä»¥ç›´æ¥è·å–</span></span>
<span class="line"><span>    if (!readerShouldBlock() &amp;&amp;</span></span>
<span class="line"><span>        // åˆ¤æ–­æŒæœ‰è¯»é”çš„ä¸´ç•Œå€¼æ˜¯å¦è¾¾åˆ°</span></span>
<span class="line"><span>        r &lt; MAX_COUNT &amp;&amp;</span></span>
<span class="line"><span>        // CASä¿®æ”¹stateï¼Œå¯¹é«˜16ä½è¿›è¡Œ + 1</span></span>
<span class="line"><span>        compareAndSetState(c, c + SHARED_UNIT)) {</span></span>
<span class="line"><span>        // çœç•¥éƒ¨åˆ†ä»£ç ï¼ï¼ï¼ï¼</span></span>
<span class="line"><span>        return 1;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return fullTryAcquireShared(current);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// éå…¬å¹³é”çš„åˆ¤æ–­</span></span>
<span class="line"><span>final boolean apparentlyFirstQueuedIsExclusive() {</span></span>
<span class="line"><span>    Node h, s;</span></span>
<span class="line"><span>    return (h = head) != null &amp;&amp;    // headä¸ºnullï¼Œå¯ä»¥ç›´æ¥æŠ¢å é”èµ„æº</span></span>
<span class="line"><span>        (s = h.next)  != null &amp;&amp;    // headçš„nextä¸ºnullï¼Œå¯ä»¥ç›´æ¥æŠ¢å é”èµ„æº</span></span>
<span class="line"><span>        !s.isShared()         &amp;&amp;    // å¦‚æœæ’åœ¨headåé¢çš„Nodeï¼Œæ˜¯å…±äº«é”ï¼Œå¯ä»¥ç›´æ¥æŠ¢å é”èµ„æºã€‚</span></span>
<span class="line"><span>        s.thread != null;           // åé¢æ’é˜Ÿçš„threadä¸ºnullï¼Œå¯ä»¥ç›´æ¥æŠ¢å é”èµ„æº</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_4-1-2-è¯»é”é‡å…¥æµç¨‹" tabindex="-1">4.1.2 è¯»é”é‡å…¥æµç¨‹ <a class="header-anchor" href="#_4-1-2-è¯»é”é‡å…¥æµç¨‹" aria-label="Permalink to &quot;4.1.2 è¯»é”é‡å…¥æµç¨‹&quot;">â€‹</a></h4><p>===============é‡å…¥æ“ä½œ==</p><p>å‰é¢é˜è¿°è¿‡ï¼Œè¯»é”ä¸ºäº†è®°å½•é”é‡å…¥çš„æ¬¡æ•°ï¼Œéœ€è¦è®©æ¯ä¸ªè¯»çº¿ç¨‹ç”¨ThreadLocalå­˜å‚¨é‡å…¥æ¬¡æ•°</p><p>ReentrantReadWriteLockå¯¹è¯»é”é‡å…¥åšäº†ä¸€äº›ä¼˜åŒ–æ“ä½œ</p><p>==============è®°å½•é‡å…¥æ¬¡æ•°çš„æ ¸å¿ƒ==</p><p>ReentrantReadWriteLockåœ¨å†…éƒ¨å¯¹ThreadLocalåšäº†å°è£…ï¼ŒåŸºäºHoldCountçš„å¯¹è±¡å­˜å‚¨é‡å…¥æ¬¡æ•°ï¼Œåœ¨å†…éƒ¨æœ‰ä¸ªcountå±æ€§è®°å½•ï¼Œè€Œä¸”æ¯ä¸ªçº¿ç¨‹éƒ½æ˜¯è‡ªå·±çš„ThreadLocalHoldCounterï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å¯¹å†…éƒ¨çš„countè¿›è¡Œ++æ“ä½œã€‚</p><p>===============ç¬¬ä¸€ä¸ªè·å–è¯»é”èµ„æºçš„é‡å…¥æ¬¡æ•°è®°å½•æ–¹å¼==</p><p>ç¬¬ä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçš„çº¿ç¨‹ï¼Œä¸éœ€è¦é€šè¿‡ThreadLocalå­˜å‚¨ï¼Œå†…éƒ¨æä¾›äº†ä¸¤ä¸ªå±æ€§æ¥è®°å½•ç¬¬ä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçº¿ç¨‹çš„ä¿¡æ¯</p><p>å†…éƒ¨æä¾›äº†firstReaderè®°å½•ç¬¬ä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçš„çº¿ç¨‹ï¼ŒfirstReaderHoldCountè®°å½•firstReaderçš„é”é‡å…¥æ¬¡æ•°</p><p>================æœ€åä¸€ä¸ªè·å–è¯»é”èµ„æºçš„é‡å…¥æ¬¡æ•°è®°å½•æ–¹å¼==</p><p>æœ€åä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçš„çº¿ç¨‹ï¼Œä¹Ÿä¼šç¼“å­˜ä»–çš„é‡å…¥æ¬¡æ•°ï¼Œè¿™æ ·++èµ·æ¥æ›´æ–¹ä¾¿</p><p>åŸºäºcachedHoldCounterç¼“å­˜æœ€åä¸€ä¸ªæ‹¿åˆ°é”èµ„æºç°æˆçš„é‡å…¥æ¬¡æ•°</p><p>================æœ€åä¸€ä¸ªè·å–è¯»é”èµ„æºçš„é‡å…¥æ¬¡æ•°è®°å½•æ–¹å¼==</p><p>é‡å…¥æ¬¡æ•°çš„æµç¨‹æ‰§è¡Œæ–¹å¼ï¼š</p><p>1ã€åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçš„ï¼šå¦‚æœæ˜¯ï¼Œç›´æ¥å°†firstReaderä»¥åŠfirstReaderHoldCountè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹çš„ä¿¡æ¯</p><p>2ã€åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯firstReaderï¼šå¦‚æœæ˜¯ï¼Œç›´æ¥å¯¹firstReaderHoldCount++å³å¯ã€‚</p><p>3ã€è·ŸfirstReaderæ²¡å…³ç³»äº†ï¼Œå…ˆè·å–cachedHoldCounterï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹ã€‚</p><p>3.1ã€å¦‚æœä¸æ˜¯ï¼Œè·å–å½“å‰çº¿ç¨‹çš„é‡å…¥æ¬¡æ•°ï¼Œå°†cachedHoldCounterè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹ã€‚</p><p>3.2ã€å¦‚æœæ˜¯ï¼Œåˆ¤æ–­å½“å‰é‡å…¥æ¬¡æ•°æ˜¯å¦ä¸º0ï¼Œé‡æ–°è®¾ç½®å½“å‰çº¿ç¨‹çš„é”ä»å…¥ä¿¡æ¯åˆ°readHoldsï¼ˆThreadLocalï¼‰ä¸­ï¼Œç®—æ˜¯åˆå§‹åŒ–æ“ä½œï¼Œé‡å…¥æ¬¡æ•°æ˜¯0</p><p>3.3ã€å‰é¢ä¸¤è€…æœ€åéƒ½åšcount++</p><p>ä¸Šè¿°é€»è¾‘æºç åˆ†æ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>protected final int tryAcquireShared(int unused) {</span></span>
<span class="line"><span>    Thread current = Thread.currentThread();</span></span>
<span class="line"><span>    int c = getState();</span></span>
<span class="line"><span>    if (exclusiveCount(c) != 0 &amp;&amp;</span></span>
<span class="line"><span>        getExclusiveOwnerThread() != current)</span></span>
<span class="line"><span>        return -1;</span></span>
<span class="line"><span>    int r = sharedCount(c);</span></span>
<span class="line"><span>    if (!readerShouldBlock() &amp;&amp;</span></span>
<span class="line"><span>        r &lt; MAX_COUNT &amp;&amp;</span></span>
<span class="line"><span>        compareAndSetState(c, c + SHARED_UNIT)) {</span></span>
<span class="line"><span>        // ===============================================================</span></span>
<span class="line"><span>        // åˆ¤æ–­r == 0ï¼Œå½“å‰æ˜¯ç¬¬ä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçš„çº¿ç¨‹</span></span>
<span class="line"><span>        if (r == 0) {</span></span>
<span class="line"><span>            // å°†firstReaderè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>            firstReader = current;</span></span>
<span class="line"><span>            // å°†countè®¾ç½®ä¸º1</span></span>
<span class="line"><span>            firstReaderHoldCount = 1;</span></span>
<span class="line"><span>        } </span></span>
<span class="line"><span>        // åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªè·å–è¯»é”èµ„æºçš„çº¿ç¨‹</span></span>
<span class="line"><span>        else if (firstReader == current) {</span></span>
<span class="line"><span>            // ç›´æ¥++ã€‚</span></span>
<span class="line"><span>            firstReaderHoldCount++;</span></span>
<span class="line"><span>        } </span></span>
<span class="line"><span>        // åˆ°è¿™ï¼Œå°±è¯´æ˜ä¸æ˜¯ç¬¬ä¸€ä¸ªè·å–è¯»é”èµ„æºçš„çº¿ç¨‹</span></span>
<span class="line"><span>        else {</span></span>
<span class="line"><span>            // é‚£è·å–æœ€åä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçš„çº¿ç¨‹</span></span>
<span class="line"><span>            HoldCounter rh = cachedHoldCounter;</span></span>
<span class="line"><span>            // åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯æœ€åä¸€ä¸ªæ‹¿åˆ°è¯»é”èµ„æºçš„çº¿ç¨‹</span></span>
<span class="line"><span>            if (rh == null || rh.tid != getThreadId(current))</span></span>
<span class="line"><span>                // å¦‚æœä¸æ˜¯ï¼Œè®¾ç½®å½“å‰çº¿ç¨‹ä¸ºcachedHoldCounter</span></span>
<span class="line"><span>                cachedHoldCounter = rh = readHolds.get();</span></span>
<span class="line"><span>            // å½“å‰çº¿ç¨‹æ˜¯ä¹‹å‰çš„cacheHoldCounter</span></span>
<span class="line"><span>            else if (rh.count == 0)</span></span>
<span class="line"><span>                // å°†å½“å‰çš„é‡å…¥ä¿¡æ¯è®¾ç½®åˆ°ThreadLocalä¸­</span></span>
<span class="line"><span>                readHolds.set(rh);</span></span>
<span class="line"><span>            // é‡å…¥çš„++</span></span>
<span class="line"><span>            rh.count++;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // ===============================================================</span></span>
<span class="line"><span>        return 1;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return fullTryAcquireShared(current);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_4-1-3-è¯»é”åŠ é”çš„åç»­é€»è¾‘fulltryacquireshared" tabindex="-1">4.1.3 è¯»é”åŠ é”çš„åç»­é€»è¾‘fullTryAcquireShared <a class="header-anchor" href="#_4-1-3-è¯»é”åŠ é”çš„åç»­é€»è¾‘fulltryacquireshared" aria-label="Permalink to &quot;4.1.3 è¯»é”åŠ é”çš„åç»­é€»è¾‘fullTryAcquireShared&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// tryAcquireShardæ–¹æ³•ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ‹¿åˆ°é”èµ„æºï¼Œèµ°è¿™ä¸ªæ–¹æ³•ï¼Œå°è¯•å†æ¬¡è·å–ï¼Œé€»è¾‘è·Ÿä¸Šé¢åŸºæœ¬ä¸€è‡´ã€‚</span></span>
<span class="line"><span>final int fullTryAcquireShared(Thread current) {</span></span>
<span class="line"><span>    // å£°æ˜å½“å‰çº¿ç¨‹çš„é”é‡å…¥æ¬¡æ•°</span></span>
<span class="line"><span>    HoldCounter rh = null;</span></span>
<span class="line"><span>    // æ­»å¾ªç¯</span></span>
<span class="line"><span>    for (;;) {</span></span>
<span class="line"><span>        // å†æ¬¡æ‹¿åˆ°state</span></span>
<span class="line"><span>        int c = getState();</span></span>
<span class="line"><span>        // å½“å‰å¦‚æœæœ‰å†™é”åœ¨å ç”¨é”èµ„æºï¼Œå¹¶ä¸”ä¸æ˜¯å½“å‰çº¿ç¨‹ï¼Œè¿”å›-1ï¼Œèµ°æ’é˜Ÿç­–ç•¥</span></span>
<span class="line"><span>        if (exclusiveCount(c) != 0) {</span></span>
<span class="line"><span>            if (getExclusiveOwnerThread() != current)</span></span>
<span class="line"><span>                return -1;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        } </span></span>
<span class="line"><span>        // æŸ¥çœ‹å½“å‰æ˜¯å¦å¯ä»¥å°è¯•ç«äº‰é”èµ„æºï¼ˆå…¬å¹³é”å’Œéå…¬å¹³é”çš„é€»è¾‘ï¼‰</span></span>
<span class="line"><span>        else if (readerShouldBlock()) {</span></span>
<span class="line"><span>            // æ— è®ºå…¬å¹³è¿˜æ˜¯éå…¬å¹³ï¼Œåªè¦è¿›æ¥ï¼Œå°±ä»£è¡¨è¦æ”¾åˆ°AQSé˜Ÿåˆ—ä¸­äº†ï¼Œå…ˆåšä¸€æ³¢å‡†å¤‡</span></span>
<span class="line"><span>            // åœ¨å¤„ç†ThreadLocalçš„å†…å­˜æ³„æ¼é—®é¢˜</span></span>
<span class="line"><span>            if (firstReader == current) {</span></span>
<span class="line"><span>                // å¦‚æœå½“å‰å½“å‰çº¿ç¨‹æ˜¯ä¹‹å‰çš„firstReaderï¼Œä»€ä¹ˆéƒ½ä¸ç”¨åš</span></span>
<span class="line"><span>            } else {</span></span>
<span class="line"><span>                // ç¬¬ä¸€æ¬¡è¿›æ¥æ˜¯nullã€‚</span></span>
<span class="line"><span>                if (rh == null) {</span></span>
<span class="line"><span>                    // æ‹¿åˆ°æœ€åä¸€ä¸ªè·å–è¯»é”çš„çº¿ç¨‹</span></span>
<span class="line"><span>                    rh = cachedHoldCounter;</span></span>
<span class="line"><span>                    // å½“å‰çº¿ç¨‹å¹¶ä¸æ˜¯cachedHoldCounterï¼Œæ²¡åˆ°æ‹¿åˆ°</span></span>
<span class="line"><span>                    if (rh == null || rh.tid != getThreadId(current)) {</span></span>
<span class="line"><span>                        // ä»è‡ªå·±çš„ThreadLocalä¸­æ‹¿åˆ°é‡å…¥è®¡æ•°å™¨</span></span>
<span class="line"><span>                        rh = readHolds.get();</span></span>
<span class="line"><span>                        // å¦‚æœè®¡æ•°å™¨ä¸º0ï¼Œè¯´æ˜ä¹‹å‰æ²¡æ‹¿åˆ°è¿‡è¯»é”èµ„æº</span></span>
<span class="line"><span>                        if (rh.count == 0)</span></span>
<span class="line"><span>                            // removeï¼Œé¿å…å†…å­˜æ³„æ¼</span></span>
<span class="line"><span>                            readHolds.remove();</span></span>
<span class="line"><span>                    }</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>                // å‰é¢å¤„ç†å®Œä¹‹åï¼Œç›´æ¥è¿”å›-1</span></span>
<span class="line"><span>                if (rh.count == 0)</span></span>
<span class="line"><span>                    return -1;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // åˆ¤æ–­é‡å…¥æ¬¡æ•°ï¼Œæ˜¯å¦è¶…å‡ºé˜ˆå€¼</span></span>
<span class="line"><span>        if (sharedCount(c) == MAX_COUNT)</span></span>
<span class="line"><span>            throw new Error(&quot;Maximum lock count exceeded&quot;);</span></span>
<span class="line"><span>        // CASå°è¯•è·å–é”èµ„æº</span></span>
<span class="line"><span>        if (compareAndSetState(c, c + SHARED_UNIT)) {</span></span>
<span class="line"><span>            if (sharedCount(c) == 0) {</span></span>
<span class="line"><span>                firstReader = current;</span></span>
<span class="line"><span>                firstReaderHoldCount = 1;</span></span>
<span class="line"><span>            } else if (firstReader == current) {</span></span>
<span class="line"><span>                firstReaderHoldCount++;</span></span>
<span class="line"><span>            } else {</span></span>
<span class="line"><span>                if (rh == null)</span></span>
<span class="line"><span>                    rh = cachedHoldCounter;</span></span>
<span class="line"><span>                if (rh == null || rh.tid != getThreadId(current))</span></span>
<span class="line"><span>                    rh = readHolds.get();</span></span>
<span class="line"><span>                else if (rh.count == 0)</span></span>
<span class="line"><span>                    readHolds.set(rh);</span></span>
<span class="line"><span>                rh.count++;</span></span>
<span class="line"><span>                cachedHoldCounter = rh; // cache for release</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            return 1;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_4-1-4-è¯»çº¿ç¨‹åœ¨aqsé˜Ÿåˆ—è·å–é”èµ„æºçš„åç»­æ“ä½œ" tabindex="-1">4.1.4 è¯»çº¿ç¨‹åœ¨AQSé˜Ÿåˆ—è·å–é”èµ„æºçš„åç»­æ“ä½œ <a class="header-anchor" href="#_4-1-4-è¯»çº¿ç¨‹åœ¨aqsé˜Ÿåˆ—è·å–é”èµ„æºçš„åç»­æ“ä½œ" aria-label="Permalink to &quot;4.1.4 è¯»çº¿ç¨‹åœ¨AQSé˜Ÿåˆ—è·å–é”èµ„æºçš„åç»­æ“ä½œ&quot;">â€‹</a></h4><p>1ã€æ­£å¸¸å¦‚æœéƒ½æ˜¯è¯»çº¿ç¨‹æ¥è·å–è¯»é”èµ„æºï¼Œä¸éœ€è¦ä½¿ç”¨åˆ°AQSé˜Ÿåˆ—çš„ï¼Œç›´æ¥CASæ“ä½œå³å¯</p><p>2ã€å¦‚æœå†™çº¿ç¨‹æŒæœ‰ç€å†™é”ï¼Œè¿™æ˜¯è¯»çº¿ç¨‹å°±éœ€è¦è¿›å…¥åˆ°AQSé˜Ÿåˆ—æ’é˜Ÿï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªè¯»çº¿ç¨‹åœ¨AQSä¸­ã€‚</p><p>å½“å†™é”é‡Šæ”¾èµ„æºåï¼Œä¼šå”¤é†’headåé¢çš„è¯»çº¿ç¨‹ï¼Œå½“headåé¢çš„è¯»çº¿ç¨‹æ‹¿åˆ°é”èµ„æºåï¼Œè¿˜éœ€è¦æŸ¥çœ‹nextèŠ‚ç‚¹æ˜¯å¦ä¹Ÿæ˜¯è¯»çº¿ç¨‹åœ¨é˜»å¡ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥å”¤é†’</p><p>æºç åˆ†æ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// è¯»é”éœ€è¦æ’é˜Ÿçš„æ“ä½œ</span></span>
<span class="line"><span>private void doAcquireShared(int arg) {</span></span>
<span class="line"><span>    // å£°æ˜Nodeï¼Œç±»å‹æ˜¯å…±äº«é”ï¼Œå¹¶ä¸”æ‰”åˆ°AQSä¸­æ’é˜Ÿ</span></span>
<span class="line"><span>    final Node node = addWaiter(Node.SHARED);</span></span>
<span class="line"><span>    boolean failed = true;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        boolean interrupted = false;</span></span>
<span class="line"><span>        for (;;) {</span></span>
<span class="line"><span>            // æ‹¿åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹</span></span>
<span class="line"><span>            final Node p = node.predecessor();</span></span>
<span class="line"><span>            // å¦‚æœprevèŠ‚ç‚¹æ˜¯headï¼Œç›´æ¥å¯ä»¥æ‰§è¡ŒtryAcquireShared</span></span>
<span class="line"><span>            if (p == head) {</span></span>
<span class="line"><span>                int r = tryAcquireShared(arg);</span></span>
<span class="line"><span>                if (r &gt;= 0) {</span></span>
<span class="line"><span>                    // æ‹¿åˆ°è¯»é”èµ„æºåï¼Œéœ€è¦åšçš„åç»­å¤„ç†</span></span>
<span class="line"><span>                    setHeadAndPropagate(node, r);</span></span>
<span class="line"><span>                    p.next = null; // help GC</span></span>
<span class="line"><span>                    if (interrupted)</span></span>
<span class="line"><span>                        selfInterrupt();</span></span>
<span class="line"><span>                    failed = false;</span></span>
<span class="line"><span>                    return;</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // æ‰¾åˆ°prevæœ‰æ•ˆèŠ‚ç‚¹ï¼Œå°†çŠ¶æ€è®¾ç½®ä¸º-1ï¼ŒæŒ‚èµ·å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>            if (shouldParkAfterFailedAcquire(p, node) &amp;&amp;</span></span>
<span class="line"><span>                parkAndCheckInterrupt())</span></span>
<span class="line"><span>                interrupted = true;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        if (failed)</span></span>
<span class="line"><span>            cancelAcquire(node);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private void setHeadAndPropagate(Node node, int propagate) {</span></span>
<span class="line"><span>    // æ‹¿åˆ°headèŠ‚ç‚¹</span></span>
<span class="line"><span>    Node h = head; </span></span>
<span class="line"><span>    // å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºheadèŠ‚ç‚¹</span></span>
<span class="line"><span>    setHead(node);</span></span>
<span class="line"><span>    // ç¬¬ä¸€ä¸ªåˆ¤æ–­æ›´å¤šçš„æ˜¯åœ¨ä¿¡å·é‡æœ‰å¤„ç†JDK1.5 BUGçš„æ“ä½œã€‚</span></span>
<span class="line"><span>    if (propagate &gt; 0 || h == null || h.waitStatus &lt; 0 || (h = head) == null || h.waitStatus &lt; 0) {</span></span>
<span class="line"><span>        // æ‹¿åˆ°å½“å‰Nodeçš„nextèŠ‚ç‚¹</span></span>
<span class="line"><span>        Node s = node.next;</span></span>
<span class="line"><span>        // å¦‚æœnextèŠ‚ç‚¹æ˜¯å…±äº«é”ï¼Œç›´æ¥å”¤é†’nextèŠ‚ç‚¹</span></span>
<span class="line"><span>        if (s == null || s.isShared())</span></span>
<span class="line"><span>            doReleaseShared();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_4-2-è¯»é”çš„é‡Šæ”¾é”æµç¨‹" tabindex="-1">4.2 è¯»é”çš„é‡Šæ”¾é”æµç¨‹ <a class="header-anchor" href="#_4-2-è¯»é”çš„é‡Šæ”¾é”æµç¨‹" aria-label="Permalink to &quot;4.2 è¯»é”çš„é‡Šæ”¾é”æµç¨‹&quot;">â€‹</a></h3><p>1ã€å¤„ç†é‡å…¥ä»¥åŠstateçš„å€¼</p><p>2ã€å”¤é†’åç»­æ’é˜Ÿçš„Node</p><p>æºç åˆ†æ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// è¯»é”é‡Šæ”¾é”æµç¨‹</span></span>
<span class="line"><span>public final boolean releaseShared(int arg) {</span></span>
<span class="line"><span>    // tryReleaseSharedï¼šå¤„ç†stateçš„å€¼ï¼Œä»¥åŠå¯é‡å…¥çš„å†…å®¹</span></span>
<span class="line"><span>    if (tryReleaseShared(arg)) {</span></span>
<span class="line"><span>        // AQSé˜Ÿåˆ—çš„äº‹ï¼</span></span>
<span class="line"><span>        doReleaseShared();</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return false;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 1ã€ å¤„ç†é‡å…¥é—®é¢˜  2ã€ å¤„ç†state</span></span>
<span class="line"><span>protected final boolean tryReleaseShared(int unused) {</span></span>
<span class="line"><span>    // æ‹¿åˆ°å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>    Thread current = Thread.currentThread();</span></span>
<span class="line"><span>    // å¦‚æœæ˜¯firstReaderï¼Œç›´æ¥å¹²æ´»ï¼Œä¸éœ€è¦ThreadLocal</span></span>
<span class="line"><span>    if (firstReader == current) {</span></span>
<span class="line"><span>        // assert firstReaderHoldCount &gt; 0;</span></span>
<span class="line"><span>        if (firstReaderHoldCount == 1)</span></span>
<span class="line"><span>            firstReader = null;</span></span>
<span class="line"><span>        else</span></span>
<span class="line"><span>            firstReaderHoldCount--;</span></span>
<span class="line"><span>    } </span></span>
<span class="line"><span>    // ä¸æ˜¯firstReaderï¼Œä»cachedHoldCounterä»¥åŠThreadLocalå¤„ç†</span></span>
<span class="line"><span>    else {</span></span>
<span class="line"><span>        // å¦‚æœæ˜¯cachedHoldCounterï¼Œæ­£å¸¸--</span></span>
<span class="line"><span>        HoldCounter rh = cachedHoldCounter;</span></span>
<span class="line"><span>        // å¦‚æœä¸æ˜¯cachedHoldCounterï¼Œä»è‡ªå·±çš„ThreadLocalä¸­æ‹¿</span></span>
<span class="line"><span>        if (rh == null || rh.tid != getThreadId(current))</span></span>
<span class="line"><span>            rh = readHolds.get();</span></span>
<span class="line"><span>        int count = rh.count;</span></span>
<span class="line"><span>        // å¦‚æœä¸º1æˆ–è€…æ›´å°ï¼Œå½“å‰çº¿ç¨‹å°±é‡Šæ”¾å¹²å‡€äº†ï¼Œç›´æ¥removeï¼Œé¿å…valueå†…å­˜æ³„æ¼</span></span>
<span class="line"><span>        if (count &lt;= 1) {</span></span>
<span class="line"><span>            readHolds.remove();</span></span>
<span class="line"><span>            // å¦‚æœå·²ç»æ˜¯0ï¼Œæ²¡å¿…è¦å†unlockï¼Œæ‰”ä¸ªå¼‚å¸¸</span></span>
<span class="line"><span>            if (count &lt;= 0)</span></span>
<span class="line"><span>                throw unmatchedUnlockException();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // -- èµ°ä½ ã€‚</span></span>
<span class="line"><span>        --rh.count;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    for (;;) {</span></span>
<span class="line"><span>        // æ‹¿åˆ°stateï¼Œé«˜16ä½ï¼Œ-1ï¼ŒæˆåŠŸåï¼Œè¿”å›stateæ˜¯å¦ä¸º0</span></span>
<span class="line"><span>        int c = getState();</span></span>
<span class="line"><span>        int nextc = c - SHARED_UNIT;</span></span>
<span class="line"><span>        if (compareAndSetState(c, nextc))</span></span>
<span class="line"><span>            return nextc == 0;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å”¤é†’AQSä¸­æ’é˜Ÿçš„çº¿ç¨‹</span></span>
<span class="line"><span>private void doReleaseShared() {</span></span>
<span class="line"><span>    // æ­»å¾ªç¯</span></span>
<span class="line"><span>    for (;;) {</span></span>
<span class="line"><span>        // æ‹¿åˆ°å¤´</span></span>
<span class="line"><span>        Node h = head;</span></span>
<span class="line"><span>        // è¯´æ˜æœ‰æ’é˜Ÿçš„</span></span>
<span class="line"><span>        if (h != null &amp;&amp; h != tail) {</span></span>
<span class="line"><span>            // æ‹¿åˆ°headçš„çŠ¶æ€</span></span>
<span class="line"><span>            int ws = h.waitStatus;</span></span>
<span class="line"><span>            // åˆ¤æ–­æ˜¯å¦ä¸º -1 </span></span>
<span class="line"><span>            if (ws == Node.SIGNAL) {</span></span>
<span class="line"><span>                // åˆ°è¿™ï¼Œè¯´æ˜åé¢æœ‰æŒ‚èµ·çš„çº¿ç¨‹ï¼Œå…ˆåŸºäºCASå°†headçš„çŠ¶æ€ä»-1ï¼Œæ”¹ä¸º0</span></span>
<span class="line"><span>                if (!compareAndSetWaitStatus(h, Node.SIGNAL, 0))</span></span>
<span class="line"><span>                    continue;   </span></span>
<span class="line"><span>                // å”¤é†’åç»­èŠ‚ç‚¹</span></span>
<span class="line"><span>                unparkSuccessor(h);</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // è¿™é‡Œä¸æ˜¯ç»™è¯»å†™é”å‡†å¤‡çš„ï¼Œåœ¨ä¿¡å·é‡é‡Œè¯´ã€‚ã€‚ã€‚</span></span>
<span class="line"><span>            else if (ws == 0 &amp;&amp; !compareAndSetWaitStatus(h, 0, Node.PROPAGATE))</span></span>
<span class="line"><span>                continue;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // è¿™é‡Œæ˜¯å‡ºå£</span></span>
<span class="line"><span>        if (h == head)   </span></span>
<span class="line"><span>            break;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="äº”ã€æ­»é”é—®é¢˜" tabindex="-1">äº”ã€<strong>æ­»é”é—®é¢˜</strong> <a class="header-anchor" href="#äº”ã€æ­»é”é—®é¢˜" aria-label="Permalink to &quot;äº”ã€**æ­»é”é—®é¢˜**&quot;">â€‹</a></h2><p>åœ¨å’±ä»¬çš„æ“ä½œç³»ç»Ÿ2022ç‰ˆæœ¬æœ‰ï¼Œå·²ç»æœ‰æœ€æ–°çš„æ­»é”è¯¾ç¨‹äº†ï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šè®²è§£</p><p>æŸ¥çœ‹è¿™ä¸ªè¯¾ç¨‹ï¼š</p><p><a href="https://www.mashibing.com/course/1368" target="_blank" rel="noreferrer">https://www.mashibing.com/course/1368</a></p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/3a3563ce1673493787f97aeac99dc5e4.png" alt="" loading="lazy"></p><h1 id="å››ã€é˜»å¡é˜Ÿåˆ—" tabindex="-1">å››ã€<strong>é˜»å¡é˜Ÿåˆ—</strong> <a class="header-anchor" href="#å››ã€é˜»å¡é˜Ÿåˆ—" aria-label="Permalink to &quot;å››ã€**é˜»å¡é˜Ÿåˆ—**&quot;">â€‹</a></h1><h2 id="ä¸€ã€åŸºç¡€æ¦‚å¿µ-1" tabindex="-1">ä¸€ã€<strong>åŸºç¡€æ¦‚å¿µ</strong> <a class="header-anchor" href="#ä¸€ã€åŸºç¡€æ¦‚å¿µ-1" aria-label="Permalink to &quot;ä¸€ã€**åŸºç¡€æ¦‚å¿µ**&quot;">â€‹</a></h2><h3 id="_1-1-ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¦‚å¿µ" tabindex="-1">1.1 ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¦‚å¿µ <a class="header-anchor" href="#_1-1-ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¦‚å¿µ" aria-label="Permalink to &quot;1.1 ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¦‚å¿µ&quot;">â€‹</a></h3><p>ç”Ÿäº§è€…æ¶ˆè´¹è€…æ˜¯è®¾è®¡æ¨¡å¼çš„ä¸€ç§ã€‚è®©ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…åŸºäºä¸€ä¸ªå®¹å™¨æ¥è§£å†³å¼ºè€¦åˆé—®é¢˜ã€‚</p><p>ç”Ÿäº§è€… æ¶ˆè´¹è€…å½¼æ­¤ä¹‹é—´ä¸ä¼šç›´æ¥é€šè®¯çš„ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªå®¹å™¨ï¼ˆé˜Ÿåˆ—ï¼‰è¿›è¡Œé€šè®¯ã€‚</p><p>æ‰€ä»¥ç”Ÿäº§è€…ç”Ÿäº§å®Œæ•°æ®åæ‰”åˆ°å®¹å™¨ä¸­ï¼Œä¸é€šç”¨ç­‰å¾…æ¶ˆè´¹è€…æ¥å¤„ç†ã€‚</p><p>æ¶ˆè´¹è€…ä¸éœ€è¦å»æ‰¾ç”Ÿäº§è€…è¦æ•°æ®ï¼Œç›´æ¥ä»å®¹å™¨ä¸­è·å–å³å¯ã€‚</p><p>è€Œè¿™ç§å®¹å™¨æœ€å¸¸ç”¨çš„ç»“æ„å°±æ˜¯é˜Ÿåˆ—ã€‚</p><h3 id="_1-2-jucé˜»å¡é˜Ÿåˆ—çš„å­˜å–æ–¹æ³•" tabindex="-1">1.2 JUCé˜»å¡é˜Ÿåˆ—çš„å­˜å–æ–¹æ³• <a class="header-anchor" href="#_1-2-jucé˜»å¡é˜Ÿåˆ—çš„å­˜å–æ–¹æ³•" aria-label="Permalink to &quot;1.2 JUCé˜»å¡é˜Ÿåˆ—çš„å­˜å–æ–¹æ³•&quot;">â€‹</a></h3><p>å¸¸ç”¨çš„å­˜å–æ–¹æ³•éƒ½æ˜¯æ¥è‡ªäºJUCåŒ…ä¸‹çš„BlockingQueue</p><p>ç”Ÿäº§è€…å­˜å‚¨æ–¹æ³•</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>add(E)     	// æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œæ— æ³•å­˜å‚¨ï¼ŒæŠ›å‡ºå¼‚å¸¸</span></span>
<span class="line"><span>offer(E)    // æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè¿”å›false</span></span>
<span class="line"><span>offer(E,timeout,unit)   // æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œé˜»å¡timeoutæ—¶é—´ï¼Œå¦‚æœé˜»å¡ä¸€æ®µæ—¶é—´ï¼Œä¾ç„¶æ²¡æ·»åŠ è¿›å…¥ï¼Œè¿”å›false</span></span>
<span class="line"><span>put(E)      // æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼ŒæŒ‚èµ·çº¿ç¨‹ï¼Œç­‰åˆ°é˜Ÿåˆ—ä¸­æœ‰ä½ç½®ï¼Œå†æ‰”æ•°æ®è¿›å»ï¼Œæ­»ç­‰ï¼</span></span></code></pre></div><p>æ¶ˆè´¹è€…å–æ•°æ®æ–¹æ³•</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>remove()    // ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ•°æ®ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼ŒæŠ›å‡ºå¼‚å¸¸</span></span>
<span class="line"><span>poll()      // ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ•°æ®ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›nullï¼Œä¹ˆçš„æ•°æ®</span></span>
<span class="line"><span>poll(timeout,unit)   // ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ•°æ®ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼ŒæŒ‚èµ·çº¿ç¨‹timeoutæ—¶é—´ï¼Œç­‰ç”Ÿäº§è€…æ‰”æ•°æ®ï¼Œå†è·å–</span></span>
<span class="line"><span>take()     // ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ•°æ®ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œçº¿ç¨‹æŒ‚èµ·ï¼Œä¸€ç›´ç­‰åˆ°ç”Ÿäº§è€…æ‰”æ•°æ®ï¼Œå†è·å–</span></span></code></pre></div><h2 id="äºŒã€arrayblockingqueue" tabindex="-1">äºŒã€<strong>ArrayBlockingQueue</strong> <a class="header-anchor" href="#äºŒã€arrayblockingqueue" aria-label="Permalink to &quot;äºŒã€**ArrayBlockingQueue**&quot;">â€‹</a></h2><h3 id="_2-1-arrayblockingqueueçš„åŸºæœ¬ä½¿ç”¨" tabindex="-1">2.1 ArrayBlockingQueueçš„åŸºæœ¬ä½¿ç”¨ <a class="header-anchor" href="#_2-1-arrayblockingqueueçš„åŸºæœ¬ä½¿ç”¨" aria-label="Permalink to &quot;2.1 ArrayBlockingQueueçš„åŸºæœ¬ä½¿ç”¨&quot;">â€‹</a></h3><p><strong>ArrayBlockingQueue</strong>åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå¿…é¡»æŒ‡å®šå½“å‰é˜Ÿåˆ—çš„é•¿åº¦ã€‚</p><p>å› ä¸º<strong>ArrayBlockingQueue</strong>æ˜¯åŸºäºæ•°ç»„å®ç°çš„é˜Ÿåˆ—ç»“æ„ï¼Œæ•°ç»„é•¿åº¦ä¸å¯å˜ï¼Œå¿…é¡»æå‰è®¾ç½®æ•°ç»„é•¿åº¦ä¿¡æ¯ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws ExecutionException, InterruptedException, IOException {</span></span>
<span class="line"><span>    // å¿…é¡»è®¾ç½®é˜Ÿåˆ—çš„é•¿åº¦</span></span>
<span class="line"><span>    ArrayBlockingQueue queue = new ArrayBlockingQueue(4);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // ç”Ÿäº§è€…æ‰”æ•°æ®</span></span>
<span class="line"><span>    queue.add(&quot;1&quot;);</span></span>
<span class="line"><span>    queue.offer(&quot;2&quot;);</span></span>
<span class="line"><span>    queue.offer(&quot;3&quot;,2,TimeUnit.SECONDS);</span></span>
<span class="line"><span>    queue.put(&quot;2&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // æ¶ˆè´¹è€…å–æ•°æ®</span></span>
<span class="line"><span>    System.out.println(queue.remove());</span></span>
<span class="line"><span>    System.out.println(queue.poll());</span></span>
<span class="line"><span>    System.out.println(queue.poll(2,TimeUnit.SECONDS));</span></span>
<span class="line"><span>    System.out.println(queue.take());</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_2-2-ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç†" tabindex="-1">2.2 ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç† <a class="header-anchor" href="#_2-2-ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç†" aria-label="Permalink to &quot;2.2 ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç†&quot;">â€‹</a></h3><p>ç”Ÿäº§è€…æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—çš„æ–¹æ³•æ¯”è¾ƒå¤šï¼Œéœ€è¦ä¸€ä¸ªä¸€ä¸ªæŸ¥çœ‹</p><h4 id="_2-2-1-arrayblockingqueueçš„å¸¸è§å±æ€§" tabindex="-1">2.2.1 ArrayBlockingQueueçš„å¸¸è§å±æ€§ <a class="header-anchor" href="#_2-2-1-arrayblockingqueueçš„å¸¸è§å±æ€§" aria-label="Permalink to &quot;2.2.1 ArrayBlockingQueueçš„å¸¸è§å±æ€§&quot;">â€‹</a></h4><p>ArrayBlockingQueueä¸­çš„æˆå‘˜å˜é‡</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>lock = å°±æ˜¯ä¸€ä¸ªReentrantLock</span></span>
<span class="line"><span>count = å°±æ˜¯å½“å‰æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span>
<span class="line"><span>iterms = å°±æ˜¯æ•°ç»„æœ¬èº«</span></span>
<span class="line"><span># åŸºäºputIndexå’ŒtakeIndexå°†æ•°ç»„ç»“æ„å®ç°ä¸ºäº†é˜Ÿåˆ—ç»“æ„</span></span>
<span class="line"><span>putIndex = å­˜å‚¨æ•°æ®æ—¶çš„ä¸‹æ ‡</span></span>
<span class="line"><span>takeIndex = å–æ•°æ®æ—¶çš„ä¸‹æ ‡</span></span>
<span class="line"><span>notEmpty = æ¶ˆè´¹è€…æŒ‚èµ·çº¿ç¨‹å’Œå”¤é†’çº¿ç¨‹ç”¨åˆ°çš„Conditionï¼ˆçœ‹æˆsyncçš„waitå’Œnotifyï¼‰</span></span>
<span class="line"><span>notFull = ç”Ÿäº§è€…æŒ‚èµ·çº¿ç¨‹å’Œå”¤é†’çº¿ç¨‹ç”¨åˆ°çš„Conditionï¼ˆçœ‹æˆsyncçš„waitå’Œnotifyï¼‰</span></span></code></pre></div><h4 id="_2-2-2-addæ–¹æ³•å®ç°" tabindex="-1">2.2.2 addæ–¹æ³•å®ç° <a class="header-anchor" href="#_2-2-2-addæ–¹æ³•å®ç°" aria-label="Permalink to &quot;2.2.2 addæ–¹æ³•å®ç°&quot;">â€‹</a></h4><p>addæ–¹æ³•æœ¬èº«å°±æ˜¯è°ƒç”¨äº†offeræ–¹æ³•ï¼Œå¦‚æœofferæ–¹æ³•è¿”å›falseï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public boolean add(E e) {</span></span>
<span class="line"><span>    if (offer(e))</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    else</span></span>
<span class="line"><span>        // æŠ›å‡ºçš„å¼‚å¸¸</span></span>
<span class="line"><span>        throw new IllegalStateException(&quot;Queue full&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-2-3-offeræ–¹æ³•å®ç°" tabindex="-1">2.2.3 offeræ–¹æ³•å®ç° <a class="header-anchor" href="#_2-2-3-offeræ–¹æ³•å®ç°" aria-label="Permalink to &quot;2.2.3 offeræ–¹æ³•å®ç°&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public boolean offer(E e) {</span></span>
<span class="line"><span>    // è¦æ±‚å­˜å‚¨çš„æ•°æ®ä¸å…è®¸ä¸ºnullï¼Œä¸ºnullå°±æŠ›å‡ºç©ºæŒ‡é’ˆ</span></span>
<span class="line"><span>    checkNotNull(e);</span></span>
<span class="line"><span>    // å½“å‰é˜»å¡é˜Ÿåˆ—çš„locké”</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    // ä¸ºäº†ä¿è¯çº¿ç¨‹å®‰å…¨ï¼ŒåŠ é”</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å¦‚æœé˜Ÿåˆ—ä¸­çš„å…ƒç´ å·²ç»å­˜æ»¡äº†ï¼Œ</span></span>
<span class="line"><span>        if (count == items.length)</span></span>
<span class="line"><span>            // è¿”å›false</span></span>
<span class="line"><span>            return false;</span></span>
<span class="line"><span>        else {</span></span>
<span class="line"><span>            // é˜Ÿåˆ—æ²¡æ»¡ï¼Œæ‰§è¡Œenqueueå°†å…ƒç´ æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­</span></span>
<span class="line"><span>            enqueue(e);</span></span>
<span class="line"><span>            // è¿”å›true</span></span>
<span class="line"><span>            return true;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // æ“ä½œå®Œé‡Šæ”¾é”</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//==========================================================</span></span>
<span class="line"><span>private void enqueue(E x) {</span></span>
<span class="line"><span>    // æ‹¿åˆ°æ•°ç»„çš„å¼•ç”¨</span></span>
<span class="line"><span>    final Object[] items = this.items;</span></span>
<span class="line"><span>    // å°†å…ƒç´ æ”¾åˆ°æŒ‡å®šä½ç½®</span></span>
<span class="line"><span>    items[putIndex] = x;</span></span>
<span class="line"><span>    // å¯¹inputIndexè¿›è¡Œ++æ“ä½œï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯å¦å·²ç»ç­‰äºæ•°ç»„é•¿åº¦ï¼Œéœ€è¦å½’ä½</span></span>
<span class="line"><span>    if (++putIndex == items.length)</span></span>
<span class="line"><span>        // å°†ç´¢å¼•è®¾ç½®ä¸º0</span></span>
<span class="line"><span>        putIndex = 0;</span></span>
<span class="line"><span>    // å…ƒç´ æ·»åŠ æˆåŠŸï¼Œè¿›è¡Œ++æ“ä½œã€‚</span></span>
<span class="line"><span>    count++;</span></span>
<span class="line"><span>    // å°†ä¸€ä¸ªConditionä¸­é˜»å¡çš„çº¿ç¨‹å”¤é†’ã€‚</span></span>
<span class="line"><span>    notEmpty.signal();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-2-4-offer-time-unit-æ–¹æ³•" tabindex="-1">2.2.4 Â offer(time,unit)æ–¹æ³• <a class="header-anchor" href="#_2-2-4-offer-time-unit-æ–¹æ³•" aria-label="Permalink to &quot;2.2.4 Â offer(time,unit)æ–¹æ³•&quot;">â€‹</a></h4><p>ç”Ÿäº§è€…åœ¨æ·»åŠ æ•°æ®æ—¶ï¼Œå¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé˜»å¡ä¸€ä¼šã€‚</p><ul><li><p>é˜»å¡åˆ°æ¶ˆè´¹è€…æ¶ˆè´¹äº†æ¶ˆæ¯ï¼Œç„¶åå”¤é†’å½“å‰é˜»å¡çº¿ç¨‹</p></li><li><p>é˜»å¡åˆ°äº†timeæ—¶é—´ï¼Œå†æ¬¡åˆ¤æ–­æ˜¯å¦å¯ä»¥æ·»åŠ ï¼Œä¸èƒ½ï¼Œç›´æ¥å‘Šè¾ã€‚</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å¦‚æœçº¿ç¨‹åœ¨æŒ‚èµ·çš„æ—¶å€™ï¼Œå¦‚æœå¯¹å½“å‰é˜»å¡çº¿ç¨‹çš„ä¸­æ–­æ ‡è®°ä½è¿›è¡Œè®¾ç½®ï¼Œæ­¤æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ç›´æ¥ç»“æŸ</span></span>
<span class="line"><span>public boolean offer(E e, long timeout, TimeUnit unit) throws InterruptedException {</span></span>
<span class="line"><span>	// éç©ºæ£€éªŒ</span></span>
<span class="line"><span>    checkNotNull(e);</span></span>
<span class="line"><span>    // å°†æ—¶é—´å•ä½è½¬æ¢ä¸ºçº³ç§’</span></span>
<span class="line"><span>    long nanos = unit.toNanos(timeout);</span></span>
<span class="line"><span>    // åŠ é”</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    // å…è®¸çº¿ç¨‹ä¸­æ–­å¹¶æ’é™¤å¼‚å¸¸çš„åŠ é”æ–¹å¼</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // ä¸ºä»€ä¹ˆæ˜¯whileï¼ˆè™šå‡å”¤é†’ï¼‰</span></span>
<span class="line"><span>        // å¦‚æœå…ƒç´ ä¸ªæ•°å’Œæ•°ç»„é•¿åº¦ä¸€è‡´ï¼Œé˜Ÿåˆ—æ…¢äº†</span></span>
<span class="line"><span>        while (count == items.length) {</span></span>
<span class="line"><span>            // åˆ¤æ–­ç­‰å¾…çš„æ—¶é—´æ˜¯å¦è¿˜å……è£•</span></span>
<span class="line"><span>            if (nanos &lt;= 0)</span></span>
<span class="line"><span>                // ä¸å……è£•ï¼Œç›´æ¥æ·»åŠ å¤±è´¥</span></span>
<span class="line"><span>                return false;</span></span>
<span class="line"><span>            // æŒ‚èµ·ç­‰å¾…ï¼Œä¼šåŒæ—¶é‡Šæ”¾é”èµ„æºï¼ˆå¯¹æ ‡syncçš„waitæ–¹æ³•ï¼‰</span></span>
<span class="line"><span>            // awaitNanosä¼šæŒ‚èµ·çº¿ç¨‹ï¼Œå¹¶ä¸”è¿”å›å‰©ä½™çš„é˜»å¡æ—¶é—´</span></span>
<span class="line"><span>            // æ¢å¤æ‰§è¡Œæ—¶ï¼Œéœ€è¦é‡æ–°è·å–é”èµ„æº</span></span>
<span class="line"><span>            nanos = notFull.awaitNanos(nanos);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // è¯´æ˜é˜Ÿåˆ—æœ‰ç©ºé—´äº†ï¼Œenqueueå°†æ•°æ®æ‰”åˆ°é˜»å¡é˜Ÿåˆ—ä¸­</span></span>
<span class="line"><span>        enqueue(e);</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é‡Šæ”¾é”èµ„æº</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-2-5-putæ–¹æ³•" tabindex="-1">2.2.5 putæ–¹æ³• <a class="header-anchor" href="#_2-2-5-putæ–¹æ³•" aria-label="Permalink to &quot;2.2.5 putæ–¹æ³•&quot;">â€‹</a></h4><p>å¦‚æœé˜Ÿåˆ—æ˜¯æ»¡çš„ï¼Œ å°±ä¸€ç›´æŒ‚èµ·ï¼Œç›´åˆ°è¢«å”¤é†’ï¼Œæˆ–è€…è¢«ä¸­æ–­</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public void put(E e) throws InterruptedException {</span></span>
<span class="line"><span>    checkNotNull(e);</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        while (count == items.length)</span></span>
<span class="line"><span>            // awaitæ–¹æ³•ä¸€ç›´é˜»å¡ï¼Œç›´åˆ°è¢«å”¤é†’æˆ–è€…ä¸­æ–­æ ‡è®°ä½</span></span>
<span class="line"><span>            notFull.await();</span></span>
<span class="line"><span>        enqueue(e);</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_2-3-æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç†" tabindex="-1">2.3 æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç† <a class="header-anchor" href="#_2-3-æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç†" aria-label="Permalink to &quot;2.3 æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç†&quot;">â€‹</a></h3><h4 id="_2-3-1-removeæ–¹æ³•" tabindex="-1">2.3.1 removeæ–¹æ³• <a class="header-anchor" href="#_2-3-1-removeæ–¹æ³•" aria-label="Permalink to &quot;2.3.1 removeæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// removeæ–¹æ³•å°±æ˜¯è°ƒç”¨äº†poll</span></span>
<span class="line"><span>public E remove() {</span></span>
<span class="line"><span>    E x = poll();</span></span>
<span class="line"><span>    // å¦‚æœæœ‰æ•°æ®ï¼Œç›´æ¥è¿”å›</span></span>
<span class="line"><span>    if (x != null)</span></span>
<span class="line"><span>        return x;</span></span>
<span class="line"><span>    // æ²¡æ•°æ®æŠ›å‡ºå¼‚å¸¸</span></span>
<span class="line"><span>    else</span></span>
<span class="line"><span>        throw new NoSuchElementException();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-4-2-pollæ–¹æ³•" tabindex="-1">2.4.2 pollæ–¹æ³• <a class="header-anchor" href="#_2-4-2-pollæ–¹æ³•" aria-label="Permalink to &quot;2.4.2 pollæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// æ‹‰å–æ•°æ®</span></span>
<span class="line"><span>public E poll() {</span></span>
<span class="line"><span>    // åŠ é”æ“ä½œ</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å¦‚æœæ²¡æœ‰æ•°æ®ï¼Œç›´æ¥è¿”å›nullï¼Œå¦‚æœæœ‰æ•°æ®ï¼Œæ‰§è¡Œdequeueï¼Œå–å‡ºæ•°æ®å¹¶è¿”å›</span></span>
<span class="line"><span>        return (count == 0) ? null : dequeue();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//==========================================================</span></span>
<span class="line"><span>// å–å‡ºæ•°æ®</span></span>
<span class="line"><span>private E dequeue() {</span></span>
<span class="line"><span>    // å°†æˆå‘˜å˜é‡å¼•ç”¨åˆ°å±€éƒ¨å˜é‡</span></span>
<span class="line"><span>    final Object[] items = this.items;</span></span>
<span class="line"><span>    // ç›´æ¥è·å–æŒ‡å®šç´¢å¼•ä½ç½®çš„æ•°æ®</span></span>
<span class="line"><span>    E x = (E) items[takeIndex];</span></span>
<span class="line"><span>    // å°†æ•°ç»„ä¸ŠæŒ‡å®šç´¢å¼•ä½ç½®è®¾ç½®ä¸ºnull</span></span>
<span class="line"><span>    items[takeIndex] = null;</span></span>
<span class="line"><span>    // è®¾ç½®ä¸‹æ¬¡å–æ•°æ®æ—¶çš„ç´¢å¼•ä½ç½®</span></span>
<span class="line"><span>    if (++takeIndex == items.length)</span></span>
<span class="line"><span>        takeIndex = 0;</span></span>
<span class="line"><span>    // å¯¹countè¿›è¡Œ--æ“ä½œ</span></span>
<span class="line"><span>    count--;</span></span>
<span class="line"><span>    // è¿­ä»£å™¨å†…å®¹ï¼Œå…ˆè·³è¿‡</span></span>
<span class="line"><span>    if (itrs != null)</span></span>
<span class="line"><span>        itrs.elementDequeued();</span></span>
<span class="line"><span>    // signalæ–¹æ³•ï¼Œä¼šå”¤é†’å½“å‰Conditionä¸­æ’é˜Ÿçš„ä¸€ä¸ªNodeã€‚</span></span>
<span class="line"><span>    // signalAllæ–¹æ³•ï¼Œä¼šå°†Conditionä¸­æ‰€æœ‰çš„Nodeï¼Œå…¨éƒ½å”¤é†’</span></span>
<span class="line"><span>    notFull.signal();</span></span>
<span class="line"><span>    // è¿”å›æ•°æ®ã€‚</span></span>
<span class="line"><span>    return x;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-4-3-poll-time-unit-æ–¹æ³•" tabindex="-1">2.4.3 poll(time,unit)æ–¹æ³• <a class="header-anchor" href="#_2-4-3-poll-time-unit-æ–¹æ³•" aria-label="Permalink to &quot;2.4.3 poll(time,unit)æ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E poll(long timeout, TimeUnit unit) throws InterruptedException {</span></span>
<span class="line"><span>    // è½¬æ¢æ—¶é—´å•ä½</span></span>
<span class="line"><span>    long nanos = unit.toNanos(timeout);</span></span>
<span class="line"><span>    // ç«äº‰é”</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å¦‚æœæ²¡æœ‰æ•°æ®</span></span>
<span class="line"><span>        while (count == 0) {</span></span>
<span class="line"><span>            if (nanos &lt;= 0)</span></span>
<span class="line"><span>                // æ²¡æ•°æ®ï¼Œä¹Ÿæ— æ³•é˜»å¡äº†ï¼Œè¿”å›null</span></span>
<span class="line"><span>                return null;</span></span>
<span class="line"><span>            // æ²¡æ•°æ®ï¼ŒæŒ‚èµ·æ¶ˆè´¹è€…çº¿ç¨‹</span></span>
<span class="line"><span>            nanos = notEmpty.awaitNanos(nanos);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // å–æ•°æ®</span></span>
<span class="line"><span>        return dequeue();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-4-4-takeæ–¹æ³•" tabindex="-1">2.4.4 takeæ–¹æ³• <a class="header-anchor" href="#_2-4-4-takeæ–¹æ³•" aria-label="Permalink to &quot;2.4.4 takeæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E take() throws InterruptedException {</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // è™šå‡å”¤é†’</span></span>
<span class="line"><span>        while (count == 0)</span></span>
<span class="line"><span>            notEmpty.await();</span></span>
<span class="line"><span>        return dequeue();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_2-4-5-è™šå‡å”¤é†’" tabindex="-1">2.4.5 è™šå‡å”¤é†’ <a class="header-anchor" href="#_2-4-5-è™šå‡å”¤é†’" aria-label="Permalink to &quot;2.4.5 è™šå‡å”¤é†’&quot;">â€‹</a></h4><p>é˜»å¡é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœéœ€è¦çº¿ç¨‹æŒ‚èµ·æ“ä½œï¼Œåˆ¤æ–­æœ‰æ— æ•°æ®çš„ä½ç½®é‡‡ç”¨çš„æ˜¯whileå¾ªç¯ ï¼Œä¸ºä»€ä¹ˆä¸èƒ½æ¢æˆnull</p><p>è‚¯å®šæ˜¯ä¸èƒ½æ¢æˆifé€»è¾‘åˆ¤æ–­</p><p>çº¿ç¨‹Aï¼Œçº¿ç¨‹Bï¼Œçº¿ç¨‹Eï¼Œçº¿ç¨‹Cã€‚ å…¶ä¸­ABEç”Ÿäº§è€…ï¼ŒCå±äºæ¶ˆè´¹è€…</p><p>å‡å¦‚çº¿ç¨‹çš„é˜Ÿåˆ—æ˜¯æ»¡çš„</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// Eï¼Œæ‹¿åˆ°é”èµ„æºï¼Œè¿˜æ²¡æœ‰èµ°whileåˆ¤æ–­</span></span>
<span class="line"><span>while (count == items.length)</span></span>
<span class="line"><span>    // Aé†’äº†</span></span>
<span class="line"><span>    // BæŒ‚èµ·</span></span>
<span class="line"><span>    notFull.await();</span></span>
<span class="line"><span>enqueue(e)ï¼›</span></span></code></pre></div><p>Cæ­¤æ—¶æ¶ˆè´¹ä¸€æ¡æ•°æ®ï¼Œæ‰§è¡ŒnotFull.signal()å”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼ŒAçº¿ç¨‹è¢«å”¤é†’</p><p>Eèµ°åˆ¤æ–­ï¼Œå‘ç°æœ‰ç©ºä½™ä½ç½®ï¼Œå¯ä»¥æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—ï¼ŒEæ·»åŠ æ•°æ®ï¼Œèµ°enqueue</p><p>å¦‚æœåˆ¤æ–­æ˜¯ifï¼ŒAåœ¨Eé‡Šæ”¾é”èµ„æºåï¼Œæ‹¿åˆ°é”èµ„æºï¼Œç›´æ¥èµ°enqueueæ–¹æ³•ã€‚</p><p>æ­¤æ—¶Açº¿ç¨‹å°±æ˜¯åœ¨putIndexçš„ä½ç½®ï¼Œè¦†ç›–æ‰ä¹‹å‰çš„æ•°æ®ï¼Œé€ æˆæ•°æ®å®‰å…¨é—®é¢˜</p><h2 id="ä¸‰ã€linkedblockingqueue" tabindex="-1">ä¸‰ã€<strong>LinkedBlockingQueue</strong> <a class="header-anchor" href="#ä¸‰ã€linkedblockingqueue" aria-label="Permalink to &quot;ä¸‰ã€**LinkedBlockingQueue**&quot;">â€‹</a></h2><h3 id="_3-1-linkedblockingqueueçš„åº•å±‚å®ç°" tabindex="-1">3.1 LinkedBlockingQueueçš„åº•å±‚å®ç° <a class="header-anchor" href="#_3-1-linkedblockingqueueçš„åº•å±‚å®ç°" aria-label="Permalink to &quot;3.1 LinkedBlockingQueueçš„åº•å±‚å®ç°&quot;">â€‹</a></h3><p>æŸ¥çœ‹LinkedBlockingQueueæ˜¯å¦‚ä½•å­˜å‚¨æ•°æ®ï¼Œå¹¶ä¸”å®ç°é“¾è¡¨ç»“æ„çš„ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// Nodeå¯¹è±¡å°±æ˜¯å­˜å‚¨æ•°æ®çš„å•ä½</span></span>
<span class="line"><span>static class Node&lt;E&gt; {</span></span>
<span class="line"><span>    // å­˜å‚¨çš„æ•°æ®</span></span>
<span class="line"><span>    E item;</span></span>
<span class="line"><span>	// æŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®çš„æŒ‡é’ˆ</span></span>
<span class="line"><span>    Node&lt;E&gt; next;</span></span>
<span class="line"><span>	// æœ‰å‚æ„é€ </span></span>
<span class="line"><span>    Node(E x) { item = x; }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>æŸ¥çœ‹LinkedBlockingQueueçš„æœ‰å‚æ„é€ </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å¯ä»¥æ‰‹åŠ¨æŒ‡å®šLinkedBlockingQueueçš„é•¿åº¦ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºInteger.MAX_VALUE</span></span>
<span class="line"><span>public LinkedBlockingQueue(int capacity) {</span></span>
<span class="line"><span>    if (capacity &lt;= 0) throw new IllegalArgumentException();</span></span>
<span class="line"><span>    this.capacity = capacity;</span></span>
<span class="line"><span>    // åœ¨åˆå§‹åŒ–æ—¶ï¼Œæ„å»ºä¸€ä¸ªitemä¸ºnullçš„èŠ‚ç‚¹ï¼Œä½œä¸ºheadå’Œlast</span></span>
<span class="line"><span>	 // è¿™ç§nodeå¯ä»¥æˆä¸ºå“¨å…µNodeï¼Œ</span></span>
<span class="line"><span>    // å¦‚æœæ²¡æœ‰å“¨å…µèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è·å–æ•°æ®æ—¶ï¼Œéœ€è¦åˆ¤æ–­headæ˜¯å¦ä¸ºnullï¼Œæ‰èƒ½æ‰¾next</span></span>
<span class="line"><span>    // å¦‚æœæ²¡æœ‰å“¨å…µèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨æ·»åŠ æ•°æ®æ—¶ï¼Œéœ€è¦åˆ¤æ–­lastæ˜¯å¦ä¸ºnullï¼Œæ‰èƒ½æ‰¾next</span></span>
<span class="line"><span>    last = head = new Node&lt;E&gt;(null);</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>æŸ¥çœ‹LinkedBlockingQueueçš„å…¶ä»–å±æ€§</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å› ä¸ºæ˜¯é“¾è¡¨ï¼Œæ²¡æœ‰æƒ³æ•°ç»„çš„lengthå±æ€§ï¼ŒåŸºäºAtomicIntegeræ¥è®°å½•é•¿åº¦</span></span>
<span class="line"><span>private final AtomicInteger count = new AtomicInteger();</span></span>
<span class="line"><span>// é“¾è¡¨çš„å¤´ï¼Œå–</span></span>
<span class="line"><span>transient Node&lt;E&gt; head;</span></span>
<span class="line"><span>// é“¾è¡¨çš„å°¾ï¼Œå­˜</span></span>
<span class="line"><span>private transient Node&lt;E&gt; last;</span></span>
<span class="line"><span>// æ¶ˆè´¹è€…çš„é”</span></span>
<span class="line"><span>private final ReentrantLock takeLock = new ReentrantLock();</span></span>
<span class="line"><span>// æ¶ˆè´¹è€…çš„æŒ‚èµ·æ“ä½œï¼Œä»¥åŠå”¤é†’ç”¨çš„condition</span></span>
<span class="line"><span>private final Condition notEmpty = takeLock.newCondition();</span></span>
<span class="line"><span>// ç”Ÿäº§è€…çš„é”</span></span>
<span class="line"><span>private final ReentrantLock putLock = new ReentrantLock();</span></span>
<span class="line"><span>// ç”Ÿäº§è€…çš„æŒ‚èµ·æ“ä½œï¼Œä»¥åŠå”¤é†’ç”¨çš„condition</span></span>
<span class="line"><span>private final Condition notFull = putLock.newCondition();</span></span></code></pre></div><h3 id="_3-2-ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç†" tabindex="-1">3.2 ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç† <a class="header-anchor" href="#_3-2-ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç†" aria-label="Permalink to &quot;3.2 ç”Ÿäº§è€…æ–¹æ³•å®ç°åŸç†&quot;">â€‹</a></h3><h4 id="_3-2-1-addæ–¹æ³•" tabindex="-1">3.2.1 addæ–¹æ³• <a class="header-anchor" href="#_3-2-1-addæ–¹æ³•" aria-label="Permalink to &quot;3.2.1 addæ–¹æ³•&quot;">â€‹</a></h4><p>ä½ æ‡‚å¾—ï¼Œè¿˜æ˜¯èµ°offeræ–¹æ³•</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public boolean add(E e) {</span></span>
<span class="line"><span>    if (offer(e))</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    else</span></span>
<span class="line"><span>        throw new IllegalStateException(&quot;Queue full&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-2-2-offeræ–¹æ³•" tabindex="-1">3.2.2 offeræ–¹æ³• <a class="header-anchor" href="#_3-2-2-offeræ–¹æ³•" aria-label="Permalink to &quot;3.2.2 offeræ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public boolean offer(E e) {</span></span>
<span class="line"><span>    // éç©ºæ ¡éªŒ</span></span>
<span class="line"><span>    if (e == null) throw new NullPointerException();</span></span>
<span class="line"><span>    // æ‹¿åˆ°å­˜å‚¨æ•°æ®æ¡æ•°çš„count</span></span>
<span class="line"><span>    final AtomicInteger count = this.count;</span></span>
<span class="line"><span>    // æŸ¥çœ‹å½“å‰æ•°æ®æ¡æ•°ï¼Œæ˜¯å¦ç­‰äºé˜Ÿåˆ—é™åˆ¶é•¿åº¦ï¼Œè¾¾åˆ°äº†è¿™ä¸ªé•¿åº¦ï¼Œç›´æ¥è¿”å›false</span></span>
<span class="line"><span>    if (count.get() == capacity)</span></span>
<span class="line"><span>        return false;</span></span>
<span class="line"><span>    // å£°æ˜cï¼Œä½œä¸ºæ ‡è®°å­˜åœ¨</span></span>
<span class="line"><span>    int c = -1;</span></span>
<span class="line"><span>    // å°†å­˜å‚¨çš„æ•°æ®å°è£…ä¸ºNodeå¯¹è±¡</span></span>
<span class="line"><span>    Node&lt;E&gt; node = new Node&lt;E&gt;(e);</span></span>
<span class="line"><span>    // è·å–ç”Ÿäº§è€…çš„é”ã€‚</span></span>
<span class="line"><span>    final ReentrantLock putLock = this.putLock;</span></span>
<span class="line"><span>    // ç«äº‰é”èµ„æº</span></span>
<span class="line"><span>    putLock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å†æ¬¡åšä¸€ä¸ªåˆ¤æ–­ï¼ŒæŸ¥çœ‹æ˜¯å¦è¿˜æœ‰ç©ºé—´</span></span>
<span class="line"><span>        if (count.get() &lt; capacity) {</span></span>
<span class="line"><span>            // enqueueï¼Œæ‰”æ•°æ®</span></span>
<span class="line"><span>            enqueue(node);</span></span>
<span class="line"><span>            // å°†æ•°æ®ä¸ªæ•° + 1</span></span>
<span class="line"><span>            c = count.getAndIncrement();</span></span>
<span class="line"><span>            // æ‹¿åˆ°countçš„å€¼ å°äº é•¿åº¦é™åˆ¶</span></span>
<span class="line"><span>            // æœ‰ç”Ÿäº§è€…åœ¨åŸºäºawaitæŒ‚èµ·ï¼Œè¿™é‡Œæ·»åŠ å®Œæ•°æ®åï¼Œå‘ç°è¿˜æœ‰ç©ºé—´å¯ä»¥å­˜å‚¨æ•°æ®ï¼Œ</span></span>
<span class="line"><span>            // å”¤é†’å‰é¢å¯èƒ½å·²ç»æŒ‚èµ·çš„ç”Ÿäº§è€…</span></span>
<span class="line"><span>            // å› ä¸ºè¿™é‡Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¸æ˜¯äº’æ–¥çš„ï¼Œå†™æ“ä½œè¿›è¡Œçš„åŒæ—¶ï¼Œå¯èƒ½ä¹Ÿæœ‰æ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ•°æ®ã€‚</span></span>
<span class="line"><span>            if (c + 1 &lt; capacity)</span></span>
<span class="line"><span>                // å”¤é†’ç”Ÿäº§è€…</span></span>
<span class="line"><span>                notFull.signal();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é‡Šæ”¾é”èµ„æº</span></span>
<span class="line"><span>        putLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // å¦‚æœc == 0ï¼Œä»£è¡¨æ·»åŠ æ•°æ®ä¹‹å‰ï¼Œé˜Ÿåˆ—å…ƒç´ ä¸ªæ•°æ˜¯0ä¸ªã€‚</span></span>
<span class="line"><span>    // å¦‚æœæœ‰æ¶ˆè´¹è€…åœ¨é˜Ÿåˆ—æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæ¥æ¶ˆè´¹ï¼Œæ­¤æ—¶æ¶ˆè´¹è€…ä¸€å®šä¼šæŒ‚èµ·çº¿ç¨‹</span></span>
<span class="line"><span>    if (c == 0)</span></span>
<span class="line"><span>        // å”¤é†’æ¶ˆè´¹è€…</span></span>
<span class="line"><span>        signalNotEmpty();</span></span>
<span class="line"><span>    // æ·»åŠ æˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›-1</span></span>
<span class="line"><span>    return c &gt;= 0;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//================================================</span></span>
<span class="line"><span>private void enqueue(Node&lt;E&gt; node) {</span></span>
<span class="line"><span>    // å°†å½“å‰Nodeè®¾ç½®ä¸ºlastçš„nextï¼Œå¹¶ä¸”å†å°†å½“å‰Nodeä½œä¸ºlast</span></span>
<span class="line"><span>    last = last.next = node;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//================================================</span></span>
<span class="line"><span>private void signalNotEmpty() {</span></span>
<span class="line"><span>    // è·å–è¯»é”</span></span>
<span class="line"><span>    final ReentrantLock takeLock = this.takeLock;</span></span>
<span class="line"><span>    takeLock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å”¤é†’ã€‚</span></span>
<span class="line"><span>        notEmpty.signal();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        takeLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>sync -&gt; wait / notify</span></span></code></pre></div><h4 id="_3-2-3-offer-time-unit-æ–¹æ³•" tabindex="-1">3.2.3 offer(time,unit)æ–¹æ³• <a class="header-anchor" href="#_3-2-3-offer-time-unit-æ–¹æ³•" aria-label="Permalink to &quot;3.2.3 offer(time,unit)æ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public boolean offer(E e, long timeout, TimeUnit unit) throws InterruptedException {</span></span>
<span class="line"><span>	 // éç©ºæ£€éªŒ</span></span>
<span class="line"><span>    if (e == null) throw new NullPointerException();</span></span>
<span class="line"><span>    // å°†æ—¶é—´è½¬æ¢ä¸ºçº³ç§’</span></span>
<span class="line"><span>    long nanos = unit.toNanos(timeout);</span></span>
<span class="line"><span>    // æ ‡è®°</span></span>
<span class="line"><span>    int c = -1;</span></span>
<span class="line"><span>    // å†™é”ï¼Œæ•°æ®æ¡æ•°</span></span>
<span class="line"><span>    final ReentrantLock putLock = this.putLock;</span></span>
<span class="line"><span>    final AtomicInteger count = this.count;</span></span>
<span class="line"><span>    // å…è®¸ä¸­æ–­çš„åŠ é”æ–¹å¼</span></span>
<span class="line"><span>    putLock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å¦‚æœå…ƒç´ ä¸ªæ•°å’Œé™åˆ¶ä¸ªæ•°ä¸€è‡´ï¼Œç›´æ¥å‡†å¤‡æŒ‚èµ·</span></span>
<span class="line"><span>        while (count.get() == capacity) {</span></span>
<span class="line"><span>            // æŒ‚èµ·çš„æ—¶é—´æ˜¯ä¸æ˜¯å·²ç»æ²¡äº†</span></span>
<span class="line"><span>            if (nanos &lt;= 0)</span></span>
<span class="line"><span>                // æ·»åŠ å¤±è´¥ï¼Œè¿”å›false</span></span>
<span class="line"><span>                return false;</span></span>
<span class="line"><span>            // æŒ‚èµ·çº¿ç¨‹</span></span>
<span class="line"><span>            nanos = notFull.awaitNanos(nanos);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // æœ‰ç©ºä½™ä½ç½®ï¼Œenqueueæ·»åŠ æ•°æ®</span></span>
<span class="line"><span>        enqueue(new Node&lt;E&gt;(e));</span></span>
<span class="line"><span>        // å…ƒç´ ä¸ªæ•° + 1</span></span>
<span class="line"><span>        c = count.getAndIncrement();</span></span>
<span class="line"><span>        // å½“å‰æ·»åŠ å®Œæ•°æ®ï¼Œè¿˜æœ‰ä½ç½®å¯ä»¥æ·»åŠ æ•°æ®ï¼Œå”¤é†’å¯èƒ½é˜»å¡çš„ç”Ÿäº§è€…</span></span>
<span class="line"><span>        if (c + 1 &lt; capacity)</span></span>
<span class="line"><span>            notFull.signal();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é‡Šæ”¾é”</span></span>
<span class="line"><span>        putLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // å¦‚æœä¹‹å‰å…ƒç´ ä¸ªæ•°æ˜¯0ï¼Œå”¤é†’å¯èƒ½ç­‰å¾…çš„æ¶ˆè´¹è€…</span></span>
<span class="line"><span>    if (c == 0)</span></span>
<span class="line"><span>        signalNotEmpty();</span></span>
<span class="line"><span>    return true;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-2-4-putæ–¹æ³•" tabindex="-1">3.2.4 putæ–¹æ³• <a class="header-anchor" href="#_3-2-4-putæ–¹æ³•" aria-label="Permalink to &quot;3.2.4 putæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public void put(E e) throws InterruptedException {</span></span>
<span class="line"><span>    if (e == null) throw new NullPointerException();</span></span>
<span class="line"><span>    int c = -1;</span></span>
<span class="line"><span>    Node&lt;E&gt; node = new Node&lt;E&gt;(e);</span></span>
<span class="line"><span>    final ReentrantLock putLock = this.putLock;</span></span>
<span class="line"><span>    final AtomicInteger count = this.count;</span></span>
<span class="line"><span>    putLock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        while (count.get() == capacity) {</span></span>
<span class="line"><span>            // ä¸€ç›´æŒ‚èµ·çº¿ç¨‹ï¼Œç­‰å¾…è¢«å”¤é†’</span></span>
<span class="line"><span>            notFull.await();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        enqueue(node);</span></span>
<span class="line"><span>        c = count.getAndIncrement();</span></span>
<span class="line"><span>        if (c + 1 &lt; capacity)</span></span>
<span class="line"><span>            notFull.signal();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        putLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (c == 0)</span></span>
<span class="line"><span>        signalNotEmpty();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_3-3-æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç†" tabindex="-1">3.3 æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç† <a class="header-anchor" href="#_3-3-æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç†" aria-label="Permalink to &quot;3.3 æ¶ˆè´¹è€…æ–¹æ³•å®ç°åŸç†&quot;">â€‹</a></h3><p>ä»removeæ–¹æ³•å¼€å§‹ï¼ŒæŸ¥çœ‹æ¶ˆè´¹è€…è·å–æ•°æ®çš„æ–¹å¼</p><h4 id="_3-3-1-removeæ–¹æ³•" tabindex="-1">3.3.1 removeæ–¹æ³• <a class="header-anchor" href="#_3-3-1-removeæ–¹æ³•" aria-label="Permalink to &quot;3.3.1 removeæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E remove() {</span></span>
<span class="line"><span>    E x = poll();</span></span>
<span class="line"><span>    if (x != null)</span></span>
<span class="line"><span>        return x;</span></span>
<span class="line"><span>    else</span></span>
<span class="line"><span>        throw new NoSuchElementException();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-3-2-pollæ–¹æ³•" tabindex="-1">3.3.2 pollæ–¹æ³• <a class="header-anchor" href="#_3-3-2-pollæ–¹æ³•" aria-label="Permalink to &quot;3.3.2 pollæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E poll() {</span></span>
<span class="line"><span>    // æ‹¿åˆ°é˜Ÿåˆ—æ•°æ®ä¸ªæ•°çš„è®¡æ•°å™¨</span></span>
<span class="line"><span>    final AtomicInteger count = this.count;</span></span>
<span class="line"><span>    // å½“å‰é˜Ÿåˆ—ä¸­æ•°æ®æ˜¯å¦0</span></span>
<span class="line"><span>    if (count.get() == 0)</span></span>
<span class="line"><span>        // è¯´æ˜é˜Ÿåˆ—æ²¡æ•°æ®ï¼Œç›´æ¥è¿”å›nullå³å¯</span></span>
<span class="line"><span>        return null;</span></span>
<span class="line"><span>    // å£°æ˜è¿”å›ç»“æœ</span></span>
<span class="line"><span>    E x = null;</span></span>
<span class="line"><span>    // æ ‡è®°</span></span>
<span class="line"><span>    int c = -1;</span></span>
<span class="line"><span>    // è·å–æ¶ˆè´¹è€…çš„takeLock</span></span>
<span class="line"><span>    final ReentrantLock takeLock = this.takeLock;</span></span>
<span class="line"><span>    // åŠ é”</span></span>
<span class="line"><span>    takeLock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // åŸºäºDCLï¼Œç¡®ä¿å½“å‰é˜Ÿåˆ—ä¸­ä¾ç„¶æœ‰å…ƒç´ </span></span>
<span class="line"><span>        if (count.get() &gt; 0) {</span></span>
<span class="line"><span>            // ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ•°æ®</span></span>
<span class="line"><span>            x = dequeue();</span></span>
<span class="line"><span>            // å°†ä¹‹å‰çš„å…ƒç´ ä¸ªæ•°è·å–ï¼Œå¹¶--</span></span>
<span class="line"><span>            c = count.getAndDecrement();</span></span>
<span class="line"><span>            if (c &gt; 1)</span></span>
<span class="line"><span>                // å¦‚æœä¾ç„¶æœ‰æ•°æ®ï¼Œç»§ç»­å”¤é†’awaitçš„æ¶ˆè´¹è€…ã€‚</span></span>
<span class="line"><span>                notEmpty.signal();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é‡Šæ”¾é”èµ„æº</span></span>
<span class="line"><span>        takeLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // å¦‚æœä¹‹å‰çš„å…ƒç´ ä¸ªæ•°ä¸ºå½“å‰é˜Ÿåˆ—çš„é™åˆ¶é•¿åº¦ï¼Œ</span></span>
<span class="line"><span>    // ç°åœ¨æ¶ˆè´¹è€…æ¶ˆè´¹äº†ä¸€ä¸ªæ•°æ®ï¼Œå¤šäº†ä¸€ä¸ªç©ºä½å¯ä»¥æ·»åŠ </span></span>
<span class="line"><span>    if (c == capacity)</span></span>
<span class="line"><span>        // å”¤é†’é˜»å¡çš„ç”Ÿäº§è€…</span></span>
<span class="line"><span>        signalNotFull();</span></span>
<span class="line"><span>    return x;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//================================================</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private E dequeue() {</span></span>
<span class="line"><span>    // æ‹¿åˆ°é˜Ÿåˆ—çš„headä½ç½®æ•°æ®</span></span>
<span class="line"><span>    Node&lt;E&gt; h = head;</span></span>
<span class="line"><span>    // æ‹¿åˆ°äº†headçš„nextï¼Œå› ä¸ºè¿™ä¸ªæ˜¯å“¨å…µNodeï¼Œéœ€è¦æ‹¿åˆ°çš„head.nextçš„æ•°æ®</span></span>
<span class="line"><span>    Node&lt;E&gt; first = h.next;</span></span>
<span class="line"><span>    // å°†ä¹‹å‰çš„å“¨å…µNode.nextç½®ä½nullã€‚help GCã€‚</span></span>
<span class="line"><span>    h.next = h; </span></span>
<span class="line"><span>    // å°†firstç½®ä½æ–°çš„head</span></span>
<span class="line"><span>    head = first;</span></span>
<span class="line"><span>    // æ‹¿åˆ°è¿”å›ç»“æœfirstèŠ‚ç‚¹çš„itemæ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¹‹å‰head.next.item</span></span>
<span class="line"><span>    E x = first.item;</span></span>
<span class="line"><span>    // å°†firstæ•°æ®ç½®ä½nullï¼Œä½œä¸ºæ–°çš„head</span></span>
<span class="line"><span>    first.item = null;</span></span>
<span class="line"><span>    // è¿”å›æ•°æ®</span></span>
<span class="line"><span>    return x;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//================================================</span></span>
<span class="line"><span></span></span>
<span class="line"><span>private void signalNotFull() {</span></span>
<span class="line"><span>    final ReentrantLock putLock = this.putLock;</span></span>
<span class="line"><span>    putLock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å”¤é†’ç”Ÿäº§è€…ã€‚</span></span>
<span class="line"><span>        notFull.signal();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        putLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-3-3-poll-time-unit-æ–¹æ³•" tabindex="-1">3.3.3 poll(time,unit)æ–¹æ³• <a class="header-anchor" href="#_3-3-3-poll-time-unit-æ–¹æ³•" aria-label="Permalink to &quot;3.3.3 poll(time,unit)æ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E poll(long timeout, TimeUnit unit) throws InterruptedException {</span></span>
<span class="line"><span>    // è¿”å›ç»“æœ</span></span>
<span class="line"><span>    E x = null;</span></span>
<span class="line"><span>    // æ ‡è¯†</span></span>
<span class="line"><span>    int c = -1;</span></span>
<span class="line"><span>    // å°†æŒ‚èµ·å®ç°è®¾ç½®ä¸ºçº³ç§’çº§åˆ«</span></span>
<span class="line"><span>    long nanos = unit.toNanos(timeout);</span></span>
<span class="line"><span>    // æ‹¿åˆ°è®¡æ•°å™¨</span></span>
<span class="line"><span>    final AtomicInteger count = this.count;</span></span>
<span class="line"><span>    // takeé”åŠ é”</span></span>
<span class="line"><span>    final ReentrantLock takeLock = this.takeLock;</span></span>
<span class="line"><span>    takeLock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // å¦‚æœæ²¡æ•°æ®ï¼Œè¿›åˆ°while</span></span>
<span class="line"><span>        while (count.get() == 0) {</span></span>
<span class="line"><span>            if (nanos &lt;= 0)</span></span>
<span class="line"><span>                return null;</span></span>
<span class="line"><span>            // æŒ‚èµ·å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>            nanos = notEmpty.awaitNanos(nanos);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // å‰©ä¸‹å†…å®¹ï¼Œå’Œä¹‹å‰ä¸€æ ·ã€‚</span></span>
<span class="line"><span>        x = dequeue();</span></span>
<span class="line"><span>        c = count.getAndDecrement();</span></span>
<span class="line"><span>        if (c &gt; 1)</span></span>
<span class="line"><span>            notEmpty.signal();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        takeLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (c == capacity)</span></span>
<span class="line"><span>        signalNotFull();</span></span>
<span class="line"><span>    return x;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-3-4-takeæ–¹æ³•" tabindex="-1">3.3.4 takeæ–¹æ³• <a class="header-anchor" href="#_3-3-4-takeæ–¹æ³•" aria-label="Permalink to &quot;3.3.4 takeæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E take() throws InterruptedException {</span></span>
<span class="line"><span>    E x;</span></span>
<span class="line"><span>    int c = -1;</span></span>
<span class="line"><span>    final AtomicInteger count = this.count;</span></span>
<span class="line"><span>    final ReentrantLock takeLock = this.takeLock;</span></span>
<span class="line"><span>    takeLock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // ç›¸æ¯”poll(time,unit)æ–¹æ³•ï¼Œè¿™é‡Œçš„å‡ºå£åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯ä¸­æ–­æ ‡è®°ä½ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™ä¸€ç›´ç­‰å¾…</span></span>
<span class="line"><span>        while (count.get() == 0) {</span></span>
<span class="line"><span>            notEmpty.await();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        x = dequeue();</span></span>
<span class="line"><span>        c = count.getAndDecrement();</span></span>
<span class="line"><span>        if (c &gt; 1)</span></span>
<span class="line"><span>            notEmpty.signal();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        takeLock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (c == capacity)</span></span>
<span class="line"><span>        signalNotFull();</span></span>
<span class="line"><span>    return x;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="å››ã€priorityblockingqueueæ¦‚å¿µ" tabindex="-1">å››ã€<strong>PriorityBlockingQueueæ¦‚å¿µ</strong> <a class="header-anchor" href="#å››ã€priorityblockingqueueæ¦‚å¿µ" aria-label="Permalink to &quot;å››ã€**PriorityBlockingQueueæ¦‚å¿µ**&quot;">â€‹</a></h2><h3 id="_4-1-priorityblockingqueueä»‹ç»" tabindex="-1">4.1 PriorityBlockingQueueä»‹ç» <a class="header-anchor" href="#_4-1-priorityblockingqueueä»‹ç»" aria-label="Permalink to &quot;4.1 PriorityBlockingQueueä»‹ç»&quot;">â€‹</a></h3><p>é¦–å…ˆPriorityBlockingQueueæ˜¯ä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œä»–ä¸æ»¡è¶³å…ˆè¿›å…ˆå‡ºçš„æ¦‚å¿µã€‚</p><p>ä¼šå°†æŸ¥è¯¢çš„æ•°æ®è¿›è¡Œæ’åºï¼Œæ’åºçš„æ–¹å¼å°±æ˜¯åŸºäºæ’å…¥æ•°æ®å€¼çš„æœ¬èº«ã€‚</p><p><strong>å¦‚æœæ˜¯è‡ªå®šä¹‰å¯¹è±¡å¿…é¡»è¦å®ç°Comparableæ¥å£æ‰å¯ä»¥æ·»åŠ åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—</strong></p><p>æ’åºçš„æ–¹å¼æ˜¯åŸºäº<strong>äºŒå‰å †</strong>å®ç°çš„ã€‚åº•å±‚æ˜¯é‡‡ç”¨æ•°æ®ç»“æ„å®ç°çš„äºŒå‰å †ã€‚</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/b0cc492556d746a3a2c1ac9f31e06dde.png" alt="" loading="lazy"></p><h3 id="_4-2-äºŒå‰å †ç»“æ„ä»‹ç»" tabindex="-1">4.2 äºŒå‰å †ç»“æ„ä»‹ç» <a class="header-anchor" href="#_4-2-äºŒå‰å †ç»“æ„ä»‹ç»" aria-label="Permalink to &quot;4.2 äºŒå‰å †ç»“æ„ä»‹ç»&quot;">â€‹</a></h3><p>ä¼˜å…ˆçº§é˜Ÿåˆ—PriorityBlockingQueueåŸºäºäºŒå‰å †å®ç°çš„ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private transient Object[] queue;</span></span></code></pre></div><p>PriorityBlockingQueueæ˜¯åŸºäºæ•°ç»„å®ç°çš„äºŒå‰å †ã€‚</p><p>äºŒå‰å †æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li><p>äºŒå‰å †å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„äºŒå‰æ ‘ã€‚</p></li><li><p>ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹å¤§äºçˆ¶èŠ‚ç‚¹æˆ–è€…å°äºçˆ¶èŠ‚ç‚¹</p></li><li><p>åŸºäºåŒæ­¥çš„æ–¹å¼ï¼Œå¯ä»¥å®šä¹‰å‡ºå°é¡¶å †å’Œå¤§é¡¶å †</p></li></ul><p>å°é¡¶å †ä»¥åŠå°é¡¶å †åŸºäºæ•°æ®å®ç°çš„æ–¹å¼ã€‚</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/be0f3126b64443d1bf1e05299f33d71a.png" alt="" loading="lazy"></p><h3 id="_4-3-priorityblockingqueueæ ¸å¿ƒå±æ€§" tabindex="-1">4.3 PriorityBlockingQueueæ ¸å¿ƒå±æ€§ <a class="header-anchor" href="#_4-3-priorityblockingqueueæ ¸å¿ƒå±æ€§" aria-label="Permalink to &quot;4.3 PriorityBlockingQueueæ ¸å¿ƒå±æ€§&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// æ•°ç»„çš„åˆå§‹é•¿åº¦</span></span>
<span class="line"><span>private static final int DEFAULT_INITIAL_CAPACITY = 11;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// æ•°ç»„çš„æœ€å¤§é•¿åº¦</span></span>
<span class="line"><span>// -8çš„ç›®çš„æ˜¯ä¸ºäº†é€‚é…å„ä¸ªç‰ˆæœ¬çš„è™šæ‹Ÿæœº</span></span>
<span class="line"><span>// é»˜è®¤å½“å‰ä½¿ç”¨çš„hotspotè™šæ‹Ÿæœºæœ€å¤§æ”¯æŒInteger.MAX_VALUE - 2ï¼Œä½†æ˜¯å…¶ä»–ç‰ˆæœ¬çš„è™šæ‹Ÿæœºä¸ä¸€å®šã€‚</span></span>
<span class="line"><span>private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å­˜å‚¨æ•°æ®çš„æ•°ç»„ï¼Œä¹Ÿæ˜¯åŸºäºè¿™ä¸ªæ•°ç»„å®ç°çš„äºŒå‰å †ã€‚</span></span>
<span class="line"><span>private transient Object[] queue;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// sizeè®°å½•å½“å‰é˜»å¡é˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span>
<span class="line"><span>private transient int size;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// è¦æ±‚ä½¿ç”¨çš„å¯¹è±¡è¦å®ç°Comparableæ¯”è¾ƒå™¨ã€‚åŸºäºcomparatoråšå¯¹è±¡ä¹‹é—´çš„æ¯”è¾ƒ</span></span>
<span class="line"><span>private transient Comparator&lt;? super E&gt; comparator;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å®ç°é˜»å¡é˜Ÿåˆ—çš„locké”</span></span>
<span class="line"><span>private final ReentrantLock lock;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// æŒ‚èµ·çº¿ç¨‹æ“ä½œã€‚</span></span>
<span class="line"><span>private final Condition notEmpty;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å› ä¸ºPriorityBlockingQueueçš„åº•å±‚æ˜¯åŸºäºäºŒå‰å †çš„ï¼Œè€ŒäºŒå‰å †åˆæ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œæ•°ç»„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå¦‚æœéœ€è¦æ‰©å®¹ï¼Œéœ€è¦æ„å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚PriorityBlockingQueueåœ¨åšæ‰©å®¹æ“ä½œæ—¶ï¼Œä¸ä¼šlockä½çš„ï¼Œé‡Šæ”¾locké”ï¼ŒåŸºäºallocationSpinLockå±æ€§åšæ ‡è®°ï¼Œæ¥é¿å…å‡ºç°å¹¶å‘æ‰©å®¹çš„é—®é¢˜ã€‚</span></span>
<span class="line"><span>private transient volatile int allocationSpinLock;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// é˜»å¡é˜Ÿåˆ—ä¸­ç”¨åˆ°çš„åŸç†ï¼Œå…¶å®å°±æ˜¯æ™®é€šçš„ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚</span></span>
<span class="line"><span>private PriorityQueue&lt;E&gt; q;</span></span></code></pre></div><h3 id="_4-4-priorityblockingqueueçš„å†™å…¥æ“ä½œ" tabindex="-1">4.4 PriorityBlockingQueueçš„å†™å…¥æ“ä½œ <a class="header-anchor" href="#_4-4-priorityblockingqueueçš„å†™å…¥æ“ä½œ" aria-label="Permalink to &quot;4.4 PriorityBlockingQueueçš„å†™å…¥æ“ä½œ&quot;">â€‹</a></h3><p>æ¯•ç«Ÿæ˜¯é˜»å¡é˜Ÿåˆ—ï¼Œæ·»åŠ æ•°æ®çš„æ“ä½œï¼Œå’±ä»¬æ˜¯å¾ˆäº†è§£ï¼Œæ— æ³•è¿˜æ˜¯addï¼Œofferï¼Œoffer(time,unit)ï¼Œputã€‚ä½†æ˜¯å› ä¸ºä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ï¼Œæ•°ç»„æ˜¯å¯ä»¥æ‰©å®¹çš„ï¼Œè™½ç„¶æœ‰é•¿åº¦é™åˆ¶ï¼Œä½†æ˜¯ä¾ç„¶å±äºæ— ç•Œé˜Ÿåˆ—çš„æ¦‚å¿µï¼Œæ‰€ä»¥ç”Ÿäº§è€…ä¸ä¼šé˜»å¡ï¼Œæ‰€ä»¥åªæœ‰offeræ–¹æ³•å¯ä»¥æŸ¥çœ‹ã€‚</p><p>è¿™æ¬¡æ ¸å¿ƒçš„å†…å®¹å¹¶ä¸æ˜¯æ·»åŠ æ•°æ®çš„åŒºåˆ«ã€‚ä¸»è¦å…³æ³¨çš„æ˜¯å¦‚ä½•ä¿è¯äºŒå‰å †ä¸­å°é¡¶å †çš„ç»“æ„çš„ï¼Œå¹¶ä¸”è¿˜è¦æŸ¥çœ‹æ•°ç»„æ‰©å®¹çš„ä¸€ä¸ªè¿‡ç¨‹æ˜¯æ€æ ·çš„ã€‚</p><h4 id="_4-4-1-offeråŸºæœ¬æµç¨‹" tabindex="-1">4.4.1 offeråŸºæœ¬æµç¨‹ <a class="header-anchor" href="#_4-4-1-offeråŸºæœ¬æµç¨‹" aria-label="Permalink to &quot;4.4.1 offeråŸºæœ¬æµç¨‹&quot;">â€‹</a></h4><p>å› ä¸ºaddæ–¹æ³•ä¾ç„¶è°ƒç”¨çš„æ˜¯offeræ–¹æ³•ï¼Œç›´æ¥æŸ¥çœ‹offeræ–¹æ³•å³å¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public boolean offer(E e) {</span></span>
<span class="line"><span>    // éç©ºåˆ¤æ–­ã€‚</span></span>
<span class="line"><span>    if (e == null)</span></span>
<span class="line"><span>        throw new NullPointerException();</span></span>
<span class="line"><span>    // æ‹¿åˆ°é”ï¼Œç›´æ¥ä¸Šé”</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    // nï¼šsizeï¼Œå…ƒç´ çš„ä¸ªæ•°</span></span>
<span class="line"><span>    // capï¼šå½“å‰æ•°ç»„çš„é•¿åº¦</span></span>
<span class="line"><span>    // arrayï¼šå°±æ˜¯å­˜å‚¨æ•°æ®çš„æ•°ç»„</span></span>
<span class="line"><span>    int n, cap;</span></span>
<span class="line"><span>    Object[] array;</span></span>
<span class="line"><span>    while ((n = size) &gt;= (cap = (array = queue).length))</span></span>
<span class="line"><span>        // å¦‚æœå…ƒç´ ä¸ªæ•°å¤§äºç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œéœ€è¦å°è¯•æ‰©å®¹ã€‚</span></span>
<span class="line"><span>        tryGrow(array, cap);</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // æ‹¿åˆ°äº†æ¯”è¾ƒå™¨</span></span>
<span class="line"><span>        Comparator&lt;? super E&gt; cmp = comparator;</span></span>
<span class="line"><span>        // æ¯”è¾ƒæ•°æ®å¤§å°ï¼Œå­˜å‚¨æ•°æ®ï¼Œæ˜¯å¦éœ€è¦åšä¸Šç§»æ“ä½œï¼Œä¿è¯å¹³è¡¡çš„</span></span>
<span class="line"><span>        if (cmp == null)</span></span>
<span class="line"><span>            siftUpComparable(n, e, array);</span></span>
<span class="line"><span>        else</span></span>
<span class="line"><span>            siftUpUsingComparator(n, e, array, cmp);</span></span>
<span class="line"><span>        // å…ƒç´ ä¸ªæ•° + 1</span></span>
<span class="line"><span>        size = n + 1;</span></span>
<span class="line"><span>        // å¦‚æœæœ‰æŒ‚èµ·çš„çº¿ç¨‹ï¼Œéœ€è¦å»å”¤é†’æŒ‚èµ·çš„æ¶ˆè´¹è€…ã€‚</span></span>
<span class="line"><span>        notEmpty.signal();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é‡Šæ”¾é”</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // è¿”å›true</span></span>
<span class="line"><span>    return true;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_4-4-2-offeræ‰©å®¹æ“ä½œ" tabindex="-1">4.4.2 offeræ‰©å®¹æ“ä½œ <a class="header-anchor" href="#_4-4-2-offeræ‰©å®¹æ“ä½œ" aria-label="Permalink to &quot;4.4.2 offeræ‰©å®¹æ“ä½œ&quot;">â€‹</a></h4><p>åœ¨æ·»åŠ æ•°æ®ä¹‹å‰ï¼Œä¼šé‡‡ç”¨whileå¾ªç¯çš„æ–¹å¼ï¼Œæ¥åˆ¤æ–­å½“å‰å…ƒç´ ä¸ªæ•°æ˜¯å¦å¤§äºç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœæ»¡è¶³ï¼Œéœ€è¦æ‰§è¡ŒtryGrowæ–¹æ³•ï¼Œå¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹</p><p>å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡ŒtryGrowï¼Œåªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰©å®¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯èƒ½å¤šæ¬¡èµ°whileå¾ªç¯ï¼Œå¤šæ¬¡èµ°tryGrowæ–¹æ³•ï¼Œä½†æ˜¯ä¾ç„¶éœ€è¦ç­‰å¾…å‰é¢çš„çº¿ç¨‹æ‰©å®¹å®Œæ¯•ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private void tryGrow(Object[] array, int oldCap) {</span></span>
<span class="line"><span>    // é‡Šæ”¾é”èµ„æºã€‚</span></span>
<span class="line"><span>    lock.unlock(); </span></span>
<span class="line"><span>    // å£°æ˜æ–°æ•°ç»„ã€‚</span></span>
<span class="line"><span>    Object[] newArray = null;</span></span>
<span class="line"><span>    // å¦‚æœallocationSpinLockå±æ€§å€¼ä¸º0ï¼Œè¯´æ˜å½“å‰æ²¡æœ‰çº¿ç¨‹æ­£åœ¨æ‰©å®¹çš„ã€‚</span></span>
<span class="line"><span>    if (allocationSpinLock == 0 &amp;&amp;</span></span>
<span class="line"><span>        // åŸºäºCASçš„æ–¹å¼ï¼Œå°†allocationSpinLockä»0ä¿®æ”¹ä¸º1ï¼Œä»£è¡¨å½“å‰çº¿ç¨‹å¯ä»¥å¼€å§‹æ‰©å®¹</span></span>
<span class="line"><span>        UNSAFE.compareAndSwapInt(this, allocationSpinLockOffset,0, 1)) {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            // è®¡ç®—æ–°æ•°ç»„é•¿åº¦</span></span>
<span class="line"><span>            int newCap = oldCap + ((oldCap &lt; 64) ?</span></span>
<span class="line"><span>                                   // å¦‚æœæ•°ç»„é•¿åº¦æ¯”è¾ƒå°ï¼Œè¿™é‡ŒåŠ å¿«æ‰©å®¹é•¿åº¦é€Ÿåº¦ã€‚</span></span>
<span class="line"><span>                                   (oldCap + 2) : </span></span>
<span class="line"><span>                                   // å¦‚æœé•¿åº¦å¤§äºç­‰äº64äº†ï¼Œæ¯æ¬¡æ‰©å®¹åˆ°1.5å€å³å¯ã€‚</span></span>
<span class="line"><span>                                   (oldCap &gt;&gt; 1));</span></span>
<span class="line"><span>            // å¦‚æœæ–°æ•°ç»„é•¿åº¦å¤§äºMAX_ARRAY_SIZEï¼Œéœ€è¦åšç‚¹äº‹äº†ã€‚</span></span>
<span class="line"><span>            if (newCap - MAX_ARRAY_SIZE &gt; 0) {   </span></span>
<span class="line"><span>                // å£°æ˜minCapï¼Œé•¿åº¦ä¸ºè€æ•°ç»„ + 1</span></span>
<span class="line"><span>                int minCap = oldCap + 1;</span></span>
<span class="line"><span>                // è€æ•°ç»„+1å˜ä¸ºè´Ÿæ•°ï¼Œæˆ–è€…è€æ•°ç»„é•¿åº¦å·²ç»å¤§äºMAX_ARRAY_SIZEäº†ï¼Œæ— æ³•æ‰©å®¹äº†ã€‚</span></span>
<span class="line"><span>                if (minCap &lt; 0 || minCap &gt; MAX_ARRAY_SIZE)</span></span>
<span class="line"><span>                    // å‘Šè¾ï¼Œå‡‰å‡‰~~~~</span></span>
<span class="line"><span>                    throw new OutOfMemoryError();</span></span>
<span class="line"><span>                // å¦‚æœæ²¡æœ‰è¶…è¿‡é™åˆ¶ï¼Œç›´æ¥è®¾ç½®ä¸ºæœ€å¤§é•¿åº¦å³å¯</span></span>
<span class="line"><span>                newCap = MAX_ARRAY_SIZE;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // æ–°æ•°ç»„é•¿åº¦ï¼Œå¾—å¤§äºè€æ•°ç»„é•¿åº¦ï¼Œ</span></span>
<span class="line"><span>            // ç¬¬äºŒä¸ªåˆ¤æ–­ç¡®ä¿æ²¡æœ‰å¹¶å‘æ‰©å®¹çš„å‡ºç°ã€‚</span></span>
<span class="line"><span>            if (newCap &gt; oldCap &amp;&amp; queue == array)</span></span>
<span class="line"><span>                // æ„å»ºå‡ºæ–°æ•°ç»„</span></span>
<span class="line"><span>                newArray = new Object[newCap];</span></span>
<span class="line"><span>        } finally {</span></span>
<span class="line"><span>            // æ–°æ•°ç»„æœ‰äº†ï¼Œæ ‡è®°ä½å½’0~~</span></span>
<span class="line"><span>            allocationSpinLock = 0;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // å¦‚æœåˆ°äº†è¿™ï¼ŒnewArrayä¾ç„¶ä¸ºnullï¼Œè¯´æ˜è¿™ä¸ªçº¿ç¨‹æ²¡æœ‰è¿›åˆ°ifæ–¹æ³•ä¸­ï¼Œå»æ„å»ºæ–°æ•°ç»„</span></span>
<span class="line"><span>    if (newArray == null) </span></span>
<span class="line"><span>        // ç¨å¾®ç­‰ä¸€æ‰‹ã€‚</span></span>
<span class="line"><span>        Thread.yield();</span></span>
<span class="line"><span>    // æ‹¿é”èµ„æºï¼Œ</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    // æ‹¿åˆ°é”èµ„æºåï¼Œç¡®è®¤æ˜¯æ„å»ºäº†æ–°æ•°ç»„çš„çº¿ç¨‹ï¼Œè¿™é‡Œå°±éœ€è¦å°†æ–°æ•°ç»„å¤åˆ¶ç»™queueï¼Œå¹¶ä¸”å¯¼å…¥æ•°æ®</span></span>
<span class="line"><span>    if (newArray != null &amp;&amp; queue == array) {</span></span>
<span class="line"><span>        // å°†æ–°æ•°ç»„èµ‹å€¼ç»™queue</span></span>
<span class="line"><span>        queue = newArray;</span></span>
<span class="line"><span>        // å°†è€æ•°ç»„çš„æ•°æ®å…¨éƒ¨å¯¼å…¥åˆ°æ–°æ•°ç»„ä¸­ã€‚</span></span>
<span class="line"><span>        System.arraycopy(array, 0, newArray, 0, oldCap);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_4-4-3-offeræ·»åŠ æ•°æ®" tabindex="-1">4.4.3 offeræ·»åŠ æ•°æ® <a class="header-anchor" href="#_4-4-3-offeræ·»åŠ æ•°æ®" aria-label="Permalink to &quot;4.4.3 offeræ·»åŠ æ•°æ®&quot;">â€‹</a></h4><p>è¿™é‡Œæ˜¯æ•°æ®å¦‚ä½•æ”¾åˆ°æ•°ç»„ä¸Šï¼Œå¹¶ä¸”å¦‚ä½•ä¿è¯çš„äºŒå‰å †ç»“æ„</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// kï¼šå½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼ˆå…¶å®å°±æ˜¯è¦æ”¾çš„ç´¢å¼•ä½ç½®ï¼‰</span></span>
<span class="line"><span>// xï¼šéœ€è¦æ·»åŠ çš„æ•°æ®</span></span>
<span class="line"><span>// arrayï¼šæ•°ç»„ã€‚ã€‚</span></span>
<span class="line"><span>private static &lt;T&gt; void siftUpComparable(int k, T x, Object[] array) {</span></span>
<span class="line"><span>    // å°†æ’å…¥çš„å…ƒç´ ç›´æ¥å¼ºè½¬ä¸ºComparableï¼ˆcom.mashibing.User cannot be cast to java.lang.Comparableï¼‰</span></span>
<span class="line"><span>    // è¿™è¡Œå¼ºè½¬ï¼Œä¼šå¯¼è‡´æ·»åŠ æ²¡æœ‰å®ç°Comparableçš„å…ƒç´ ï¼Œç›´æ¥æŠ¥é”™ã€‚</span></span>
<span class="line"><span>    Comparable&lt;? super T&gt; key = (Comparable&lt;? super T&gt;) x;</span></span>
<span class="line"><span>    // kå¤§äº0ï¼Œèµ°whileé€»è¾‘ã€‚ï¼ˆåŸæ¥æœ‰æ•°æ®ï¼‰</span></span>
<span class="line"><span>    while (k &gt; 0) {</span></span>
<span class="line"><span>        // è·å–çˆ¶èŠ‚ç‚¹çš„ç´¢å¼•ä½ç½®ã€‚</span></span>
<span class="line"><span>        int parent = (k - 1) &gt;&gt;&gt; 1;</span></span>
<span class="line"><span>        // æ‹¿åˆ°çˆ¶èŠ‚ç‚¹çš„å…ƒç´ ã€‚</span></span>
<span class="line"><span>        Object e = array[parent];</span></span>
<span class="line"><span>        // ç”¨å­èŠ‚ç‚¹compareToçˆ¶èŠ‚ç‚¹ï¼Œå¦‚æœ &gt;= 0ï¼Œè¯´æ˜å½“å‰sonèŠ‚ç‚¹æ¯”parentè¦å¤§ã€‚</span></span>
<span class="line"><span>        if (key.compareTo((T) e) &gt;= 0)</span></span>
<span class="line"><span>            // ç›´æ¥breakï¼Œå®Œäº‹ï¼Œ</span></span>
<span class="line"><span>            break;</span></span>
<span class="line"><span>        // å°†sonèŠ‚ç‚¹çš„ä½ç½®è®¾ç½®ä¸Šä¹‹å‰çš„parentèŠ‚ç‚¹</span></span>
<span class="line"><span>        array[k] = e;</span></span>
<span class="line"><span>        // é‡æ–°è®¾ç½®xèŠ‚ç‚¹éœ€è¦æ”¾ç½®çš„ä½ç½®ã€‚</span></span>
<span class="line"><span>        k = parent;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // k == 0ï¼Œå½“å‰å…ƒç´ æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç›´æ¥æ’å…¥è¿›å»ã€‚</span></span>
<span class="line"><span>    array[k] = key;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_4-5-priorityblockingqueueçš„è¯»å–æ“ä½œ" tabindex="-1">4.5 PriorityBlockingQueueçš„è¯»å–æ“ä½œ <a class="header-anchor" href="#_4-5-priorityblockingqueueçš„è¯»å–æ“ä½œ" aria-label="Permalink to &quot;4.5 PriorityBlockingQueueçš„è¯»å–æ“ä½œ&quot;">â€‹</a></h3><p>è¯»å–æ“ä½œæ˜¯å­˜å‚¨ç°åœ¨æŒ‚èµ·çš„æƒ…å†µçš„ï¼Œå› ä¸ºå¦‚æœæ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°ä¸º0ï¼Œå½“å‰çº¿ç¨‹å¦‚æœæ‰§è¡Œäº†takeæ–¹æ³•ï¼Œå¿…ç„¶éœ€è¦æŒ‚èµ·ã€‚</p><p>å…¶æ¬¡è·å–æ•°æ®ï¼Œå› ä¸ºæ˜¯ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæ‰€ä»¥éœ€è¦ä»äºŒå‰å †æ ˆé¡¶æ‹¿æ•°æ®ï¼Œç›´æ¥æ‹¿ç´¢å¼•ä¸º0çš„æ•°æ®å³å¯ï¼Œä½†æ˜¯æ‹¿å®Œä¹‹åï¼Œéœ€è¦ä¿æŒäºŒå‰å †ç»“æ„ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸‹ç§»æ“ä½œã€‚</p><h4 id="_4-5-1-æŸ¥çœ‹è·å–æ–¹æ³•æµç¨‹" tabindex="-1">4.5.1 æŸ¥çœ‹è·å–æ–¹æ³•æµç¨‹ <a class="header-anchor" href="#_4-5-1-æŸ¥çœ‹è·å–æ–¹æ³•æµç¨‹" aria-label="Permalink to &quot;4.5.1 æŸ¥çœ‹è·å–æ–¹æ³•æµç¨‹&quot;">â€‹</a></h4><p>pollï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E poll() {</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    // åŠ é”</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // æ‹¿åˆ°è¿”å›æ•°æ®ï¼Œæ²¡æ‹¿åˆ°ï¼Œè¿”å›null</span></span>
<span class="line"><span>        return dequeue();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>poll(time,unit)ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E poll(long timeout, TimeUnit unit) throws InterruptedException {</span></span>
<span class="line"><span>    // å°†æŒ‚èµ·çš„æ—¶é—´è½¬æ¢ä¸ºçº³ç§’</span></span>
<span class="line"><span>    long nanos = unit.toNanos(timeout);</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    // å…è®¸çº¿ç¨‹ä¸­æ–­æŠ›å¼‚å¸¸çš„åŠ é”</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    // å£°æ˜ç»“æœ</span></span>
<span class="line"><span>    E result;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // dequeueæ˜¯å»æ‹¿æ•°æ®çš„ï¼Œå¯èƒ½ä¼šå‡ºç°æ‹¿åˆ°çš„æ•°æ®ä¸ºnullï¼Œå¦‚æœä¸ºnullï¼ŒåŒæ—¶æŒ‚èµ·æ—¶é—´è¿˜æœ‰å‰©ä½™ï¼Œè¿™è¾¹å°±ç›´æ¥é€šè¿‡notEmptyæŒ‚èµ·çº¿ç¨‹</span></span>
<span class="line"><span>        while ( (result = dequeue()) == null &amp;&amp; nanos &gt; 0)</span></span>
<span class="line"><span>            nanos = notEmpty.awaitNanos(nanos);</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // æœ‰æ•°æ®æ­£å¸¸è¿”å›ï¼Œæ²¡æ•°æ®ï¼Œå‘Šè¾~</span></span>
<span class="line"><span>    return result;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>takeï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E take() throws InterruptedException {</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    E result;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        while ( (result = dequeue()) == null)</span></span>
<span class="line"><span>            // æ— çº¿ç­‰ï¼Œè¦ä¹ˆæœ‰æ•°æ®ï¼Œè¦ä¹ˆä¸­æ–­çº¿ç¨‹</span></span>
<span class="line"><span>            notEmpty.await();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return result;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_4-5-2-æŸ¥çœ‹dequeueè·å–æ•°æ®" tabindex="-1">4.5.2 æŸ¥çœ‹dequeueè·å–æ•°æ® <a class="header-anchor" href="#_4-5-2-æŸ¥çœ‹dequeueè·å–æ•°æ®" aria-label="Permalink to &quot;4.5.2 æŸ¥çœ‹dequeueè·å–æ•°æ®&quot;">â€‹</a></h4><p>è·å–æ•°æ®ä¸»è¦å°±æ˜¯ä»æ•°ç»„ä¸­æ‹¿åˆ°0ç´¢å¼•ä½ç½®æ•°æ®ï¼Œç„¶åä¿æŒäºŒå‰å †ç»“æ„</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>private E dequeue() {</span></span>
<span class="line"><span>    // å°†å…ƒç´ ä¸ªæ•°-1ï¼Œæ‹¿åˆ°äº†ç´¢å¼•ä½ç½®ã€‚</span></span>
<span class="line"><span>    int n = size - 1;</span></span>
<span class="line"><span>    // åˆ¤æ–­æ˜¯ä¸æ˜¯æœ¨æœ‰æ•°æ®äº†ï¼Œæ²¡æ•°æ®ç›´æ¥è¿”å›nullå³å¯</span></span>
<span class="line"><span>    if (n &lt; 0)</span></span>
<span class="line"><span>        return null;</span></span>
<span class="line"><span>    // è¯´æ˜æœ‰æ•°æ®</span></span>
<span class="line"><span>    else {</span></span>
<span class="line"><span>        // æ‹¿åˆ°æ•°ç»„ï¼Œarray</span></span>
<span class="line"><span>        Object[] array = queue;</span></span>
<span class="line"><span>        // æ‹¿åˆ°0ç´¢å¼•ä½ç½®çš„æ•°æ®</span></span>
<span class="line"><span>        E result = (E) array[0];</span></span>
<span class="line"><span>        // æ‹¿åˆ°æœ€åä¸€ä¸ªæ•°æ®</span></span>
<span class="line"><span>        E x = (E) array[n];</span></span>
<span class="line"><span>        // å°†æœ€åä¸€ä¸ªä½ç½®ç½®ä½null</span></span>
<span class="line"><span>        array[n] = null;</span></span>
<span class="line"><span>        Comparator&lt;? super E&gt; cmp = comparator;</span></span>
<span class="line"><span>        if (cmp == null)</span></span>
<span class="line"><span>            siftDownComparable(0, x, array, n);</span></span>
<span class="line"><span>        else</span></span>
<span class="line"><span>            siftDownUsingComparator(0, x, array, n, cmp);</span></span>
<span class="line"><span>        // å…ƒç´ ä¸ªæ•°-1ï¼Œèµ‹å€¼size</span></span>
<span class="line"><span>        size = n;</span></span>
<span class="line"><span>        // è¿”å›result</span></span>
<span class="line"><span>        return result;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_4-6-3-ä¸‹ç§»åšå¹³è¡¡æ“ä½œ" tabindex="-1">4.6.3 ä¸‹ç§»åšå¹³è¡¡æ“ä½œ <a class="header-anchor" href="#_4-6-3-ä¸‹ç§»åšå¹³è¡¡æ“ä½œ" aria-label="Permalink to &quot;4.6.3 ä¸‹ç§»åšå¹³è¡¡æ“ä½œ&quot;">â€‹</a></h4><p>ä¸€å®šè¦ä»¥å±€éƒ¨çš„æ–¹å¼å»æŸ¥çœ‹æ ‘ç»“æ„çš„å˜åŒ–ï¼Œä»–æ˜¯ä»è·ŸèŠ‚ç‚¹å¾€ä¸‹æ‰¾è¾ƒå°çš„ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå°†è¾ƒå°çš„å­èŠ‚ç‚¹æŒªåŠ¨åˆ°çˆ¶èŠ‚ç‚¹ä½ç½®ï¼Œå†å°†å¾ªç¯å¾€ä¸‹èµ°ï¼Œå¦‚æœä¸€æ¥ï¼Œæ•´ä¸ªäºŒå‰å †çš„ç»“æ„å°±å¯ä»¥ä¿è¯äº†ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// kï¼šé»˜è®¤è¿›æ¥æ˜¯0</span></span>
<span class="line"><span>// xï¼šä»£è¡¨äºŒå‰å †çš„æœ€åä¸€ä¸ªæ•°æ®</span></span>
<span class="line"><span>// arrayï¼šæ•°ç»„</span></span>
<span class="line"><span>// nï¼šæœ€åä¸€ä¸ªç´¢å¼•</span></span>
<span class="line"><span>private static &lt;T&gt; void siftDownComparable(int k, T x, Object[] array,int n) {</span></span>
<span class="line"><span>    // å¥å£®æ€§æ ¡éªŒï¼Œå–å®Œç¬¬ä¸€ä¸ªæ•°æ®ï¼Œå·²ç»æ²¡æ•°æ®äº†ï¼Œé‚£å°±ä¸éœ€è¦åšå¹³è¡¡æ“ä½œ</span></span>
<span class="line"><span>    if (n &gt; 0) {</span></span>
<span class="line"><span>        // æ‹¿åˆ°æœ€åä¸€ä¸ªæ•°æ®çš„æ¯”è¾ƒå™¨</span></span>
<span class="line"><span>        Comparable&lt;? super T&gt; key = (Comparable&lt;? super T&gt;)x;</span></span>
<span class="line"><span>        // å› ä¸ºäºŒå‰å †æ˜¯ä¸€ä¸ªäºŒå‰æ»¡æ ‘ï¼Œæ‰€ä»¥åœ¨ä¿è¯äºŒå‰å †ç»“æ„æ—¶ï¼Œåªéœ€è¦åšä¸€åŠå°±å¯ä»¥</span></span>
<span class="line"><span>        int half = n &gt;&gt;&gt; 1; </span></span>
<span class="line"><span>        // åšäº†è¶…è¿‡ä¸€åŠï¼Œå°±ä¸éœ€è¦å†å¾€ä¸‹æ‰¾äº†ã€‚</span></span>
<span class="line"><span>        while (k &lt; half) {</span></span>
<span class="line"><span>            // æ‰¾å·¦å­èŠ‚ç‚¹ç´¢å¼•ï¼Œä¸€ä¸ªå…¬å¼ï¼Œå¯ä»¥æ‰¾åˆ°å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹</span></span>
<span class="line"><span>            int child = (k &lt;&lt; 1) + 1; </span></span>
<span class="line"><span>            // æ‹¿åˆ°å·¦å­èŠ‚ç‚¹çš„æ•°æ®</span></span>
<span class="line"><span>            Object c = array[child];</span></span>
<span class="line"><span>            // æ‹¿åˆ°å³å­èŠ‚ç‚¹ç´¢å¼•</span></span>
<span class="line"><span>            int right = child + 1;</span></span>
<span class="line"><span>            // ç¡®è®¤æœ‰å³å­èŠ‚ç‚¹</span></span>
<span class="line"><span>            // åˆ¤æ–­å·¦èŠ‚ç‚¹æ˜¯å¦å¤§äºå³èŠ‚ç‚¹</span></span>
<span class="line"><span>            if (right &lt; n &amp;&amp; c.compareTo(array[right]) &gt; 0)</span></span>
<span class="line"><span>                // å¦‚æœå·¦å¤§äºå³ï¼Œé‚£ä¹ˆcå°±æ‰§è¡Œå³</span></span>
<span class="line"><span>                c = array[child = right];</span></span>
<span class="line"><span>            // æ¯”è¾ƒæœ€åä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦å°äºå½“å‰çš„è¾ƒå°çš„å­èŠ‚ç‚¹</span></span>
<span class="line"><span>            if (key.compareTo((T) c) &lt;= 0)</span></span>
<span class="line"><span>                break;</span></span>
<span class="line"><span>            // å°†å·¦å³å­èŠ‚ç‚¹è¾ƒå°çš„æ”¾åˆ°ä¹‹å‰çš„çˆ¶èŠ‚ç‚¹ä½ç½®</span></span>
<span class="line"><span>            array[k] = c;</span></span>
<span class="line"><span>            // ké‡ç½®åˆ°ä¹‹å‰çš„å­èŠ‚ç‚¹ä½ç½®</span></span>
<span class="line"><span>            k = child;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // ä¸Šé¢whileå¾ªç¯æå®šåï¼Œå¯ä»¥ç¡®è®¤æ•´ä¸ªäºŒå‰å †ä¸­ï¼Œæ•°æ®å·²ç»ç§»åŠ¨okäº†ï¼Œåªå·®å½“å‰kçš„ä½ç½®æ•°æ®æ˜¯null</span></span>
<span class="line"><span>        // å°†æœ€åä¸€ä¸ªç´¢å¼•çš„æ•°æ®æ”¾åˆ°kçš„ä½ç½®</span></span>
<span class="line"><span>        array[k] = key;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="äº”ã€delayqueue" tabindex="-1">äº”ã€DelayQueue <a class="header-anchor" href="#äº”ã€delayqueue" aria-label="Permalink to &quot;äº”ã€DelayQueue&quot;">â€‹</a></h2><h3 id="_5-1-delayqueueä»‹ç»-åº”ç”¨" tabindex="-1">5.1 DelayQueueä»‹ç»&amp;åº”ç”¨ <a class="header-anchor" href="#_5-1-delayqueueä»‹ç»-åº”ç”¨" aria-label="Permalink to &quot;5.1 DelayQueueä»‹ç»&amp;åº”ç”¨&quot;">â€‹</a></h3><p>DelayQueueå°±æ˜¯ä¸€ä¸ªå»¶è¿Ÿé˜Ÿåˆ—ï¼Œç”Ÿäº§è€…å†™å…¥ä¸€ä¸ªæ¶ˆæ¯ï¼Œè¿™ä¸ªæ¶ˆæ¯è¿˜æœ‰ç›´æ¥è¢«æ¶ˆè´¹çš„å»¶è¿Ÿæ—¶é—´ã€‚</p><p>éœ€è¦è®©æ¶ˆæ¯å…·æœ‰å»¶è¿Ÿçš„ç‰¹æ€§ã€‚</p><p>DelayQueueä¹Ÿæ˜¯åŸºäºäºŒå‰å †ç»“æ„å®ç°çš„ï¼Œç”šè‡³æœ¬äº‹å°±æ˜¯åŸºäºPriorityQueueå®ç°çš„åŠŸèƒ½ã€‚äºŒå‰å †ç»“æ„æ¯æ¬¡è·å–çš„æ˜¯æ ˆé¡¶çš„æ•°æ®ï¼Œéœ€è¦è®©DelayQueueä¸­çš„æ•°æ®ï¼Œåœ¨æ¯”è¾ƒæ—¶ï¼Œè·Ÿæ ¹æ®å»¶è¿Ÿæ—¶é—´åšæ¯”è¾ƒï¼Œå‰©ä½™æ—¶é—´æœ€çŸ­çš„è¦æ”¾åœ¨æ ˆé¡¶ã€‚</p><p>æŸ¥çœ‹DelayQueueç±»ä¿¡æ¯ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public class DelayQueue&lt;E extends Delayed&gt; extends AbstractQueue&lt;E&gt; implements BlockingQueue&lt;E&gt; {</span></span>
<span class="line"><span>    // å‘ç°DelayQueueä¸­çš„å…ƒç´ ï¼Œéœ€è¦ç»§æ‰¿Delayedæ¥å£ã€‚</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// ==========================================</span></span>
<span class="line"><span>// æ¥å£ç»§æ‰¿äº†Comparableï¼Œè¿™æ ·å°±å…·å¤‡äº†æ¯”è¾ƒçš„èƒ½åŠ›ã€‚</span></span>
<span class="line"><span>public interface Delayed extends Comparable&lt;Delayed&gt; {</span></span>
<span class="line"><span>    // æŠ½è±¡æ–¹æ³•ï¼Œå°±æ˜¯å’±ä»¬éœ€è¦è®¾ç½®çš„å»¶è¿Ÿæ—¶é—´</span></span>
<span class="line"><span>    long getDelay(TimeUnit unit);</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>    // Comparableæ¥å£æä¾›çš„ï¼špublic int compareTo(T o);</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>åŸºäºä¸Šè¿°ç‰¹ç‚¹ï¼Œå£°æ˜ä¸€ä¸ªå¯ä»¥å†™å…¥DelayQueueçš„å…ƒç´ ç±»</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public class Task implements Delayed {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /** ä»»åŠ¡çš„åç§° */</span></span>
<span class="line"><span>    private String name;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /** ä»€ä¹ˆæ—¶é—´ç‚¹æ‰§è¡Œ */</span></span>
<span class="line"><span>    private Long time;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     *</span></span>
<span class="line"><span>     * @param name</span></span>
<span class="line"><span>     * @param delay  å•ä½æ¯«ç§’ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public Task(String name, Long delay) {</span></span>
<span class="line"><span>        // ä»»åŠ¡åç§°</span></span>
<span class="line"><span>        this.name = name;</span></span>
<span class="line"><span>        this.time = System.currentTimeMillis() + delay;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è®¾ç½®ä»»åŠ¡ä»€ä¹ˆæ—¶å€™å¯ä»¥å‡ºå»¶è¿Ÿé˜Ÿåˆ—</span></span>
<span class="line"><span>     * @param unit</span></span>
<span class="line"><span>     * @return</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public long getDelay(TimeUnit unit) {</span></span>
<span class="line"><span>        return unit.convert(time - System.currentTimeMillis(),TimeUnit.NANOSECONDS);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¸¤ä¸ªä»»åŠ¡åœ¨æ’å…¥åˆ°å»¶è¿Ÿé˜Ÿåˆ—æ—¶çš„æ¯”è¾ƒæ–¹å¼</span></span>
<span class="line"><span>     * @param o</span></span>
<span class="line"><span>     * @return</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public int compareTo(Delayed o) {</span></span>
<span class="line"><span>        return (int) (this.time - ((Task)o).getTime());</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>åœ¨ä½¿ç”¨æ—¶ï¼ŒæŸ¥çœ‹åˆ°DelayQueueåº•å±‚ç”¨äº†PriorityQueueï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šï¼ŒDelayQueueä¹Ÿæ˜¯æ— ç•Œé˜Ÿåˆ—ã€‚</p><p>æµ‹è¯•æ•ˆæœ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    // å£°æ˜å…ƒç´ </span></span>
<span class="line"><span>    Task task1 = new Task(&quot;A&quot;,1000L);</span></span>
<span class="line"><span>    Task task2 = new Task(&quot;B&quot;,5000L);</span></span>
<span class="line"><span>    Task task3 = new Task(&quot;C&quot;,3000L);</span></span>
<span class="line"><span>    Task task4 = new Task(&quot;D&quot;,2000L);</span></span>
<span class="line"><span>    // å£°æ˜é˜»å¡é˜Ÿåˆ—</span></span>
<span class="line"><span>    DelayQueue&lt;Task&gt; queue = new DelayQueue&lt;&gt;();</span></span>
<span class="line"><span>    // å°†å…ƒç´ æ·»åŠ åˆ°å»¶è¿Ÿé˜Ÿåˆ—ä¸­</span></span>
<span class="line"><span>    queue.put(task1);</span></span>
<span class="line"><span>    queue.put(task2);</span></span>
<span class="line"><span>    queue.put(task3);</span></span>
<span class="line"><span>    queue.put(task4);</span></span>
<span class="line"><span>    // è·å–å…ƒç´ </span></span>
<span class="line"><span>    System.out.println(queue.take());</span></span>
<span class="line"><span>    System.out.println(queue.take());</span></span>
<span class="line"><span>    System.out.println(queue.take());</span></span>
<span class="line"><span>    System.out.println(queue.take());</span></span>
<span class="line"><span>    // A,D,C,B</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>åœ¨åº”ç”¨æ—¶ï¼Œå¤–å–ï¼Œ15åˆ†é’Ÿå•†å®¶éœ€è¦èŠ‚ç‚¹ï¼Œå¦‚æœä¸èŠ‚ç‚¹ï¼Œè¿™ä¸ªè®¢å•è‡ªåŠ¨å–æ¶ˆã€‚</p><p>å¯ä»¥æ¯ä¸‹ä¸€ä¸ªè®¢å•ï¼Œå°±æ”¾åˆ°å»¶è¿Ÿé˜Ÿåˆ—ä¸­ï¼Œå¦‚æœè§„å®šæ—¶é—´å†…ï¼Œå•†å®¶æ²¡æœ‰èŠ‚ç‚¹ï¼Œç›´æ¥é€šè¿‡æ¶ˆè´¹è€…è·å–å…ƒç´ ï¼Œç„¶åå–æ¶ˆè®¢å•ã€‚</p><p>åªè¦æ˜¯æœ‰éœ€è¦å»¶è¿Ÿä¸€å®šæ—¶é—´åï¼Œå†æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå°±å¯ä»¥é€šè¿‡å»¶è¿Ÿé˜Ÿåˆ—å»å®ç°ã€‚</p><h3 id="_5-2ã€delayqueueæ ¸å¿ƒå±æ€§" tabindex="-1">5.2ã€DelayQueueæ ¸å¿ƒå±æ€§ <a class="header-anchor" href="#_5-2ã€delayqueueæ ¸å¿ƒå±æ€§" aria-label="Permalink to &quot;5.2ã€DelayQueueæ ¸å¿ƒå±æ€§&quot;">â€‹</a></h3><p>å¯ä»¥æŸ¥çœ‹åˆ°DelayQueueå°±å››ä¸ªæ ¸å¿ƒå±æ€§</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å› ä¸ºDelayQueueä¾ç„¶å±äºé˜»å¡é˜Ÿåˆ—ï¼Œéœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚çœ‹åˆ°åªæœ‰ä¸€æŠŠé”ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªlock</span></span>
<span class="line"><span>private final transient ReentrantLock lock = new ReentrantLock();</span></span>
<span class="line"><span>// å› ä¸ºDelayQueueè¿˜æ˜¯åŸºäºäºŒå‰å †ç»“æ„å®ç°çš„ï¼Œæ²¡æœ‰å¿…è¦é‡æ–°æä¸€ä¸ªäºŒå‰å †ï¼Œç›´æ¥ä½¿ç”¨çš„PriorityQueue</span></span>
<span class="line"><span>private final PriorityQueue&lt;E&gt; q = new PriorityQueue&lt;E&gt;();</span></span>
<span class="line"><span>// leaderä¸€èˆ¬ä¼šå­˜å‚¨ç­‰å¾…æ ˆé¡¶æ•°æ®çš„æ¶ˆè´¹è€…ï¼Œåœ¨æ•´ä½“å†™å…¥å’Œæ¶ˆè´¹çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè®¾ç½®çš„leaderçš„ä¸€äº›åˆ¤æ–­ã€‚</span></span>
<span class="line"><span>private Thread leader = null;</span></span>
<span class="line"><span>// ç”Ÿäº§è€…åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œä¸ä¼šé˜»å¡çš„ã€‚å½“å‰çš„Conditionå°±æ˜¯ç»™æ¶ˆè´¹è€…ç”¨çš„</span></span>
<span class="line"><span>// æ¯”å¦‚æ¶ˆè´¹è€…åœ¨è·å–æ•°æ®æ—¶ï¼Œå‘ç°æ ˆé¡¶çš„æ•°æ®è¿˜åˆæ²¡åˆ°å»¶è¿Ÿæ—¶é—´ã€‚</span></span>
<span class="line"><span>// è¿™ä¸ªæ—¶å€™ï¼Œå’±ä»¬å°±éœ€è¦å°†æ¶ˆè´¹è€…çº¿ç¨‹æŒ‚èµ·ï¼Œé˜»å¡ä¸€ä¼šï¼Œé˜»å¡åˆ°å…ƒç´ åˆ°äº†å»¶è¿Ÿæ—¶é—´ï¼Œæˆ–è€…æ˜¯ï¼Œç”Ÿäº§è€…æ’å…¥çš„å…ƒç´ åˆ°äº†æ ˆé¡¶ï¼Œæ­¤æ—¶ç”Ÿäº§è€…ä¼šå”¤é†’æ¶ˆè´¹è€…ã€‚</span></span>
<span class="line"><span>private final Condition available = lock.newCondition();</span></span></code></pre></div><h3 id="_5-3ã€delayqueueå†™å…¥æµç¨‹åˆ†æ" tabindex="-1">5.3ã€DelayQueueå†™å…¥æµç¨‹åˆ†æ <a class="header-anchor" href="#_5-3ã€delayqueueå†™å…¥æµç¨‹åˆ†æ" aria-label="Permalink to &quot;5.3ã€DelayQueueå†™å…¥æµç¨‹åˆ†æ&quot;">â€‹</a></h3><p>Delayæ˜¯æ— ç•Œçš„ï¼Œæ•°ç»„å¯ä»¥åŠ¨æ€çš„æ‰©å®¹ï¼Œä¸éœ€è¦å…³æ³¨ç”Ÿäº§è€…çš„é˜»å¡é—®é¢˜ï¼Œä»–å°±æ²¡æœ‰é˜»å¡é—®é¢˜ã€‚</p><p>è¿™é‡Œåªéœ€è¦æŸ¥çœ‹offeræ–¹æ³•å³å¯ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public boolean offer(E e) {</span></span>
<span class="line"><span>    // ç›´æ¥è·å–lockï¼ŒåŠ é”ã€‚</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // ç›´æ¥è°ƒç”¨PriorityQueueçš„æ’å…¥æ–¹æ³•ï¼Œè¿™é‡Œä¼šæ ¹æ®ä¹‹å‰é‡å†™Delayedæ¥å£ä¸­çš„compareToæ–¹æ³•åšæ’åºï¼Œç„¶åè°ƒæ•´ä¸Šç§»å’Œä¸‹ç§»æ“ä½œã€‚</span></span>
<span class="line"><span>        q.offer(e);</span></span>
<span class="line"><span>        // è°ƒç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—çš„peekæ–¹æ³•ï¼Œæ‹¿åˆ°å †é¡¶çš„æ•°æ®</span></span>
<span class="line"><span>        // æ‹¿åˆ°å †é¡¶æ•°æ®åï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯åˆšåˆšæ’å…¥çš„å…ƒç´ </span></span>
<span class="line"><span>        if (q.peek() == e) {</span></span>
<span class="line"><span>            // leaderèµ‹å€¼ä¸ºnullã€‚åœ¨æ¶ˆè´¹è€…çš„ä½ç½®å†æä¸€å˜´</span></span>
<span class="line"><span>            leader = null;</span></span>
<span class="line"><span>            // å”¤é†’æ¶ˆè´¹è€…ï¼Œé¿å…åˆšåˆšæ’å…¥çš„æ•°æ®çš„å»¶è¿Ÿæ—¶é—´å‡ºç°é—®é¢˜ã€‚</span></span>
<span class="line"><span>            available.signal();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // æ’å…¥æˆåŠŸï¼Œ</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é‡Šæ”¾é”</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_5-4ã€delayqueueè¯»å–æµç¨‹åˆ†æ" tabindex="-1">5.4ã€DelayQueueè¯»å–æµç¨‹åˆ†æ <a class="header-anchor" href="#_5-4ã€delayqueueè¯»å–æµç¨‹åˆ†æ" aria-label="Permalink to &quot;5.4ã€DelayQueueè¯»å–æµç¨‹åˆ†æ&quot;">â€‹</a></h3><p>æ¶ˆè´¹è€…ä¾ç„¶è¿˜æ˜¯å­˜åœ¨é˜»å¡çš„æƒ…å†µï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªæƒ…å†µ</p><ul><li><p>æ¶ˆè´¹è€…è¦æ‹¿åˆ°æ ˆé¡¶æ•°æ®ï¼Œä½†æ˜¯å»¶è¿Ÿæ—¶é—´è¿˜æ²¡åˆ°ï¼Œæ­¤æ—¶æ¶ˆè´¹è€…éœ€è¦ç­‰å¾…ä¸€ä¼šã€‚</p></li><li><p>æ¶ˆè´¹è€…è¦æ¥æ‹¿æ•°æ®ï¼Œä½†æ˜¯å‘ç°å·²ç»æœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…æ ˆé¡¶æ•°æ®äº†ï¼Œè¿™ä¸ªåæ¥çš„æ¶ˆè´¹è€…ä¹Ÿéœ€è¦ç­‰å¾…ä¸€ä¼šã€‚</p></li></ul><p>ä¾ç„¶éœ€è¦æŸ¥çœ‹å››ä¸ªæ–¹æ³•çš„å®ç°</p><h4 id="_5-4-1-removeæ–¹æ³•" tabindex="-1">5.4.1 removeæ–¹æ³• <a class="header-anchor" href="#_5-4-1-removeæ–¹æ³•" aria-label="Permalink to &quot;5.4.1 removeæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// ä¾ç„¶æ˜¯AbstractQueueæä¾›çš„æ–¹æ³•ï¼Œæœ‰ç»“æœå°±è¿”å›ï¼Œæ²¡ç»“æœæ‰”å¼‚å¸¸</span></span>
<span class="line"><span>public E remove() {</span></span>
<span class="line"><span>    E x = poll();</span></span>
<span class="line"><span>    if (x != null)</span></span>
<span class="line"><span>        return x;</span></span>
<span class="line"><span>    else</span></span>
<span class="line"><span>        throw new NoSuchElementException();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_5-4-2-pollæ–¹æ³•" tabindex="-1">5.4.2 pollæ–¹æ³• <a class="header-anchor" href="#_5-4-2-pollæ–¹æ³•" aria-label="Permalink to &quot;5.4.2 pollæ–¹æ³•&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// pollæ˜¯æµ…å°ä¸€ä¸‹ï¼Œä¸ä¼šé˜»å¡æ¶ˆè´¹è€…ï¼Œèƒ½æ‹¿å°±æ‹¿ï¼Œæ‹¿ä¸åˆ°å°±æ‹‰å€’</span></span>
<span class="line"><span>public E poll() {</span></span>
<span class="line"><span>    // æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…æ˜¯ä¸€æŠŠé”ï¼Œå…ˆæ‹¿é”ï¼ŒåŠ é”ã€‚</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lock();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>       	 // æ‹¿åˆ°æ ˆé¡¶æ•°æ®ã€‚</span></span>
<span class="line"><span>        E first = q.peek();</span></span>
<span class="line"><span>        // å¦‚æœå…ƒç´ ä¸ºnullï¼Œç›´æ¥è¿”å›null</span></span>
<span class="line"><span>        // å¦‚æœgetDelayæ–¹æ³•è¿”å›çš„ç»“æœæ˜¯å¤§äº0çš„ï¼Œé‚£è¯´æ˜å½“å‰å…ƒç´ è¿˜æ¯åˆ°å»¶è¿Ÿæ—¶é—´ï¼Œå…ƒç´ æ— æ³•è¿”å›ï¼Œè¿”å›null</span></span>
<span class="line"><span>        if (first == null || first.getDelay(NANOSECONDS) &gt; 0)</span></span>
<span class="line"><span>            return null;</span></span>
<span class="line"><span>        else</span></span>
<span class="line"><span>            // åˆ°è¿™è¯´æ˜å…ƒç´ ä¸ä¸ºnullï¼Œå¹¶ä¸”å·²ç»è¾¾åˆ°äº†å»¶è¿Ÿæ—¶é—´ï¼Œç›´æ¥è°ƒç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—çš„pollæ–¹æ³•</span></span>
<span class="line"><span>            return q.poll();</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é‡Šæ”¾é”ã€‚</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_5-4-3-poll-time-unit-æ–¹æ³•" tabindex="-1">5.4.3 poll(time,unit)æ–¹æ³• <a class="header-anchor" href="#_5-4-3-poll-time-unit-æ–¹æ³•" aria-label="Permalink to &quot;5.4.3 poll(time,unit)æ–¹æ³•&quot;">â€‹</a></h4><p>è¿™ä¸ªæ˜¯å…è®¸é˜»å¡çš„ï¼Œå¹¶ä¸”æŒ‡å®šä¸€å®šçš„æ—¶é—´</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E poll(long timeout, TimeUnit unit) throws InterruptedException {</span></span>
<span class="line"><span>    // å…ˆå°†æ—¶é—´è½¬ä¸ºçº³ç§’</span></span>
<span class="line"><span>    long nanos = unit.toNanos(timeout);</span></span>
<span class="line"><span>    // æ‹¿é”ï¼ŒåŠ é”ã€‚</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        // æ­»å¾ªç¯ã€‚</span></span>
<span class="line"><span>        for (;;) {</span></span>
<span class="line"><span>            // æ‹¿åˆ°å †é¡¶æ•°æ®</span></span>
<span class="line"><span>            E first = q.peek();</span></span>
<span class="line"><span>            // å¦‚æœå…ƒç´ ä¸ºnull</span></span>
<span class="line"><span>            if (first == null) {</span></span>
<span class="line"><span>                // å¹¶ä¸”ç­‰å¾…çš„æ—¶é—´å°äºç­‰äº0ã€‚ä¸èƒ½ç­‰äº†ï¼Œç›´æ¥è¿”å›null</span></span>
<span class="line"><span>                if (nanos &lt;= 0)</span></span>
<span class="line"><span>                    return null;</span></span>
<span class="line"><span>                // è¯´æ˜å½“å‰çº¿ç¨‹è¿˜æœ‰å¯ä»¥é˜»å¡çš„æ—¶é—´ï¼Œé˜»å¡æŒ‡å®šæ—¶é—´å³å¯ã€‚</span></span>
<span class="line"><span>                else</span></span>
<span class="line"><span>                    // è¿™é‡ŒæŒ‚èµ·çº¿ç¨‹åï¼Œè¯´æ˜é˜Ÿåˆ—æ²¡æœ‰å…ƒç´ ï¼Œåœ¨ç”Ÿäº§è€…æ·»åŠ æ•°æ®ä¹‹åï¼Œä¼šå”¤é†’</span></span>
<span class="line"><span>                    nanos = available.awaitNanos(nanos);</span></span>
<span class="line"><span>            // åˆ°è¿™è¯´æ˜ï¼Œæœ‰æ•°æ®</span></span>
<span class="line"><span>            } else {</span></span>
<span class="line"><span>                // æœ‰æ•°æ®çš„è¯ï¼Œå…ˆè·å–æ•°æ®ç°åœ¨æ˜¯å¦å¯ä»¥æ‰§è¡Œï¼Œå»¶è¿Ÿæ—¶é—´æ˜¯å¦å·²ç»åˆ°äº†æŒ‡å®šæ—¶é—´</span></span>
<span class="line"><span>                long delay = first.getDelay(NANOSECONDS);</span></span>
<span class="line"><span>                // å»¶è¿Ÿæ—¶é—´æ˜¯å¦å·²ç»åˆ°äº†ï¼Œ</span></span>
<span class="line"><span>                if (delay &lt;= 0)</span></span>
<span class="line"><span>                    // æ—¶é—´åˆ°äº†ï¼Œç›´æ¥æ‰§è¡Œä¼˜å…ˆçº§é˜Ÿåˆ—çš„pollæ–¹æ³•ï¼Œè¿”å›å…ƒç´ </span></span>
<span class="line"><span>                    return q.poll();</span></span>
<span class="line"><span>                // ==================å»¶è¿Ÿæ—¶é—´æ²¡åˆ°ï¼Œæ¶ˆè´¹è€…éœ€è¦ç­‰ä¸€ä¼š===================</span></span>
<span class="line"><span>                // è¿™ä¸ªæ˜¯æŸ¥çœ‹æ¶ˆè´¹è€…å¯ä»¥ç­‰å¾…çš„æ—¶é—´ï¼Œ</span></span>
<span class="line"><span>                if (nanos &lt;= 0)</span></span>
<span class="line"><span>                    // ç›´æ¥è¿”å›nulll</span></span>
<span class="line"><span>                    return null;</span></span>
<span class="line"><span>                // ==================å»¶è¿Ÿæ—¶é—´æ²¡åˆ°ï¼Œæ¶ˆè´¹è€…å¯ä»¥ç­‰ä¸€ä¼š===================</span></span>
<span class="line"><span>                // æŠŠfirstèµ‹å€¼ä¸ºnull</span></span>
<span class="line"><span>                first = null; </span></span>
<span class="line"><span>                // å¦‚æœç­‰å¾…çš„æ—¶é—´ï¼Œå°äºå…ƒç´ å‰©ä½™çš„å»¶è¿Ÿæ—¶é—´ï¼Œæ¶ˆè´¹è€…ç›´æ¥æŒ‚èµ·ã€‚åæ­£æš‚æ—¶æ‹¿ä¸åˆ°ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯åç»­æ˜¯å¦æœ‰ç”Ÿäº§è€…æ·»åŠ ä¸€ä¸ªæ–°çš„æ•°æ®ï¼Œæˆ‘æ˜¯å¯ä»¥æ‹¿åˆ°çš„ã€‚</span></span>
<span class="line"><span>                // å¦‚æœå·²ç»æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…åœ¨ç­‰å¾…å †é¡¶æ•°æ®äº†ï¼Œæˆ‘è¿™è¾¹ä¸åšé¢å¤–æ“ä½œï¼Œç›´æ¥æŒ‚èµ·å³å¯ã€‚</span></span>
<span class="line"><span>                if (nanos &lt; delay || leader != null)</span></span>
<span class="line"><span>                    nanos = available.awaitNanos(nanos);</span></span>
<span class="line"><span>                // å½“å‰æ¶ˆè´¹è€…çš„é˜»å¡æ—¶é—´å¯ä»¥æ‹¿åˆ°æ•°æ®ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶ä»–æ¶ˆè´¹è€…åœ¨ç­‰å¾…å †é¡¶æ•°æ®</span></span>
<span class="line"><span>                else {</span></span>
<span class="line"><span>                    // æ‹¿åˆ°å½“å‰æ¶ˆè´¹è€…çš„çº¿ç¨‹å¯¹è±¡</span></span>
<span class="line"><span>                    Thread thisThread = Thread.currentThread();</span></span>
<span class="line"><span>                    // å°†leaderè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>                    leader = thisThread;</span></span>
<span class="line"><span>                    try {</span></span>
<span class="line"><span>                        // ä¼šè®©å½“å‰æ¶ˆè´¹è€…ï¼Œé˜»å¡è¿™ä¸ªå…ƒç´ çš„å»¶è¿Ÿæ—¶é—´</span></span>
<span class="line"><span>                        long timeLeft = available.awaitNanos(delay);</span></span>
<span class="line"><span>                        // é‡æ–°è®¡ç®—å½“å‰æ¶ˆè´¹è€…å‰©ä½™çš„å¯é˜»å¡æ—¶é—´ï¼Œã€‚</span></span>
<span class="line"><span>                        nanos -= delay - timeLeft;</span></span>
<span class="line"><span>                    } finally {</span></span>
<span class="line"><span>                        // åˆ°äº†æ—¶é—´ï¼Œå°†leaderè®¾ç½®ä¸ºnull</span></span>
<span class="line"><span>                        if (leader == thisThread)</span></span>
<span class="line"><span>                            leader = null;</span></span>
<span class="line"><span>                    }</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // æ²¡æœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…å…ƒç´ ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ä¸ºnull</span></span>
<span class="line"><span>        if (leader == null &amp;&amp; q.peek() != null)</span></span>
<span class="line"><span>            // åªè¦å½“å‰æ²¡æœ‰leaderåœ¨ç­‰ï¼Œå¹¶ä¸”é˜Ÿåˆ—æœ‰å…ƒç´ ï¼Œå°±éœ€è¦å†æ¬¡å”¤é†’æ¶ˆè´¹è€…ã€‚ã€</span></span>
<span class="line"><span>            // é¿å…é˜Ÿåˆ—æœ‰å…ƒç´ ï¼Œä½†æ˜¯æ²¡æœ‰æ¶ˆè´¹è€…å¤„ç†çš„é—®é¢˜</span></span>
<span class="line"><span>            available.signal();</span></span>
<span class="line"><span>        // é‡Šæ”¾é”</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_5-4-4-takeæ–¹æ³•" tabindex="-1">5.4.4 takeæ–¹æ³• <a class="header-anchor" href="#_5-4-4-takeæ–¹æ³•" aria-label="Permalink to &quot;5.4.4 takeæ–¹æ³•&quot;">â€‹</a></h4><p>è¿™ä¸ªæ˜¯å…è®¸é˜»å¡çš„ï¼Œä½†æ˜¯å¯ä»¥ä¸€ç›´ç­‰ï¼Œè¦ä¹ˆç­‰åˆ°å…ƒç´ ï¼Œè¦ä¹ˆç­‰åˆ°è¢«ä¸­æ–­ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public E take() throws InterruptedException {</span></span>
<span class="line"><span>    // æ­£å¸¸åŠ é”ï¼Œå¹¶ä¸”å…è®¸ä¸­æ–­</span></span>
<span class="line"><span>    final ReentrantLock lock = this.lock;</span></span>
<span class="line"><span>    lock.lockInterruptibly();</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        for (;;) {</span></span>
<span class="line"><span>            // æ‹¿åˆ°å…ƒç´ </span></span>
<span class="line"><span>            E first = q.peek();</span></span>
<span class="line"><span>            if (first == null)</span></span>
<span class="line"><span>                // æ²¡æœ‰å…ƒç´ æŒ‚èµ·ã€‚</span></span>
<span class="line"><span>                available.await();</span></span>
<span class="line"><span>            else {</span></span>
<span class="line"><span>                // æœ‰å…ƒç´ ï¼Œè·å–å»¶è¿Ÿæ—¶é—´ã€‚</span></span>
<span class="line"><span>                long delay = first.getDelay(NANOSECONDS);</span></span>
<span class="line"><span>                // åˆ¤æ–­å»¶è¿Ÿæ—¶é—´æ˜¯ä¸æ˜¯å·²ç»åˆ°äº†</span></span>
<span class="line"><span>                if (delay &lt;= 0)</span></span>
<span class="line"><span>                    // åŸºäºä¼˜å…ˆçº§é˜Ÿåˆ—çš„pollæ–¹æ³•è¿”å›</span></span>
<span class="line"><span>                    return q.poll();</span></span>
<span class="line"><span>                first = null; </span></span>
<span class="line"><span>                // å¦‚æœæœ‰æ¶ˆè´¹è€…åœ¨ç­‰ï¼Œå°±æ­£å¸¸awaitæŒ‚èµ·</span></span>
<span class="line"><span>                if (leader != null)</span></span>
<span class="line"><span>                    available.await();</span></span>
<span class="line"><span>                // å¦‚æœæ²¡æœ‰æ¶ˆè´¹è€…åœ¨ç­‰çš„å †é¡¶æ•°æ®ï¼Œæˆ‘æ¥ç­‰</span></span>
<span class="line"><span>                else {</span></span>
<span class="line"><span>                    // è·å–å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>                    Thread thisThread = Thread.currentThread();</span></span>
<span class="line"><span>                    // è®¾ç½®ä¸ºleaderï¼Œä»£è¡¨ç­‰å¾…å †é¡¶çš„æ•°æ®</span></span>
<span class="line"><span>                    leader = thisThread;</span></span>
<span class="line"><span>                    try {</span></span>
<span class="line"><span>                        // ç­‰å¾…æŒ‡å®šï¼ˆå †é¡¶å…ƒç´ çš„å»¶è¿Ÿæ—¶é—´ï¼‰æ—¶é•¿ï¼Œ</span></span>
<span class="line"><span>                        available.awaitNanos(delay);</span></span>
<span class="line"><span>                    } finally {</span></span>
<span class="line"><span>                        if (leader == thisThread)</span></span>
<span class="line"><span>                            // leaderèµ‹å€¼null</span></span>
<span class="line"><span>                            leader = null;</span></span>
<span class="line"><span>                    }</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } finally {</span></span>
<span class="line"><span>        // é¿å…æ¶ˆè´¹è€…æ— çº¿ç­‰ï¼Œæ¥ä¸€ä¸ªå”¤é†’æ¶ˆè´¹è€…çš„æ–¹æ³•ï¼Œä¸€èˆ¬æ˜¯å…¶ä»–æ¶ˆè´¹è€…æ‹¿åˆ°å…ƒç´ èµ°äº†ä¹‹åï¼Œå¹¶ä¸”å»¶è¿Ÿé˜Ÿåˆ—è¿˜æœ‰å…ƒç´ ï¼Œå°±æ‰§è¡Œifå†…éƒ¨å”¤é†’æ–¹æ³•</span></span>
<span class="line"><span>        if (leader == null &amp;&amp; q.peek() != null)</span></span>
<span class="line"><span>            available.signal();</span></span>
<span class="line"><span>        // é‡Šæ”¾é”</span></span>
<span class="line"><span>        lock.unlock();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="å…­ã€synchronousqueue" tabindex="-1">å…­ã€<strong>SynchronousQueue</strong> <a class="header-anchor" href="#å…­ã€synchronousqueue" aria-label="Permalink to &quot;å…­ã€**SynchronousQueue**&quot;">â€‹</a></h2><h3 id="_6-1-synchronousqueueä»‹ç»" tabindex="-1">6.1 SynchronousQueueä»‹ç» <a class="header-anchor" href="#_6-1-synchronousqueueä»‹ç»" aria-label="Permalink to &quot;6.1 SynchronousQueueä»‹ç»&quot;">â€‹</a></h3><p>SynchronousQueueè¿™ä¸ªé˜»å¡é˜Ÿåˆ—å’Œå…¶ä»–çš„é˜»å¡é˜Ÿåˆ—æœ‰å¾ˆå¤§çš„åŒºåˆ«</p><p>åœ¨å’±ä»¬çš„æ¦‚å¿µä¸­ï¼Œé˜Ÿåˆ—è‚¯å®šæ˜¯è¦å­˜å‚¨æ•°æ®çš„ï¼Œä½†æ˜¯SynchronousQueueä¸ä¼šå­˜å‚¨æ•°æ®çš„</p><p>SynchronousQueueé˜Ÿåˆ—ä¸­ï¼Œä»–ä¸å­˜å‚¨æ•°æ®ï¼Œå­˜å‚¨ç”Ÿäº§è€…æˆ–è€…æ˜¯æ¶ˆè´¹è€…</p><p>å½“å­˜å‚¨ä¸€ä¸ªç”Ÿäº§è€…åˆ°SynchronousQueueé˜Ÿåˆ—ä¸­ä¹‹åï¼Œç”Ÿäº§è€…ä¼šé˜»å¡ï¼ˆçœ‹ä½ è°ƒç”¨çš„æ–¹æ³•ï¼‰</p><p>ç”Ÿäº§è€…æœ€ç»ˆä¼šæœ‰å‡ ç§ç»“æœï¼š</p><ul><li><p>å¦‚æœåœ¨é˜»å¡æœŸé—´æœ‰æ¶ˆè´¹è€…æ¥åŒ¹é…ï¼Œç”Ÿäº§è€…å°±ä¼šå°†ç»‘å®šçš„æ¶ˆæ¯äº¤ç»™æ¶ˆè´¹è€…</p></li><li><p>ç”Ÿäº§è€…å¾—ç­‰é˜»å¡ç»“æœï¼Œæˆ–è€…ä¸å…è®¸é˜»å¡ï¼Œé‚£ä¹ˆå°±ç›´æ¥å¤±è´¥</p></li><li><p>ç”Ÿäº§è€…åœ¨é˜»å¡æœŸé—´ï¼Œå¦‚æœçº¿ç¨‹ä¸­æ–­ï¼Œç›´æ¥å‘Šè¾ã€‚</p></li></ul><p>åŒç†ï¼Œæ¶ˆè´¹è€…å’Œç”Ÿäº§è€…çš„æ•ˆæœæ˜¯ä¸€æ ·ã€‚</p><p>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æ•°æ®æ˜¯ç›´æ¥ä¼ é€’çš„ï¼Œä¸ä¼šç»è¿‡SynchronousQueueã€‚</p><p>SynchronousQueueæ˜¯ä¸ä¼šå­˜å‚¨æ•°æ®çš„ã€‚</p><p>ç»è¿‡é˜»å¡é˜Ÿåˆ—çš„å­¦ä¹ ï¼š</p><p>ç”Ÿäº§è€…ï¼š</p><ul><li><p>offer()ï¼šç”Ÿäº§è€…åœ¨æ”¾åˆ°SynchronousQueueçš„åŒæ—¶ï¼Œå¦‚æœæœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…æ¶ˆæ¯ï¼Œç›´æ¥é…å¯¹ã€‚å¦‚æœæ²¡æœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…æ¶ˆæ¯ï¼Œè¿™é‡Œç›´æ¥è¿”å›ï¼Œå‘Šè¾ã€‚</p></li><li><p>offer(time,unit)ï¼šç”Ÿäº§è€…åœ¨æ”¾åˆ°SynchronousQueueçš„åŒæ—¶ï¼Œå¦‚æœæœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…æ¶ˆæ¯ï¼Œç›´æ¥é…å¯¹ã€‚å¦‚æœæ²¡æœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…æ¶ˆæ¯ï¼Œé˜»å¡timeæ—¶é—´ï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œå‘Šè¾ã€‚</p></li><li><p>put()ï¼šç”Ÿäº§è€…åœ¨æ”¾åˆ°SynchronousQueueçš„åŒæ—¶ï¼Œå¦‚æœæœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…æ¶ˆæ¯ï¼Œç›´æ¥é…å¯¹ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ­»ç­‰ã€‚</p></li></ul><p>æ¶ˆè´¹è€…ï¼špoll()ï¼Œpoll(time,unit)ï¼Œtake()ã€‚é“ç†å’Œä¸Šé¢çš„ç”Ÿäº§è€…ä¸€è‡´ã€‚</p><p>æµ‹è¯•æ•ˆæœï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    // å› ä¸ºå½“å‰é˜Ÿåˆ—ä¸å­˜åœ¨æ•°æ®ï¼Œæ²¡æœ‰é•¿åº¦çš„æ¦‚å¿µã€‚</span></span>
<span class="line"><span>    SynchronousQueue queue = new SynchronousQueue();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    String msg = &quot;æ¶ˆæ¯ï¼&quot;;</span></span>
<span class="line"><span>    /*new Thread(() -&gt; {</span></span>
<span class="line"><span>        // b = falseï¼šä»£è¡¨æ²¡æœ‰æ¶ˆè´¹è€…æ¥æ‹¿</span></span>
<span class="line"><span>        boolean b = false;</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            b = queue.offer(msg,1, TimeUnit.SECONDS);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        System.out.println(b);</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Thread.sleep(100);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        System.out.println(queue.poll());</span></span>
<span class="line"><span>    }).start();*/</span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            System.out.println(queue.poll(1, TimeUnit.SECONDS));</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Thread.sleep(100);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        queue.offer(msg);</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_6-2-synchronousqueueæ ¸å¿ƒå±æ€§" tabindex="-1">6.2 SynchronousQueueæ ¸å¿ƒå±æ€§ <a class="header-anchor" href="#_6-2-synchronousqueueæ ¸å¿ƒå±æ€§" aria-label="Permalink to &quot;6.2 SynchronousQueueæ ¸å¿ƒå±æ€§&quot;">â€‹</a></h3><p>è¿›åˆ°SynchronousQueueç±»çš„å†…éƒ¨åï¼Œå‘ç°äº†ä¸€ä¸ªå†…éƒ¨ç±»ï¼ŒTransfererï¼Œå†…éƒ¨æä¾›äº†ä¸€ä¸ªtransferçš„æ–¹æ³•</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>abstract static class Transferer&lt;E&gt; {</span></span>
<span class="line"><span>    abstract E transfer(E e, boolean timed, long nanos);</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>å½“å‰è¿™ä¸ªç±»ä¸­æä¾›çš„transferæ–¹æ³•ï¼Œå°±æ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…åœ¨è°ƒç”¨è¯»å†™æ•°æ®æ—¶è¦ç”¨åˆ°çš„æ ¸å¿ƒæ–¹æ³•ã€‚</p><p>ç”Ÿäº§è€…åœ¨è°ƒç”¨ä¸Šè¿°çš„transferæ–¹æ³•æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°eä¼šæ­£å¸¸ä¼ é€’æ•°æ®</p><p>æ¶ˆè´¹è€…åœ¨è°ƒç”¨ä¸Šè¿°çš„transferæ–¹æ³•æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°eä¼šä¼ é€’null</p><p>SynchronousQueueé’ˆå¯¹æŠ½è±¡ç±»Transfereråšäº†å‡ ç§å®ç°ã€‚</p><p>ä¸€å…±çœ‹åˆ°äº†ä¸¤ç§å®ç°æ–¹å¼ï¼š</p><ul><li><p>TransferStack</p></li><li><p>TransferQueue</p></li></ul><p>è¿™ä¸¤ç§ç±»ç»§æ‰¿äº†TransfereræŠ½è±¡ç±»ï¼Œåœ¨æ„å»ºSynchronousQueueæ—¶ï¼Œä¼šæŒ‡å®šä½¿ç”¨å“ªç§å­ç±»</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// åˆ°åº•é‡‡ç”¨å“ªç§å®ç°ï¼Œéœ€è¦æŠŠå¯¹åº”çš„å¯¹è±¡å­˜æ”¾åˆ°è¿™ä¸ªå±æ€§ä¸­</span></span>
<span class="line"><span>private transient volatile Transferer&lt;E&gt; transferer;</span></span>
<span class="line"><span>// é‡‡ç”¨æ— å‚æ—¶ï¼Œä¼šè°ƒç”¨ä¸‹è¿°æ–¹æ³•ï¼Œå†æ¬¡è°ƒç”¨æœ‰å‚æ„é€ ä¼ å…¥false</span></span>
<span class="line"><span>public SynchronousQueue() {</span></span>
<span class="line"><span>    this(false);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// è°ƒç”¨çš„æ˜¯å½“å‰çš„æœ‰å‚æ„é€ ï¼Œfairä»£è¡¨å…¬å¹³è¿˜æ˜¯ä¸å…¬å¹³</span></span>
<span class="line"><span>public SynchronousQueue(boolean fair) {</span></span>
<span class="line"><span>    // å¦‚æœæ˜¯å…¬å¹³ï¼Œé‡‡ç”¨Queueï¼Œå¦‚æœæ˜¯ä¸å…¬å¹³ï¼Œé‡‡ç”¨Stack</span></span>
<span class="line"><span>    transferer = fair ? new TransferQueue&lt;E&gt;() : new TransferStack&lt;E&gt;();</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>TransferQueueçš„ç‰¹ç‚¹</p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/8c0df115166f4202b14a89a11b849c00.png" alt="" loading="lazy"></p><p><img src="https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/fyfile/2746/1654095150060/c6fe53bff00f468f90440012c507ef2e.png" alt="" loading="lazy"></p><p>ä»£ç æŸ¥çœ‹æ•ˆæœ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>public static void main(String[] args) throws InterruptedException {</span></span>
<span class="line"><span>    // å› ä¸ºå½“å‰é˜Ÿåˆ—ä¸å­˜åœ¨æ•°æ®ï¼Œæ²¡æœ‰é•¿åº¦çš„æ¦‚å¿µã€‚</span></span>
<span class="line"><span>    SynchronousQueue queue = new SynchronousQueue(true);</span></span>
<span class="line"><span>    SynchronousQueue queue = new SynchronousQueue(false);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            queue.put(&quot;ç”Ÿ1&quot;);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            queue.put(&quot;ç”Ÿ2&quot;);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            queue.put(&quot;ç”Ÿ3&quot;);</span></span>
<span class="line"><span>        } catch (InterruptedException e) {</span></span>
<span class="line"><span>            e.printStackTrace();</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Thread.sleep(100);</span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        System.out.println(&quot;æ¶ˆ1ï¼š&quot; + queue.poll());</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span>    Thread.sleep(100);</span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        System.out.println(&quot;æ¶ˆ2ï¼š&quot; + queue.poll());</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span>    Thread.sleep(100);</span></span>
<span class="line"><span>    new Thread(() -&gt; {</span></span>
<span class="line"><span>        System.out.println(&quot;æ¶ˆ3ï¼š&quot; + queue.poll());</span></span>
<span class="line"><span>    }).start();</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_6-3-synchronousqueueçš„transferqueueæºç " tabindex="-1">6.3 SynchronousQueueçš„TransferQueueæºç  <a class="header-anchor" href="#_6-3-synchronousqueueçš„transferqueueæºç " aria-label="Permalink to &quot;6.3 SynchronousQueueçš„TransferQueueæºç &quot;">â€‹</a></h3><p>ä¸ºäº†æŸ¥çœ‹æ¸…é™¤SynchronousQueueçš„TransferQueueæºç ï¼Œéœ€è¦ä»ä¸¤ç‚¹å¼€å§‹æŸ¥çœ‹æºç ä¿¡æ¯</p><h4 id="_6-3-1-qnodeæºç ä¿¡æ¯" tabindex="-1">6.3.1 QNodeæºç ä¿¡æ¯ <a class="header-anchor" href="#_6-3-1-qnodeæºç ä¿¡æ¯" aria-label="Permalink to &quot;6.3.1 QNodeæºç ä¿¡æ¯&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>static final class QNode {</span></span>
<span class="line"><span>    // å½“å‰èŠ‚ç‚¹å¯ä»¥è·å–åˆ°nextèŠ‚ç‚¹</span></span>
<span class="line"><span>    volatile QNode next;    </span></span>
<span class="line"><span>    // itemåœ¨ä¸åŒæƒ…å†µä¸‹æ•ˆæœä¸åŒ</span></span>
<span class="line"><span>    // ç”Ÿäº§è€…ï¼šæœ‰æ•°æ®</span></span>
<span class="line"><span>    // æ¶ˆè´¹è€…ï¼šä¸ºnull</span></span>
<span class="line"><span>    volatile Object item;     </span></span>
<span class="line"><span>    // å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>    volatile Thread waiter;   </span></span>
<span class="line"><span>    // å½“å‰å±æ€§æ˜¯æ°¸ç£ŠåŒºåˆ†æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…çš„å±æ€§</span></span>
<span class="line"><span>    final boolean isData;</span></span>
<span class="line"><span>    // æœ€ç»ˆç”Ÿäº§è€…éœ€è¦å°†itemäº¤ç»™æ¶ˆè´¹è€…</span></span>
<span class="line"><span>    // æœ€ç»ˆæ¶ˆè´¹è€…éœ€è¦è·å–ç”Ÿäº§è€…çš„item</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>    // çœç•¥äº†å¤§é‡æä¾›çš„CASæ“ä½œ</span></span>
<span class="line"><span>    ....</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_6-3-2-transferæ–¹æ³•å®ç°" tabindex="-1">6.3.2 transferæ–¹æ³•å®ç° <a class="header-anchor" href="#_6-3-2-transferæ–¹æ³•å®ç°" aria-label="Permalink to &quot;6.3.2 transferæ–¹æ³•å®ç°&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// å½“å‰æ–¹æ³•æ˜¯TransferQueueçš„æ ¸å¿ƒå†…å®¹</span></span>
<span class="line"><span>// eï¼šä¼ é€’çš„æ•°æ®</span></span>
<span class="line"><span>// timedï¼šfalseï¼Œä»£è¡¨æ— é™é˜»å¡ï¼Œtrueï¼Œä»£è¡¨é˜»å¡nacosæ—¶é—´</span></span>
<span class="line"><span>E transfer(E e, boolean timed, long nanos) {</span></span>
<span class="line"><span>    // å½“å‰QNodeæ˜¯è¦å°è£…å½“å‰ç”Ÿäº§è€…æˆ–è€…æ¶ˆè´¹è€…çš„ä¿¡æ¯</span></span>
<span class="line"><span>    QNode s = null; </span></span>
<span class="line"><span>    // isData == trueï¼šä»£è¡¨æ˜¯ç”Ÿäº§è€…</span></span>
<span class="line"><span>    // isData == falseï¼šä»£è¡¨æ˜¯æ¶ˆè´¹è€…</span></span>
<span class="line"><span>    boolean isData = (e != null);</span></span>
<span class="line"><span>    // æ­»å¾ªç¯</span></span>
<span class="line"><span>    for (;;) {</span></span>
<span class="line"><span>        // è·å–å°¾èŠ‚ç‚¹å’Œå¤´ç»“ç‚¹</span></span>
<span class="line"><span>        QNode t = tail;</span></span>
<span class="line"><span>        QNode h = head;</span></span>
<span class="line"><span>        // ä¸ºäº†é¿å…TransferQueueè¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œè¿™è¾¹åšä¸€ä¸ªå¥å£®æ€§åˆ¤æ–­</span></span>
<span class="line"><span>        if (t == null || h == null)     </span></span>
<span class="line"><span>            continue;                  </span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // å¦‚æœæ»¡è¶³h == t æ¡ä»¶ï¼Œè¯´æ˜å½“å‰é˜Ÿåˆ—æ²¡æœ‰ç”Ÿäº§è€…æˆ–è€…æ¶ˆè´¹è€…ï¼Œä¸ºç©º</span></span>
<span class="line"><span>        // å¦‚æœæœ‰èŠ‚ç‚¹ï¼ŒåŒæ—¶å½“å‰èŠ‚ç‚¹å’Œé˜Ÿåˆ—èŠ‚ç‚¹å±äºåŒä¸€ç§è§’è‰²ã€‚</span></span>
<span class="line"><span>        // ifä¸­çš„é€»è¾‘æ˜¯è¿›åˆ°é˜Ÿåˆ—</span></span>
<span class="line"><span>        if (h == t || t.isData == isData) { </span></span>
<span class="line"><span>            // ===================åœ¨åˆ¤æ–­å¹¶å‘é—®é¢˜==========================</span></span>
<span class="line"><span>            // æ‹¿åˆ°å°¾èŠ‚ç‚¹çš„next</span></span>
<span class="line"><span>            QNode tn = t.next;</span></span>
<span class="line"><span>            // å¦‚æœtä¸ä¸ºå°¾èŠ‚ç‚¹ï¼Œè¿›æ¥è¯´æ˜æœ‰å…¶ä»–çº¿ç¨‹å¹¶å‘ä¿®æ”¹äº†tail</span></span>
<span class="line"><span>            if (t != tail)   </span></span>
<span class="line"><span>                // é‡æ–°èµ°forå¾ªç¯           </span></span>
<span class="line"><span>                continue;</span></span>
<span class="line"><span>            // tnå¦‚æœä¸ºä¸nullï¼Œè¯´æ˜å‰é¢æœ‰çº¿ç¨‹å¹¶å‘ï¼Œæ·»åŠ äº†ä¸€ä¸ªèŠ‚ç‚¹</span></span>
<span class="line"><span>            if (tn != null) {    </span></span>
<span class="line"><span>                // ç›´æ¥å¸®åŠ©é‚£ä¸ªå¹¶å‘çº¿ç¨‹ä¿®æ”¹tailçš„æŒ‡å‘   </span></span>
<span class="line"><span>                advanceTail(t, tn);</span></span>
<span class="line"><span>                // é‡æ–°èµ°forå¾ªç¯   </span></span>
<span class="line"><span>                continue;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // è·å–å½“å‰çº¿ç¨‹æ˜¯å¦å¯ä»¥é˜»å¡</span></span>
<span class="line"><span>            // å¦‚æœtimedä¸ºtrueï¼Œå¹¶ä¸”é˜»å¡çš„æ—¶é—´å°äºç­‰äº0</span></span>
<span class="line"><span>            // ä¸éœ€è¦åŒ¹é…ï¼Œç›´æ¥å‘Šè¾ï¼ï¼ï¼</span></span>
<span class="line"><span>            if (timed &amp;&amp; nanos &lt;= 0)   </span></span>
<span class="line"><span>                return null;</span></span>
<span class="line"><span>            // å¦‚æœå¯ä»¥é˜»å¡ï¼Œå°†å½“å‰éœ€è¦æ’å…¥åˆ°é˜Ÿåˆ—çš„QNodeæ„å»ºå‡ºæ¥</span></span>
<span class="line"><span>            if (s == null)</span></span>
<span class="line"><span>                s = new QNode(e, isData);</span></span>
<span class="line"><span>            // åŸºäºCASæ“ä½œï¼Œå°†tailèŠ‚ç‚¹çš„nextè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹</span></span>
<span class="line"><span>            if (!t.casNext(null, s))   </span></span>
<span class="line"><span>                // å¦‚æœè¿›åˆ°ifï¼Œè¯´æ˜ä¿®æ”¹å¤±è´¥ï¼Œé‡æ–°æ‰§è¡Œforå¾ªç¯ä¿®æ”¹   </span></span>
<span class="line"><span>                continue;</span></span>
<span class="line"><span>            // CASæ“ä½œæˆåŠŸï¼Œç›´æ¥æ›¿æ¢tailçš„æŒ‡å‘</span></span>
<span class="line"><span>            advanceTail(t, s);   </span></span>
<span class="line"><span>            // å¦‚æœè¿›åˆ°é˜Ÿåˆ—ä¸­äº†ï¼ŒæŒ‚èµ·çº¿ç¨‹ï¼Œè¦ä¹ˆç­‰ç”Ÿäº§è€…ï¼Œè¦ä¹ˆç­‰æ¶ˆè´¹è€…ã€‚</span></span>
<span class="line"><span>            // xæ˜¯è¿”å›æ›¿æ¢åçš„æ•°æ®</span></span>
<span class="line"><span>            Object x = awaitFulfill(s, e, timed, nanos);</span></span>
<span class="line"><span>            // å¦‚æœå…ƒç´ å’ŒèŠ‚ç‚¹ç›¸ç­‰ï¼Œè¯´æ˜èŠ‚ç‚¹å–æ¶ˆäº†</span></span>
<span class="line"><span>            if (x == s) {            </span></span>
<span class="line"><span>                // æ¸…ç©ºå½“å‰èŠ‚ç‚¹ï¼Œå°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„nextï¼Œç›´æ¥å‘Šè¾   </span></span>
<span class="line"><span>                clean(t, s);</span></span>
<span class="line"><span>                return null;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦è¿˜åœ¨é˜Ÿåˆ—ä¸­</span></span>
<span class="line"><span>            if (!s.isOffList()) {   </span></span>
<span class="line"><span>                // å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºhead</span></span>
<span class="line"><span>                advanceHead(t, s);   </span></span>
<span class="line"><span>                // å¦‚æœ x != nullï¼Œ å¦‚æœæ‹¿åˆ°äº†æ•°æ®ï¼Œè¯´æ˜æˆ‘æ˜¯æ¶ˆè´¹è€…</span></span>
<span class="line"><span>                if (x != null)   </span></span>
<span class="line"><span>                    // å°†å½“å‰èŠ‚ç‚¹çš„itemè®¾ç½®ä¸ºè‡ªå·±       </span></span>
<span class="line"><span>                    s.item = s;</span></span>
<span class="line"><span>                // çº¿ç¨‹ç½®ä½null</span></span>
<span class="line"><span>                s.waiter = null;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // è¿”å›æ•°æ®</span></span>
<span class="line"><span>            return (x != null) ? (E)x : e;</span></span>
<span class="line"><span>        } </span></span>
<span class="line"><span>        // åŒ¹é…é˜Ÿåˆ—ä¸­çš„æ©˜è‰²</span></span>
<span class="line"><span>        else {     </span></span>
<span class="line"><span>            // æ‹¿åˆ°headçš„nextï¼Œä½œä¸ºè¦åŒ¹é…çš„èŠ‚ç‚¹         </span></span>
<span class="line"><span>            QNode m = h.next;      </span></span>
<span class="line"><span>            // åšå¹¶å‘åˆ¤æ–­ï¼Œå¦‚æœå¤´èŠ‚ç‚¹ï¼Œå°¾èŠ‚ç‚¹ï¼Œæˆ–è€…head.nextå‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™è¾¹è¦é‡æ–°èµ°forå¾ªç¯</span></span>
<span class="line"><span>            if (t != tail || m == null || h != head)</span></span>
<span class="line"><span>                continue;              </span></span>
<span class="line"><span>            // æ²¡å¹¶å‘é—®é¢˜ï¼Œå¯ä»¥æ‹¿æ•°æ®</span></span>
<span class="line"><span>            // æ‹¿åˆ°mèŠ‚ç‚¹çš„itemä½œä¸ºxã€‚</span></span>
<span class="line"><span>            Object x = m.item;</span></span>
<span class="line"><span>            // å¦‚æœisData == (x != null)æ»¡è¶³ï¼Œè¯´æ˜å½“å‰å‡ºç°äº†å¹¶å‘é—®é¢˜ï¼Œæ¶ˆè´¹è€…å»åŒ¹é…é˜Ÿåˆ—çš„æ¶ˆè´¹è€…ä¸åˆç†</span></span>
<span class="line"><span>            if (isData == (x != null) ||  </span></span>
<span class="line"><span>                // å¦‚æœæ’é˜Ÿçš„èŠ‚ç‚¹å–æ¶ˆï¼Œå°±ä¼šè®²å½“å‰QNodeä¸­çš„itemæŒ‡å‘QNode</span></span>
<span class="line"><span>                x == m ||     </span></span>
<span class="line"><span>                // å¦‚æœå‰é¢ä¸¤ä¸ªéƒ½æ²¡æ»¡è¶³ï¼Œå¯ä»¥äº¤æ¢æ•°æ®äº†ã€‚ </span></span>
<span class="line"><span>                // å¦‚æœäº¤æ¢å¤±è´¥ï¼Œè¯´æ˜æœ‰å¹¶å‘é—®é¢˜ï¼Œ</span></span>
<span class="line"><span>                !m.casItem(x, e)) {   </span></span>
<span class="line"><span>                // é‡æ–°è®¾ç½®headèŠ‚ç‚¹ï¼Œå¹¶ä¸”å†èµ°ä¸€æ¬¡å¾ªç¯  </span></span>
<span class="line"><span>                advanceHead(h, m);      </span></span>
<span class="line"><span>                continue;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            // æ›¿æ¢head</span></span>
<span class="line"><span>            advanceHead(h, m);          </span></span>
<span class="line"><span>            // å”¤é†’head.nextä¸­çš„çº¿ç¨‹</span></span>
<span class="line"><span>            LockSupport.unpark(m.waiter);</span></span>
<span class="line"><span>            // è¿™è¾¹åŒ¹é…å¥½äº†ï¼Œæ•°æ®ä¹Ÿäº¤æ¢äº†ï¼Œç›´æ¥è¿”å›</span></span>
<span class="line"><span>            // å¦‚æœ x != nullï¼Œè¯´æ˜é˜Ÿåˆ—ä¸­æ˜¯ç”Ÿäº§è€…ï¼Œå½“å‰æ˜¯æ¶ˆè´¹è€…ï¼Œè¿™è¾¹ç›´æ¥è¿”å›xå…·ä½“æ•°æ®</span></span>
<span class="line"><span>            // åä¹‹ï¼Œé˜Ÿåˆ—ä¸­æ˜¯æ¶ˆè´¹è€…ï¼Œå½“å‰æ˜¯ç”Ÿäº§è€…ï¼Œç›´æ¥è¿”å›è‡ªå·±çš„æ•°æ®</span></span>
<span class="line"><span>            return (x != null) ? (E)x : e;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></div></div></main><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-8bc02b95 data-v-9f0389bf><div class="container" data-v-9f0389bf><p class="message" data-v-9f0389bf>waitingresult.com</p><p class="copyright" data-v-9f0389bf>Copyright Â© 2024 Luyuan</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"01-dev_01.08-æ•°æ®åº“_02-mysql_mysqlç‰¹æ®Šå‘½ä»¤.md\":\"CCvYDuEi\",\"01-dev_01.09-docker_01-dockercompose_å¸¸ç”¨-ç¯å¢ƒæœåŠ¡-dockerfile.md\":\"MXJ8bUyU\",\"01-dev_01.01-java_jvm_00-å‰è¨€.md\":\"CBEJd7OY\",\"01-dev_01.00-c___01.ç®€ä»‹ä¸ç‰¹ç‚¹.md\":\"DZB5zctY\",\"01-dev_01.03-ç½‘ç»œå®‰å…¨_00-å¤§çº²è·¯çº¿.md\":\"CAgDoWkK\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_03-è¡Œä¸ºå‹_ç­–ç•¥.md\":\"gFhp150B\",\"01-dev_01.05-ç®—æ³•_ç®—æ³•è·¯çº¿.md\":\"BdB3YsN2\",\"02-person_06-åšå®¢æ­å»º_rsså¤„ç†.md\":\"D5elg70O\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_ã€Šè®¾è®¡æ¨¡å¼çš„è‰ºæœ¯ã€‹.md\":\"BYXdvEoA\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_07-é«˜æ•ˆå¹¶å‘-javaçš„å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹.md\":\"B35zJVLI\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_00-å‰è¨€.md\":\"DlpPqFd5\",\"01-dev_01.08-æ•°æ®åº“_03-redis_æ·±å…¥ç†è§£redis_1.redis-å…¥é—¨-è®¤è¯†redis.md\":\"CMN_cho8\",\"01-dev_01.06-linux_ç¯å¢ƒå®‰è£…_linuxå®‰è£…jdk.md\":\"DrjkA2H5\",\"01-dev_01.08-æ•°æ®åº“_00-ã€Šmysqlæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹_ã€Šä¸€æ¡æ•°æ®çš„å¤šå‰¯é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸mvccã€‹.md\":\"B1KwqhOW\",\"01-dev_01.02-å‰ç«¯_nodeç‰ˆæœ¬åˆ‡æ¢.md\":\"DgTVp61l\",\"01-dev_01.02-å‰ç«¯_react_umijs.md\":\"DNOCK2ws\",\"01-dev_01.01-java_ç³»ç»Ÿä¼˜åŒ–åŸåˆ™.md\":\"DPFWXFwg\",\"02-person_05-å¥‡æŠ€æ·«å·§_idea.md\":\"Bb4YZ5CD\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹_03-æ¶æ„è®¾è®¡.md\":\"BBQ6ufQl\",\"01-dev_01.03-ç½‘ç»œå®‰å…¨_00-å¸¸ç”¨ç½‘ç«™.md\":\"BzKuz8bf\",\"02-person_03-ç‹¬ç«‹å¼€å‘è€…_ç‹¬ç«‹å¼€å‘è€…çš„æ€è€ƒ.md\":\"Ct0X-4yA\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_ç¨‹åºå‘˜çš„é—²è¨€ç¢è¯­.md\":\"ouXLNXS3\",\"01-dev_01.99-plugins_easy-inform_æœªå‘½åæ€ç»´å¯¼å›¾.md\":\"IqsrutFB\",\"01-dev_01.99-plugins_mybatiscodehelperç¦»çº¿æ¿€æ´»åˆ†æ.md\":\"BoOOhJwR\",\"01-dev_01.02-å‰ç«¯_01-å‰ç«¯å­¦ä¹ è·¯çº¿.md\":\"DX08axed\",\"02-person_05-å¥‡æŠ€æ·«å·§_ç¬”è®°æ•´ç†.md\":\"D8aRj4zb\",\"01-dev_01.08-æ•°æ®åº“_02-mysql_ç¢ç‰‡æ¸…ç†æ–¹æ¡ˆ.md\":\"DSx0TKuq\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_æˆ‘è¦ä¸Šæ¸…åï¼šä¸€ä¸ªæ™®é€šå°‘å¹´çš„é€†è¢­ä¹‹è·¯.md\":\"7Ly7xGB5\",\"01-dev_01.02-å‰ç«¯_node_server.md\":\"C-lZWiFW\",\"01-dev_01.05-ç®—æ³•_02-å¯¼è¯».md\":\"CWq8mPSQ\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _01-ç®€ä»‹.md\":\"CCfkl4Ye\",\"01-dev_01.21-ç½‘ç»œ_ç½‘ç»œæ¨¡å‹.md\":\"Dsnvc8Dc\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_ã€Šç¾å›¢æŠ€æœ¯ã€‹è®¾è®¡æ¨¡å¼åœ¨å¤–å–è¥é”€ä¸šåŠ¡ä¸­çš„å®è·µ.md\":\"C6GfZLTz\",\"01-dev_01.01-java_juc_ä¿¡å·é‡.md\":\"DRYc4hKu\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹_01-æ¦‚è¿°.md\":\"BdZHw7bi\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_mybatis-doå¯¹è±¡åµŒå¥—çš„ç‰¹æ®Šå¤„ç†-æ’ä»¶åŠŸèƒ½.md\":\"DWf_PGyL\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_03-è¡Œä¸ºå‹_è´£ä»»é“¾.md\":\"uuGkKU6l\",\"01-dev_01.02-å‰ç«¯_ç–‘é—®.md\":\"DNo4-78-\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _03-å¦‚ä½•å¿«é€Ÿæ¥æ‰‹ç†è§£é¡¹ç›®.md\":\"e6AcWAWH\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _04-è·¨å¢ƒä¸šåŠ¡_åŸºç¡€æ‰«ç›².md\":\"Cku99968\",\"01-dev_01.06-linux_ç¯å¢ƒå®‰è£…_åŸºç¡€ç¯å¢ƒé—®é¢˜.md\":\"D0rXXryc\",\"01-dev_01.02-å‰ç«¯_vue_00-å¿«é€Ÿå…¥é—¨.md\":\"DA6umoGe\",\"02-person_03-ç‹¬ç«‹å¼€å‘è€…_index.md\":\"Bz9StDk_\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _04-è·¨å¢ƒä¸šåŠ¡_ä»“é…ç»„ç½‘ä¼˜å…ˆçº§.md\":\"Bfwk1HPX\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _04-è·¨å¢ƒä¸šåŠ¡_ä»“é…é€»è¾‘è¾“å‡º.md\":\"H0w_azSR\",\"ä¿®æ”¹configts.md\":\"B7QF1p6i\",\"02-person_02-åšæ–‡æˆé•¿_ä¸ªäººæå‡_æœªå‘½å.md\":\"D5jdr98t\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€_00-å¹¿å‘Šå‰ç½®ä¸šåŠ¡çŸ¥è¯†.md\":\"BtBnyxi-\",\"01-dev_01.11-mq_mqçš„åº”ç”¨åœºæ™¯ä¸å¸¸è§é—®é¢˜.md\":\"C7z2v72S\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_01-æœç´¢_02.æœå¹¿æ¨æ ¸å¿ƒä¸šåŠ¡é“¾è·¯.md\":\"70M5xwwF\",\"02-person_02-åšæ–‡æˆé•¿_äº•åº•ä¹‹è›™_æå‰åšçš„æ€æƒ³å‡†å¤‡.md\":\"DdvBU4yA\",\"01-dev_01.02-å‰ç«¯_npm_pnpm.md\":\"BS6ofloC\",\"01-dev_01.01-java_javaåŸºç¡€_serializable.md\":\"BpNWmUd1\",\"01-dev_01.06-linux_ç¯å¢ƒå®‰è£…_ubuntuåŸºç¡€ç¯å¢ƒå®‰è£….md\":\"CWdCAcck\",\"02-person_04-seo_index.md\":\"C17SO8Iy\",\"01-dev_01.05-ç®—æ³•_æ•°æ®ç»“æ„_æ•°æ®ç»“æ„.md\":\"p5bWmk7O\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_01-æœç´¢_00-ç®€ä»‹.md\":\"Bu2XXCOG\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_æ—¥å¿—_traceidé—®é¢˜.md\":\"ZkBiWvLL\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_06-javaå¯¹è±¡çš„å†…å­˜åˆ†é….md\":\"Cu7Hu1G-\",\"01-dev_01.06-linux_è™šæ‹Ÿæœº_windowså®‰è£…linuxå­ç³»ç»Ÿ.md\":\"l9G817Lv\",\"01-dev_01.02-å‰ç«¯_react_redux.md\":\"BwPZID7q\",\"01-dev_01.01-java_javaåŸºç¡€_æ³›å‹.md\":\"B5AluGLz\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹_02-åè¯è§£é‡Š.md\":\"D8zHTGij\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_02-ç±»åŠ è½½æœºåˆ¶.md\":\"CU1Cb_aD\",\"01-dev_01.99-plugins_obsidianæ’ä»¶å¼€å‘_å¿«é€Ÿå…¥é—¨.md\":\"CmAqnpvi\",\"02-person_02-åšæ–‡æˆé•¿_index.md\":\"QqWU1n-C\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _06-open_open api åœ¨ç”µå•†ä¸­çš„ä½œç”¨.md\":\"BDma2uGY\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_æœæ¨ä¸šåŠ¡æ¢³ç†.md\":\"BeaqWpKF\",\"01-dev_01.05-ç®—æ³•_01-å‰è¨€.md\":\"Ckovyg3Y\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_01-æ·±å…¥è®¾è®¡æ¨¡å¼_01-é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ç®€ä»‹.md\":\"Ca6HoMSE\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_04-ç»“æ„å‹_ä»£ç†.md\":\"ChfEte8G\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_springboot_spelè¡¨è¾¾å¼.md\":\"DOf64Hli\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_02-åˆ›å»ºå‹_å•ä¾‹.md\":\"Cj0RaMD2\",\"01-dev_01.03-ç½‘ç»œå®‰å…¨_å®‰å…¨æ¼æ´_nacos-2.1ä»¥ä¸‹çš„æœªæˆæƒè®¿é—®æ¼æ´.md\":\"03naMc8y\",\"01-dev_01.08-æ•°æ®åº“_02-mysql_é—®é¢˜å¼•å¯¼å­¦ä¹ .md\":\"BHxKVABD\",\"01-dev_01.69-æŠ€æœ¯è§„èŒƒ_01-æ¢ç´¢æ—¥å¿—è§„çº¦.md\":\"CyfUHpSj\",\"01-dev_01.02-å‰ç«¯_02-å¸¸ç”¨ä»£ç æ®µ.md\":\"CicJxpfS\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _02-è·¨å¢ƒç”µå•†å‰ç½®çŸ¥è¯†.md\":\"Cik5HXNs\",\"01-dev_01.08-æ•°æ®åº“_00-ã€Šmysqlæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹_01-ã€Šè£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½ã€‹-åˆè¯†mysql.md\":\"COufAnTt\",\"01-dev_01.02-å‰ç«¯_vue_01-åŸºç¡€è¯­æ³•.md\":\"oPIyU1HP\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_éæš´åŠ›æ²Ÿé€š.md\":\"BHan0-9e\",\"01-dev_01.01-java_juc_future.md\":\"l5AtW3YT\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€_00-ç®€ä»‹.md\":\"DvgdDYlR\",\"01-dev_01.08-æ•°æ®åº“_03-redis_æ·±å…¥ç†è§£redis_3.redis-å‘½ä»¤.md\":\"DjBdHL7-\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_03-è¡Œä¸ºå‹_æ¨¡æ¿.md\":\"BQrBJPUf\",\"01-dev_01.08-æ•°æ®åº“_03-redis_æ·±å…¥ç†è§£redis_4.redis-ä¸»é¢˜.md\":\"z3dZr0qN\",\"01-dev_01.05-ç®—æ³•_ä¸šåŠ¡ç®—æ³•_è£…ç®±ç®—æ³•.md\":\"BRgSL-BK\",\"01-dev_01.06-linux_è™šæ‹Ÿæœº_virtualbox.md\":\"CwpN4Hsw\",\"01-dev_01.13-es_03-esæ•°æ®åŒæ­¥é—®é¢˜.md\":\"CdPSdHGK\",\"01-dev_01.01-java_cloud_higress.md\":\"C_edPmi0\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_01-è¿è¡Œæ—¶æ•°æ®åŒº.md\":\"CXTOT6wS\",\"01-dev_01.07-å¤§æ•°æ®_æ¡†æ¶_æœªå‘½å.md\":\"BZ7pcG4P\",\"01-dev_01.02-å‰ç«¯_react_basic.md\":\"cWxoocxl\",\"guide_index.md\":\"CSCKeaMZ\",\"01-dev_01.09-docker_dockerè½¯ä»¶å®‰è£…_minio.md\":\"Bfvl5oON\",\"02-person_02-åšæ–‡æˆé•¿_guide_ç¨‹åºäººç”Ÿ_å¼€å‘åŒå­¦é¡»çŸ¥.md\":\"CJwxu0Ns\",\"index.md\":\"DmQuK4v5\",\"01-dev_01.01-java_juc_callable å®é™…åº”ç”¨åœºæ™¯.md\":\"CI7O-Ge8\",\"01-dev_01.08-æ•°æ®åº“_03-redis_æ·±å…¥ç†è§£redis_2.redis-æ•°æ®ç»“æ„.md\":\"Dsh_jDUq\",\"01-dev_01.06-linux_å¸¸ç”¨å‘½ä»¤.md\":\"BoEANcH5\",\"02-person_01-é¡¹ç›®ç®¡ç†_åˆ˜æ¶¦å¯¹è¯æ¨Šç™»ï¼šåšå›¢é˜Ÿï¼Œæˆ‘ä»¬åªæ‹›æˆå¹´äºº.md\":\"CrD38FXO\",\"01-dev_01.60-ä¹¦ç±ç›¸å…³_ç»å…¸ç¼–ç¨‹ä¹¦å•500mb.md\":\"BhC9Ahq_\",\"01-dev_01.99-plugins_å¼€å‘ç›¸å…³.md\":\"CXgQ_8s-\",\"01-dev_01.08-æ•°æ®åº“_00-ã€Šmysqlæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹_02-ã€Šmysqlçš„è°ƒæ§æŒ‰é’®ã€‹-å¯åŠ¨é€‰é¡¹ä¸ç¯å¢ƒå˜é‡.md\":\"-n6_F036\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_04-jvmçš„åƒåœ¾æ”¶é›†ç®—æ³•.md\":\"D33T7sXJ\",\"01-dev_01.08-æ•°æ®åº“_03-redis_redis.md\":\"CXcQF2ak\",\"01-dev_01.02-å‰ç«¯_node_nodeapi.md\":\"BBanKKR6\",\"01-dev_01.07-å¤§æ•°æ®_æ•°ä»“.md\":\"BWGvAhON\",\"support.md\":\"BfU2fh6x\",\"01-dev_01.01-java_juc_01-å¹¶å‘ç¼–ç¨‹_å¹¶å‘ç¼–ç¨‹-02.md\":\"mE4ejqbD\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_è®¤çŸ¥è§‰é†’ï¼šå¼€å¯è‡ªæˆ‘æ”¹å˜çš„åŸåŠ¨åŠ›.md\":\"Bj43PZav\",\"01-dev_01.08-æ•°æ®åº“_03-redis_æ·±å…¥ç†è§£redis_5.redis-æŒä¹…åŒ–ä¸æ·˜æ±°æœºåˆ¶.md\":\"MRTBhTM9\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹_99-é—®é¢˜ç­”ç–‘.md\":\"C-iDVMKW\",\"01-dev_01.08-æ•°æ®åº“_00-ã€Šmysqlæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹_04-ã€Šä»ä¸€æ¡è®°å½•è¯´èµ·ã€‹-innodbè®°å½•ç»“æ„.md\":\"bHx1sBA6\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_05-åŒäº²å§”æ´¾æ¨¡å‹.md\":\"Dc7ty5E4\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_springboot_springboot-start.md\":\"BbQqwnGK\",\"01-dev_01.68-ddd_å……è¡€æ¨¡å‹ä¸è´«è¡€æ¨¡å‹.md\":\"C4R1zj4p\",\"01-dev_01.01-java_juc_çº¿ç¨‹æ± .md\":\"DkyFSL7y\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_è¿™æœ¬ä¹¦èƒ½è®©ä½ æˆ’çƒŸ.md\":\"DfMdRIUa\",\"02-person_02-åšæ–‡æˆé•¿_äº•åº•ä¹‹è›™_ä¸šåŠ¡æ¨¡å¼.md\":\"AI5W0DL4\",\"01-dev_00.01-æ¸¸æˆ_index.md\":\"Ctz_5Rpv\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_å•†åŸä¸»é¡µæœç´¢ä¸šåŠ¡.md\":\"BNUyWzAb\",\"01-dev_01.08-æ•°æ®åº“_02-mysql_mysqlæ•´ä½“æ¶æ„è§£æ.md\":\"Bnu0Z2_q\",\"01-dev_01.99-plugins_easy-inform_å¯¼å›¾.md\":\"lKHPA4Gt\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_å¹‚ç­‰å¤„ç†.md\":\"B5Vf9rtg\",\"01-dev_01.05-ç®—æ³•_ä¸šåŠ¡ç®—æ³•_dfa.md\":\"DIOGn4MH\",\"01-dev_01.99-plugins_site.md\":\"DxXWYE_E\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_03-å¯¹è±¡çš„å†…å­˜æ¨¡å‹.md\":\"Bny5eYXI\",\"01-dev_01.01-java_juc_volatileå…³é”®å­—.md\":\"k-TnsZ10\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€_01-ç½‘çº¢ç³»ç»Ÿ_æ ·å“ä¸šåŠ¡é€»è¾‘æ¢³ç†.md\":\"DyB6YsLT\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_ä¹¦å•_æŒæ¡ä¹ æƒ¯.md\":\"Bdc8ieMY\",\"links.md\":\"CWYMcL_F\",\"01-dev_01.04-è®¾è®¡æ¨¡å¼_04-ç»“æ„å‹_é—¨é¢.md\":\"DQE9Xrgh\",\"02-person_03-ç‹¬ç«‹å¼€å‘è€…_èµ„æºç«™ç‚¹.md\":\"D5SfG5t8\",\"02-person_index.md\":\"DvrfukoA\",\"04-team_index.md\":\"Bn_B2pVR\",\"01-dev_01.03-ç½‘ç»œå®‰å…¨_02-å¸¸è§å®‰å…¨é—®é¢˜.md\":\"Bf6-g5o2\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹_04-ç®—æ³•ç­–ç•¥.md\":\"LUF-nXML\",\"01-dev_01.20-æœºç»„_æœªå‘½å.md\":\"DBqDpzlz\",\"01-dev_01.05-ç®—æ³•_ä¸šåŠ¡ç®—æ³•_dfs.md\":\"lGMgbojl\",\"01-dev_01.99-plugins_ob.md\":\"BiyuSPz-\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€_01-ç½‘çº¢ç³»ç»Ÿ_01-obsç›¸å…³åŠŸèƒ½ç®€ä»‹.md\":\"BZxSBwYl\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_springboot_eventè§‚å¯Ÿè€….md\":\"DgqdRMrZ\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_springboot_springbootapplicationæ³¨è§£.md\":\"CpmLJqj2\",\"02-person_06-åšå®¢æ­å»º_vitepress.md\":\"D8676hqZ\",\"01-dev_01.08-æ•°æ®åº“_01-ã€Šmysql-binlogç¥ç§˜é¢çº±ã€‹_01-mysql-binlog.md\":\"CHNe878r\",\"02-person_05-å¥‡æŠ€æ·«å·§_æœºåœº.md\":\"Ft-x3bOb\",\"01-dev_01.10-devops_å‰è¨€.md\":\"D-wgSlwL\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _04-è·¨å¢ƒä¸šåŠ¡_ä»“é…é’ˆå¯¹ä¸œå—äºšåœ°åŒºçš„ç‰¹æ®Šé€»è¾‘.md\":\"CzSo1oAS\",\"01-dev_index.md\":\"9xf532Qo\",\"02-person_03-ç‹¬ç«‹å¼€å‘è€…_æˆ‘æ˜¯è°.md\":\"De9ULaeq\",\"01-dev_01.08-æ•°æ®åº“_03-redis_æ·±å…¥ç†è§£redis_6.redis-é¢è¯•.md\":\"D-1TXwZ_\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_æŠŠæ—¶é—´å½“åšæœ‹å‹.md\":\"oSARv-nh\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_01-æœç´¢_é˜¿é‡Œå·´å·´-æ™ºèƒ½å¼€æ”¾æœç´¢.md\":\"sLRfAIuE\",\"01-dev_01.02-å‰ç«¯_npm_npmé•œåƒåˆ‡æ¢.md\":\"BjTEr0LK\",\"01-dev_01.11-mq_rocketmq_rocketmqæŒ‡åŒ—.md\":\"DoO3cIF8\",\"01-dev_01.03-ç½‘ç»œå®‰å…¨_01-ç½‘ç»œå®‰å…¨ç®€ä»‹.md\":\"Czm6Zh__\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_å¤§è„‘æ˜¯å¦‚ä½•è®°ä½çŸ¥è¯†çš„.md\":\"BfKwH2sm\",\"01-dev_01.01-java_index.md\":\"aF_pl_nr\",\"01-dev_01.09-docker_dockerè½¯ä»¶å®‰è£…_00-dockeræ–¹å¼å®‰è£…å•æœºç‰ˆesã€kibanaã€ikåˆ†è¯ã€å¯è§†åŒ–.md\":\"BtzVSU39\",\"01-dev_01.01-java_jvm_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº_05-ç»å…¸çš„åƒåœ¾å›æ”¶å™¨.md\":\"B8M_X8jc\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_10-ä¹°äº†åˆä¹°é¡µé€»è¾‘.md\":\"B8D410uE\",\"01-dev_01.10-devops_äº‘æ•ˆæµæ°´çº¿æ„å»º.md\":\"BW55MVUy\",\"01-dev_01.08-æ•°æ®åº“_00-ã€Šmysqlæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹_03-ã€Šä¹±ç çš„å‰ä¸–ä»Šç”Ÿã€‹-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™.md\":\"BeymwEdu\",\"02-person_05-å¥‡æŠ€æ·«å·§_javaä»£ç ä¼˜åŒ–å°æŠ€å·§.md\":\"CecmkR8I\",\"01-dev_01.99-plugins_obsidianæ’ä»¶å¼€å‘_obsidianæ’ä»¶å¼€å‘.md\":\"CbleEfyT\",\"01-dev_01.01-java_javaåŸºç¡€_é¢å‘å¯¹è±¡.md\":\"uZhgxqGU\",\"01-dev_01.09-docker_dockerè½¯ä»¶å®‰è£…_powerjob.md\":\"DwbrZjwn\",\"02-person_06-åšå®¢æ­å»º_åŸºäºgithubactionså®ç°githubä¸giteeçš„åŒæ­¥.md\":\"CmDNpE87\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_æŒç»­çš„é«˜æ•ˆèƒ½åŠ›ï¼šçƒ§æ°´å­¦ä¹ æ³•.md\":\"-B_QSaDL\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_01-äº¬ä¸œæ¨èç³»ç»Ÿ_æ¨èç³»ç»Ÿ-å¹¿å‘Šæ’åº.md\":\"CPw-Bquq\",\"01-dev_01.07-å¤§æ•°æ®_å°šç¡…è°·_æ¶æ„å›¾.md\":\"CqqrxSsq\",\"01-dev_01.13-es_01-eså…¥é—¨.md\":\"D6WHWaZ9\",\"02-person_02-åšæ–‡æˆé•¿_è¯»ä¹¦_è¯»ä¹¦æœ‰æ„Ÿ_ã€Šåˆ»æ„ç»ƒä¹ ã€‹ è¯»ä¸­æ„Ÿæ‚Ÿ.md\":\"pzxLwJcy\",\"02-person_00-ä¸šåŠ¡å­¦ä¹ _05-æœå¹¿æ¨_02-æ¨è_å­¦ä¹ èµ„æº.md\":\"BZ3ctYIo\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_åŠ å¯†_excel_wordæ–‡ä»¶åŠ å¯†.md\":\"D0t1T-IB\",\"01-dev_01.09-docker_dockerè½¯ä»¶å®‰è£…_00-dockeré•œåƒæ–¹å¼æ­å»ºxxl.md\":\"Cvdzv4qi\",\"02-person_03-ç‹¬ç«‹å¼€å‘è€…_ç‹¬ç«‹å¼€å‘å¤šäººï¼ˆè¿œç¨‹ï¼‰åä½œç»éªŒåˆ†äº«.md\":\"BNeQLmSs\",\"01-dev_01.06-linux_linuxè‡ªå®šä¹‰ç³»ç»ŸæœåŠ¡-æœåŠ¡è„šæœ¬ç¼–å†™ï¼ˆå¼€æœºè‡ªå¯ï¼‰.md\":\"DtNbxo9s\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_springboot_è‡ªå®šä¹‰-start_æœªå‘½å.md\":\"cda3mS7V\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_redisåˆ†å¸ƒå¼é”çš„åº”ç”¨ï¼ˆæ¥å£é™æµã€é˜²æŠ–ï¼‰.md\":\"OAkNhdaB\",\"03-me_index.md\":\"DuelE0M5\",\"01-dev_01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ_æ—¥å¿—_è‡ªå®šä¹‰æ‰“å°å‡ºå…¥å‚.md\":\"Dc35nQqT\",\"01-dev_01.09-docker_dockerè½¯ä»¶å®‰è£…_linuxå®‰è£…docker.md\":\"U_UBXlVa\",\"01-dev_01.01-java_juc_01-å¹¶å‘ç¼–ç¨‹_å¹¶å‘ç¼–ç¨‹-01.md\":\"CJllK_HG\",\"01-dev_01.01-java_juc_å¤šçº¿ç¨‹.md\":\"DCSux3ZE\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"é™†è¿œçš„çŸ¥è¯†åº“\",\"description\":\"ä¸ªäººæŠ€æœ¯çŸ¥è¯†åº“ï¼Œè®°å½• & åˆ†äº«ä¸ªäººç¢ç‰‡åŒ–ã€ç»“æ„åŒ–ã€ä½“ç³»åŒ–çš„æŠ€æœ¯çŸ¥è¯†å†…å®¹ã€‚\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"carbonAds\":{\"code\":\"your-carbon-code\",\"placement\":\"your-carbon-placement\"},\"outline\":{\"label\":\"ç›®å½•\"},\"logo\":\"/favicon.jpg\",\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"ğŸš€é¦–é¡µ\",\"link\":\"/\"},{\"text\":\"ğŸŒ±æŒ‡å—\",\"items\":[{\"text\":\"Dev\",\"items\":[{\"text\":\"Dev\",\"link\":\"/01-Dev/\"}]},{\"text\":\"ä¸ªäºº\",\"items\":[{\"text\":\"ä¸šåŠ¡å­¦ä¹ \",\"link\":\"/02-Person/00-ä¸šåŠ¡å­¦ä¹ /01-ç®€ä»‹\"},{\"text\":\"SEO\",\"link\":\"/02-Person/04-SEO/\"},{\"text\":\"ç‹¬ç«‹å¼€å‘è€…\",\"link\":\"/02-Person/03-ç‹¬ç«‹å¼€å‘è€…/\"},{\"text\":\"åšæ–‡æˆé•¿\",\"link\":\"/02-Person/02-åšæ–‡æˆé•¿/\"},{\"text\":\"åšå®¢æ­å»º\",\"link\":\"/02-Person/06-åšå®¢æ­å»º/VitePress\"}]}]},{\"text\":\"ğŸ’«å…³äº\",\"items\":[{\"text\":\"ğŸ’«å…³äºæˆ‘\",\"link\":\"/03-Me/\"},{\"text\":\"ğŸ”ŠRSSè®¢é˜…\",\"link\":\"/rss.xml\"}]}],\"docFooter\":{\"prev\":false,\"next\":false},\"darkModeSwitchLabel\":\"æµ…/æ·±è‰²æ¨¡å¼åˆ‡æ¢\",\"darkModeSwitchTitle\":\"åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼\",\"lightModeSwitchTitle\":\"åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼\",\"sidebar\":[{\"text\":\"01 Dev\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00.01 æ¸¸æˆ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Index\",\"link\":\"\\\\01-Dev\\\\00.01-æ¸¸æˆ\\\\index.md\"}]},{\"text\":\"01.00 C++\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01.ç®€ä»‹ä¸ç‰¹ç‚¹\",\"link\":\"\\\\01-Dev\\\\01.00-C++\\\\01.ç®€ä»‹ä¸ç‰¹ç‚¹.md\"}]},{\"text\":\"01.01 Java\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Cloud\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Higress\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\Cloud\\\\Higress.md\"}]},{\"text\":\"Index\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\index.md\"},{\"text\":\"JavaåŸºç¡€\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Serializable\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JavaåŸºç¡€\\\\Serializable.md\"},{\"text\":\"æ³›å‹\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JavaåŸºç¡€\\\\æ³›å‹.md\"},{\"text\":\"é¢å‘å¯¹è±¡\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JavaåŸºç¡€\\\\é¢å‘å¯¹è±¡.md\"}]},{\"text\":\"JUC\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 å¹¶å‘ç¼–ç¨‹\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"å¹¶å‘ç¼–ç¨‹ 01\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\01-å¹¶å‘ç¼–ç¨‹\\\\å¹¶å‘ç¼–ç¨‹-01.md\"},{\"text\":\"å¹¶å‘ç¼–ç¨‹ 02\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\01-å¹¶å‘ç¼–ç¨‹\\\\å¹¶å‘ç¼–ç¨‹-02.md\"}]},{\"text\":\"Callable å®é™…åº”ç”¨åœºæ™¯\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\Callable å®é™…åº”ç”¨åœºæ™¯.md\"},{\"text\":\"Future\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\Future.md\"},{\"text\":\"Volatileå…³é”®å­—\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\Volatileå…³é”®å­—.md\"},{\"text\":\"ä¿¡å·é‡\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\ä¿¡å·é‡.md\"},{\"text\":\"å¤šçº¿ç¨‹\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\å¤šçº¿ç¨‹.md\"},{\"text\":\"çº¿ç¨‹æ± \",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JUC\\\\çº¿ç¨‹æ± .md\"}]},{\"text\":\"JVM\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 å‰è¨€\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\00-å‰è¨€.md\"},{\"text\":\"æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 è¿è¡Œæ—¶æ•°æ®åŒº\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\01-è¿è¡Œæ—¶æ•°æ®åŒº.md\"},{\"text\":\"02 ç±»åŠ è½½æœºåˆ¶\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\02-ç±»åŠ è½½æœºåˆ¶.md\"},{\"text\":\"03 å¯¹è±¡çš„å†…å­˜æ¨¡å‹\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\03-å¯¹è±¡çš„å†…å­˜æ¨¡å‹.md\"},{\"text\":\"04 JVMçš„åƒåœ¾æ”¶é›†ç®—æ³•\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\04-JVMçš„åƒåœ¾æ”¶é›†ç®—æ³•.md\"},{\"text\":\"05 åŒäº²å§”æ´¾æ¨¡å‹\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\05-åŒäº²å§”æ´¾æ¨¡å‹.md\"},{\"text\":\"05 ç»å…¸çš„åƒåœ¾å›æ”¶å™¨\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\05-ç»å…¸çš„åƒåœ¾å›æ”¶å™¨.md\"},{\"text\":\"06 Javaå¯¹è±¡çš„å†…å­˜åˆ†é…\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\06-Javaå¯¹è±¡çš„å†…å­˜åˆ†é….md\"},{\"text\":\"07 é«˜æ•ˆå¹¶å‘ Javaçš„å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\JVM\\\\æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº\\\\07-é«˜æ•ˆå¹¶å‘-Javaçš„å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹.md\"}]}]},{\"text\":\"ç³»ç»Ÿä¼˜åŒ–åŸåˆ™\",\"link\":\"\\\\01-Dev\\\\01.01-Java\\\\ç³»ç»Ÿä¼˜åŒ–åŸåˆ™.md\"}]},{\"text\":\"01.02 å‰ç«¯\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 å‰ç«¯å­¦ä¹ è·¯çº¿\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\01-å‰ç«¯å­¦ä¹ è·¯çº¿.md\"},{\"text\":\"å¸¸ç”¨ä»£ç æ®µ\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\02-å¸¸ç”¨ä»£ç æ®µ.md\"},{\"text\":\"Node\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"NodeAPI\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\Node\\\\NodeAPI.md\"},{\"text\":\"Server\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\Node\\\\Server.md\"}]},{\"text\":\"Nodeç‰ˆæœ¬åˆ‡æ¢\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\Nodeç‰ˆæœ¬åˆ‡æ¢.md\"},{\"text\":\"Npm\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Npmé•œåƒåˆ‡æ¢\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\Npm\\\\Npmé•œåƒåˆ‡æ¢.md\"},{\"text\":\"Pnpm\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\Npm\\\\pnpm.md\"}]},{\"text\":\"React\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Basic\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\React\\\\basic.md\"},{\"text\":\"Redux\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\React\\\\Redux.md\"},{\"text\":\"UmiJS\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\React\\\\UmiJS.md\"}]},{\"text\":\"Vue\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 å¿«é€Ÿå…¥é—¨\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\Vue\\\\00-å¿«é€Ÿå…¥é—¨.md\"},{\"text\":\"01 åŸºç¡€è¯­æ³•\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\Vue\\\\01-åŸºç¡€è¯­æ³•.md\"}]},{\"text\":\"ç–‘é—®\",\"link\":\"\\\\01-Dev\\\\01.02-å‰ç«¯\\\\ç–‘é—®.md\"}]},{\"text\":\"01.03 ç½‘ç»œå®‰å…¨\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 å¤§çº²è·¯çº¿\",\"link\":\"\\\\01-Dev\\\\01.03-ç½‘ç»œå®‰å…¨\\\\00-å¤§çº²è·¯çº¿.md\"},{\"text\":\"00 å¸¸ç”¨ç½‘ç«™\",\"link\":\"\\\\01-Dev\\\\01.03-ç½‘ç»œå®‰å…¨\\\\00-å¸¸ç”¨ç½‘ç«™.md\"},{\"text\":\"01 ç½‘ç»œå®‰å…¨ç®€ä»‹\",\"link\":\"\\\\01-Dev\\\\01.03-ç½‘ç»œå®‰å…¨\\\\01-ç½‘ç»œå®‰å…¨ç®€ä»‹.md\"},{\"text\":\"02 å¸¸è§å®‰å…¨é—®é¢˜\",\"link\":\"\\\\01-Dev\\\\01.03-ç½‘ç»œå®‰å…¨\\\\02-å¸¸è§å®‰å…¨é—®é¢˜.md\"},{\"text\":\"å®‰å…¨æ¼æ´\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Nacos 2.1ä»¥ä¸‹çš„æœªæˆæƒè®¿é—®æ¼æ´\",\"link\":\"\\\\01-Dev\\\\01.03-ç½‘ç»œå®‰å…¨\\\\å®‰å…¨æ¼æ´\\\\Nacos-2.1ä»¥ä¸‹çš„æœªæˆæƒè®¿é—®æ¼æ´.md\"}]}]},{\"text\":\"01.04 è®¾è®¡æ¨¡å¼\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 å‰è¨€\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\00-å‰è¨€.md\"},{\"text\":\"01 æ·±å…¥è®¾è®¡æ¨¡å¼\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ç®€ä»‹\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\01-æ·±å…¥è®¾è®¡æ¨¡å¼\\\\01-é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ç®€ä»‹.md\"}]},{\"text\":\"02 åˆ›å»ºå‹\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"å•ä¾‹\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\02-åˆ›å»ºå‹\\\\å•ä¾‹.md\"}]},{\"text\":\"03 è¡Œä¸ºå‹\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æ¨¡æ¿\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\03-è¡Œä¸ºå‹\\\\æ¨¡æ¿.md\"},{\"text\":\"ç­–ç•¥\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\03-è¡Œä¸ºå‹\\\\ç­–ç•¥.md\"},{\"text\":\"è´£ä»»é“¾\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\03-è¡Œä¸ºå‹\\\\è´£ä»»é“¾.md\"}]},{\"text\":\"04 ç»“æ„å‹\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ä»£ç†\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\04-ç»“æ„å‹\\\\ä»£ç†.md\"},{\"text\":\"é—¨é¢\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\04-ç»“æ„å‹\\\\é—¨é¢.md\"}]},{\"text\":\"ã€Šç¾å›¢æŠ€æœ¯ã€‹è®¾è®¡æ¨¡å¼åœ¨å¤–å–è¥é”€ä¸šåŠ¡ä¸­çš„å®è·µ\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\ã€Šç¾å›¢æŠ€æœ¯ã€‹è®¾è®¡æ¨¡å¼åœ¨å¤–å–è¥é”€ä¸šåŠ¡ä¸­çš„å®è·µ.md\"},{\"text\":\"ã€Šè®¾è®¡æ¨¡å¼çš„è‰ºæœ¯ã€‹\",\"link\":\"\\\\01-Dev\\\\01.04-è®¾è®¡æ¨¡å¼\\\\ã€Šè®¾è®¡æ¨¡å¼çš„è‰ºæœ¯ã€‹.md\"}]},{\"text\":\"01.05 ç®—æ³•\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 å‰è¨€\",\"link\":\"\\\\01-Dev\\\\01.05-ç®—æ³•\\\\01-å‰è¨€.md\"},{\"text\":\"02 å¯¼è¯»\",\"link\":\"\\\\01-Dev\\\\01.05-ç®—æ³•\\\\02-å¯¼è¯».md\"},{\"text\":\"ä¸šåŠ¡ç®—æ³•\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"DFA\",\"link\":\"\\\\01-Dev\\\\01.05-ç®—æ³•\\\\ä¸šåŠ¡ç®—æ³•\\\\DFA.md\"},{\"text\":\"DFS\",\"link\":\"\\\\01-Dev\\\\01.05-ç®—æ³•\\\\ä¸šåŠ¡ç®—æ³•\\\\DFS.md\"},{\"text\":\"è£…ç®±ç®—æ³•\",\"link\":\"\\\\01-Dev\\\\01.05-ç®—æ³•\\\\ä¸šåŠ¡ç®—æ³•\\\\è£…ç®±ç®—æ³•.md\"}]},{\"text\":\"æ•°æ®ç»“æ„\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æ•°æ®ç»“æ„\",\"link\":\"\\\\01-Dev\\\\01.05-ç®—æ³•\\\\æ•°æ®ç»“æ„\\\\æ•°æ®ç»“æ„.md\"}]},{\"text\":\"ç®—æ³•è·¯çº¿\",\"link\":\"\\\\01-Dev\\\\01.05-ç®—æ³•\\\\ç®—æ³•è·¯çº¿.md\"}]},{\"text\":\"01.06 Linux\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Linuxè‡ªå®šä¹‰ç³»ç»ŸæœåŠ¡ æœåŠ¡è„šæœ¬ç¼–å†™ï¼ˆå¼€æœºè‡ªå¯ï¼‰\",\"link\":\"\\\\01-Dev\\\\01.06-Linux\\\\Linuxè‡ªå®šä¹‰ç³»ç»ŸæœåŠ¡-æœåŠ¡è„šæœ¬ç¼–å†™ï¼ˆå¼€æœºè‡ªå¯ï¼‰.md\"},{\"text\":\"å¸¸ç”¨å‘½ä»¤\",\"link\":\"\\\\01-Dev\\\\01.06-Linux\\\\å¸¸ç”¨å‘½ä»¤.md\"},{\"text\":\"ç¯å¢ƒå®‰è£…\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Linuxå®‰è£…jdk\",\"link\":\"\\\\01-Dev\\\\01.06-Linux\\\\ç¯å¢ƒå®‰è£…\\\\Linuxå®‰è£…jdk.md\"},{\"text\":\"UbuntuåŸºç¡€ç¯å¢ƒå®‰è£…\",\"link\":\"\\\\01-Dev\\\\01.06-Linux\\\\ç¯å¢ƒå®‰è£…\\\\UbuntuåŸºç¡€ç¯å¢ƒå®‰è£….md\"},{\"text\":\"åŸºç¡€ç¯å¢ƒé—®é¢˜\",\"link\":\"\\\\01-Dev\\\\01.06-Linux\\\\ç¯å¢ƒå®‰è£…\\\\åŸºç¡€ç¯å¢ƒé—®é¢˜.md\"}]},{\"text\":\"è™šæ‹Ÿæœº\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"VirtualBox\",\"link\":\"\\\\01-Dev\\\\01.06-Linux\\\\è™šæ‹Ÿæœº\\\\VirtualBox.md\"},{\"text\":\"Windowså®‰è£…linuxå­ç³»ç»Ÿ\",\"link\":\"\\\\01-Dev\\\\01.06-Linux\\\\è™šæ‹Ÿæœº\\\\windowså®‰è£…linuxå­ç³»ç»Ÿ.md\"}]}]},{\"text\":\"01.07 å¤§æ•°æ®\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"å°šç¡…è°·\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æ¶æ„å›¾\",\"link\":\"\\\\01-Dev\\\\01.07-å¤§æ•°æ®\\\\å°šç¡…è°·\\\\æ¶æ„å›¾.md\"}]},{\"text\":\"æ•°ä»“\",\"link\":\"\\\\01-Dev\\\\01.07-å¤§æ•°æ®\\\\æ•°ä»“.md\"},{\"text\":\"æ¡†æ¶\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æœªå‘½å\",\"link\":\"\\\\01-Dev\\\\01.07-å¤§æ•°æ®\\\\æ¡†æ¶\\\\æœªå‘½å.md\"}]}]},{\"text\":\"01.08 æ•°æ®åº“\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 ã€ŠMySQLæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 ã€Šè£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½ã€‹ åˆè¯†MySQL\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\00-ã€ŠMySQLæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹\\\\01-ã€Šè£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½ã€‹-åˆè¯†MySQL.md\"},{\"text\":\"02 ã€ŠMysqlçš„è°ƒæ§æŒ‰é’®ã€‹ å¯åŠ¨é€‰é¡¹ä¸ç¯å¢ƒå˜é‡\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\00-ã€ŠMySQLæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹\\\\02-ã€ŠMysqlçš„è°ƒæ§æŒ‰é’®ã€‹-å¯åŠ¨é€‰é¡¹ä¸ç¯å¢ƒå˜é‡.md\"},{\"text\":\"03 ã€Šä¹±ç çš„å‰ä¸–ä»Šç”Ÿã€‹ å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\00-ã€ŠMySQLæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹\\\\03-ã€Šä¹±ç çš„å‰ä¸–ä»Šç”Ÿã€‹-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™.md\"},{\"text\":\"04 ã€Šä»ä¸€æ¡è®°å½•è¯´èµ·ã€‹ InnoDBè®°å½•ç»“æ„\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\00-ã€ŠMySQLæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹\\\\04-ã€Šä»ä¸€æ¡è®°å½•è¯´èµ·ã€‹-InnoDBè®°å½•ç»“æ„.md\"},{\"text\":\"ã€Šä¸€æ¡æ•°æ®çš„å¤šå‰¯é¢å­” äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸MVCCã€‹\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\00-ã€ŠMySQLæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‹\\\\ã€Šä¸€æ¡æ•°æ®çš„å¤šå‰¯é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸MVCCã€‹.md\"}]},{\"text\":\"01 ã€ŠMysql BinLogç¥ç§˜é¢çº±ã€‹\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 MySQL BinLog\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\01-ã€ŠMysql-BinLogç¥ç§˜é¢çº±ã€‹\\\\01-MySQL-BinLog.md\"}]},{\"text\":\"02 Mysql\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"MySQLæ•´ä½“æ¶æ„è§£æ\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\02-Mysql\\\\MySQLæ•´ä½“æ¶æ„è§£æ.md\"},{\"text\":\"Mysqlç‰¹æ®Šå‘½ä»¤\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\02-Mysql\\\\Mysqlç‰¹æ®Šå‘½ä»¤.md\"},{\"text\":\"ç¢ç‰‡æ¸…ç†æ–¹æ¡ˆ\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\02-Mysql\\\\ç¢ç‰‡æ¸…ç†æ–¹æ¡ˆ.md\"},{\"text\":\"é—®é¢˜å¼•å¯¼å­¦ä¹ \",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\02-Mysql\\\\é—®é¢˜å¼•å¯¼å­¦ä¹ .md\"}]},{\"text\":\"03 Redis\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Redis\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\03-Redis\\\\Redis.md\"},{\"text\":\"æ·±å…¥ç†è§£Redis\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"1.Redis å…¥é—¨ è®¤è¯†Redis\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\03-Redis\\\\æ·±å…¥ç†è§£Redis\\\\1.Redis-å…¥é—¨-è®¤è¯†Redis.md\"},{\"text\":\"2.Redis æ•°æ®ç»“æ„\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\03-Redis\\\\æ·±å…¥ç†è§£Redis\\\\2.Redis-æ•°æ®ç»“æ„.md\"},{\"text\":\"3.Redis å‘½ä»¤\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\03-Redis\\\\æ·±å…¥ç†è§£Redis\\\\3.Redis-å‘½ä»¤.md\"},{\"text\":\"4.Redis ä¸»é¢˜\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\03-Redis\\\\æ·±å…¥ç†è§£Redis\\\\4.Redis-ä¸»é¢˜.md\"},{\"text\":\"5.Redis æŒä¹…åŒ–ä¸æ·˜æ±°æœºåˆ¶\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\03-Redis\\\\æ·±å…¥ç†è§£Redis\\\\5.Redis-æŒä¹…åŒ–ä¸æ·˜æ±°æœºåˆ¶.md\"},{\"text\":\"6.Redis é¢è¯•\",\"link\":\"\\\\01-Dev\\\\01.08-æ•°æ®åº“\\\\03-Redis\\\\æ·±å…¥ç†è§£Redis\\\\6.Redis-é¢è¯•.md\"}]}]}]},{\"text\":\"01.09 Docker\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 DockerCompose\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"å¸¸ç”¨ ç¯å¢ƒæœåŠ¡ DockerFile\",\"link\":\"\\\\01-Dev\\\\01.09-Docker\\\\01-DockerCompose\\\\å¸¸ç”¨-ç¯å¢ƒæœåŠ¡-DockerFile.md\"}]},{\"text\":\"Dockerè½¯ä»¶å®‰è£…\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 dockeræ–¹å¼å®‰è£…å•æœºç‰ˆesã€kibanaã€ikåˆ†è¯ã€å¯è§†åŒ–\",\"link\":\"\\\\01-Dev\\\\01.09-Docker\\\\dockerè½¯ä»¶å®‰è£…\\\\00-dockeræ–¹å¼å®‰è£…å•æœºç‰ˆesã€kibanaã€ikåˆ†è¯ã€å¯è§†åŒ–.md\"},{\"text\":\"00 Dockeré•œåƒæ–¹å¼æ­å»ºXXL\",\"link\":\"\\\\01-Dev\\\\01.09-Docker\\\\dockerè½¯ä»¶å®‰è£…\\\\00-Dockeré•œåƒæ–¹å¼æ­å»ºXXL.md\"},{\"text\":\"Linuxå®‰è£…docker\",\"link\":\"\\\\01-Dev\\\\01.09-Docker\\\\dockerè½¯ä»¶å®‰è£…\\\\Linuxå®‰è£…docker.md\"},{\"text\":\"MinIo\",\"link\":\"\\\\01-Dev\\\\01.09-Docker\\\\dockerè½¯ä»¶å®‰è£…\\\\MinIo.md\"},{\"text\":\"PowerJob\",\"link\":\"\\\\01-Dev\\\\01.09-Docker\\\\dockerè½¯ä»¶å®‰è£…\\\\PowerJob.md\"}]}]},{\"text\":\"01.10 DevOps\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"äº‘æ•ˆæµæ°´çº¿æ„å»º\",\"link\":\"\\\\01-Dev\\\\01.10-DevOps\\\\äº‘æ•ˆæµæ°´çº¿æ„å»º.md\"},{\"text\":\"å‰è¨€\",\"link\":\"\\\\01-Dev\\\\01.10-DevOps\\\\å‰è¨€.md\"}]},{\"text\":\"01.11 Mq\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"MQçš„åº”ç”¨åœºæ™¯ä¸å¸¸è§é—®é¢˜\",\"link\":\"\\\\01-Dev\\\\01.11-Mq\\\\MQçš„åº”ç”¨åœºæ™¯ä¸å¸¸è§é—®é¢˜.md\"},{\"text\":\"RocketMq\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"RocketMQæŒ‡åŒ—\",\"link\":\"\\\\01-Dev\\\\01.11-Mq\\\\RocketMq\\\\RocketMQæŒ‡åŒ—.md\"}]}]},{\"text\":\"01.13 Es\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 ESå…¥é—¨\",\"link\":\"\\\\01-Dev\\\\01.13-Es\\\\01-ESå…¥é—¨.md\"},{\"text\":\"03 Esæ•°æ®åŒæ­¥é—®é¢˜\",\"link\":\"\\\\01-Dev\\\\01.13-Es\\\\03-Esæ•°æ®åŒæ­¥é—®é¢˜.md\"}]},{\"text\":\"01.20 æœºç»„\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æœªå‘½å\",\"link\":\"\\\\01-Dev\\\\01.20-æœºç»„\\\\æœªå‘½å.md\"}]},{\"text\":\"01.21 ç½‘ç»œ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ç½‘ç»œæ¨¡å‹\",\"link\":\"\\\\01-Dev\\\\01.21-ç½‘ç»œ\\\\ç½‘ç»œæ¨¡å‹.md\"}]},{\"text\":\"01.60 ä¹¦ç±ç›¸å…³\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ç»å…¸ç¼–ç¨‹ä¹¦å•500MB\",\"link\":\"\\\\01-Dev\\\\01.60-ä¹¦ç±ç›¸å…³\\\\ç»å…¸ç¼–ç¨‹ä¹¦å•500MB.md\"}]},{\"text\":\"01.68 DDD\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"å……è¡€æ¨¡å‹ä¸è´«è¡€æ¨¡å‹\",\"link\":\"\\\\01-Dev\\\\01.68-DDD\\\\å……è¡€æ¨¡å‹ä¸è´«è¡€æ¨¡å‹.md\"}]},{\"text\":\"01.69 æŠ€æœ¯è§„èŒƒ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 æ¢ç´¢æ—¥å¿—è§„çº¦\",\"link\":\"\\\\01-Dev\\\\01.69-æŠ€æœ¯è§„èŒƒ\\\\01-æ¢ç´¢æ—¥å¿—è§„çº¦.md\"}]},{\"text\":\"01.70 ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Mybatis DOå¯¹è±¡åµŒå¥—çš„ç‰¹æ®Šå¤„ç† æ’ä»¶åŠŸèƒ½\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\Mybatis-DOå¯¹è±¡åµŒå¥—çš„ç‰¹æ®Šå¤„ç†-æ’ä»¶åŠŸèƒ½.md\"},{\"text\":\"Redisåˆ†å¸ƒå¼é”çš„åº”ç”¨ï¼ˆæ¥å£é™æµã€é˜²æŠ–ï¼‰\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\Redisåˆ†å¸ƒå¼é”çš„åº”ç”¨ï¼ˆæ¥å£é™æµã€é˜²æŠ–ï¼‰.md\"},{\"text\":\"SpringBoot\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Eventè§‚å¯Ÿè€…\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\SpringBoot\\\\Eventè§‚å¯Ÿè€….md\"},{\"text\":\"SpELè¡¨è¾¾å¼\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\SpringBoot\\\\SpELè¡¨è¾¾å¼.md\"},{\"text\":\"SpringBoot Start\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\SpringBoot\\\\SpringBoot-Start.md\"},{\"text\":\"SpringBootApplicationæ³¨è§£\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\SpringBoot\\\\SpringBootApplicationæ³¨è§£.md\"},{\"text\":\"è‡ªå®šä¹‰ start\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æœªå‘½å\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\SpringBoot\\\\è‡ªå®šä¹‰-start\\\\æœªå‘½å.md\"}]}]},{\"text\":\"åŠ å¯†\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Excel&Wordæ–‡ä»¶åŠ å¯†\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\åŠ å¯†\\\\Excel&Wordæ–‡ä»¶åŠ å¯†.md\"}]},{\"text\":\"å¹‚ç­‰å¤„ç†\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\å¹‚ç­‰å¤„ç†.md\"},{\"text\":\"æ—¥å¿—\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"TraceIdé—®é¢˜\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\æ—¥å¿—\\\\TraceIdé—®é¢˜.md\"},{\"text\":\"è‡ªå®šä¹‰æ‰“å°å‡ºå…¥å‚\",\"link\":\"\\\\01-Dev\\\\01.70-ä¸šåŠ¡è§£å†³æ–¹æ¡ˆ\\\\æ—¥å¿—\\\\è‡ªå®šä¹‰æ‰“å°å‡ºå…¥å‚.md\"}]}]},{\"text\":\"01.99 PlugIns\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Easy Inform\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"å¯¼å›¾\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\Easy-Inform\\\\å¯¼å›¾.md\"},{\"text\":\"æœªå‘½åæ€ç»´å¯¼å›¾\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\Easy-Inform\\\\æœªå‘½åæ€ç»´å¯¼å›¾.md\"}]},{\"text\":\"MybatisCodeHelperç¦»çº¿æ¿€æ´»åˆ†æ\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\MybatisCodeHelperç¦»çº¿æ¿€æ´»åˆ†æ.md\"},{\"text\":\"Ob\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\ob.md\"},{\"text\":\"Obsidianæ’ä»¶å¼€å‘\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Obsidianæ’ä»¶å¼€å‘\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\obsidianæ’ä»¶å¼€å‘\\\\obsidianæ’ä»¶å¼€å‘.md\"},{\"text\":\"å¿«é€Ÿå…¥é—¨\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\obsidianæ’ä»¶å¼€å‘\\\\å¿«é€Ÿå…¥é—¨.md\"}]},{\"text\":\"Site\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\site.md\"},{\"text\":\"å¼€å‘ç›¸å…³\",\"link\":\"\\\\01-Dev\\\\01.99-PlugIns\\\\å¼€å‘ç›¸å…³.md\"}]},{\"text\":\"Index\",\"link\":\"\\\\01-Dev\\\\index.md\"}]},{\"text\":\"02 Person\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 ä¸šåŠ¡å­¦ä¹ \",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 ç®€ä»‹\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\01-ç®€ä»‹.md\"},{\"text\":\"02 è·¨å¢ƒç”µå•†å‰ç½®çŸ¥è¯†\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\02-è·¨å¢ƒç”µå•†å‰ç½®çŸ¥è¯†.md\"},{\"text\":\"03 å¦‚ä½•å¿«é€Ÿæ¥æ‰‹ç†è§£é¡¹ç›®\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\03-å¦‚ä½•å¿«é€Ÿæ¥æ‰‹ç†è§£é¡¹ç›®.md\"},{\"text\":\"04 è·¨å¢ƒä¸šåŠ¡\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ä»“é…ç»„ç½‘ä¼˜å…ˆçº§\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\04-è·¨å¢ƒä¸šåŠ¡\\\\ä»“é…ç»„ç½‘ä¼˜å…ˆçº§.md\"},{\"text\":\"ä»“é…é€»è¾‘è¾“å‡º\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\04-è·¨å¢ƒä¸šåŠ¡\\\\ä»“é…é€»è¾‘è¾“å‡º.md\"},{\"text\":\"ä»“é…é’ˆå¯¹ä¸œå—äºšåœ°åŒºçš„ç‰¹æ®Šé€»è¾‘\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\04-è·¨å¢ƒä¸šåŠ¡\\\\ä»“é…é’ˆå¯¹ä¸œå—äºšåœ°åŒºçš„ç‰¹æ®Šé€»è¾‘.md\"},{\"text\":\"åŸºç¡€æ‰«ç›²\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\04-è·¨å¢ƒä¸šåŠ¡\\\\åŸºç¡€æ‰«ç›².md\"}]},{\"text\":\"05 æœå¹¿æ¨\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 æœç´¢\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 ç®€ä»‹\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\01-æœç´¢\\\\00-ç®€ä»‹.md\"},{\"text\":\"02.æœå¹¿æ¨æ ¸å¿ƒä¸šåŠ¡é“¾è·¯\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\01-æœç´¢\\\\02.æœå¹¿æ¨æ ¸å¿ƒä¸šåŠ¡é“¾è·¯.md\"},{\"text\":\"é˜¿é‡Œå·´å·´ æ™ºèƒ½å¼€æ”¾æœç´¢\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\01-æœç´¢\\\\é˜¿é‡Œå·´å·´-æ™ºèƒ½å¼€æ”¾æœç´¢.md\"}]},{\"text\":\"02 æ¨è\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 æ¦‚è¿°\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹\\\\01-æ¦‚è¿°.md\"},{\"text\":\"02 åè¯è§£é‡Š\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹\\\\02-åè¯è§£é‡Š.md\"},{\"text\":\"03 æ¶æ„è®¾è®¡\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹\\\\03-æ¶æ„è®¾è®¡.md\"},{\"text\":\"04 ç®—æ³•ç­–ç•¥\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹\\\\04-ç®—æ³•ç­–ç•¥.md\"},{\"text\":\"99 é—®é¢˜ç­”ç–‘\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\00-ã€Šæ¨èç³»ç»Ÿä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹\\\\99-é—®é¢˜ç­”ç–‘.md\"}]},{\"text\":\"01 äº¬ä¸œæ¨èç³»ç»Ÿ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æ¨èç³»ç»Ÿ å¹¿å‘Šæ’åº\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\01-äº¬ä¸œæ¨èç³»ç»Ÿ\\\\æ¨èç³»ç»Ÿ-å¹¿å‘Šæ’åº.md\"}]},{\"text\":\"10 ä¹°äº†åˆä¹°é¡µé€»è¾‘\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\10-ä¹°äº†åˆä¹°é¡µé€»è¾‘.md\"},{\"text\":\"å•†åŸä¸»é¡µæœç´¢ä¸šåŠ¡\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\å•†åŸä¸»é¡µæœç´¢ä¸šåŠ¡.md\"},{\"text\":\"å­¦ä¹ èµ„æº\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\å­¦ä¹ èµ„æº.md\"},{\"text\":\"æœæ¨ä¸šåŠ¡æ¢³ç†\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\02-æ¨è\\\\æœæ¨ä¸šåŠ¡æ¢³ç†.md\"}]},{\"text\":\"03 ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"00 å¹¿å‘Šå‰ç½®ä¸šåŠ¡çŸ¥è¯†\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€\\\\00-å¹¿å‘Šå‰ç½®ä¸šåŠ¡çŸ¥è¯†.md\"},{\"text\":\"00 ç®€ä»‹\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€\\\\00-ç®€ä»‹.md\"},{\"text\":\"01 ç½‘çº¢ç³»ç»Ÿ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"01 OBSç›¸å…³åŠŸèƒ½ç®€ä»‹\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€\\\\01-ç½‘çº¢ç³»ç»Ÿ\\\\01-OBSç›¸å…³åŠŸèƒ½ç®€ä»‹.md\"},{\"text\":\"æ ·å“ä¸šåŠ¡é€»è¾‘æ¢³ç†\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\05-æœå¹¿æ¨\\\\03-ç½‘çº¢è”ç›Ÿå¹¿å‘Šè¥é”€\\\\01-ç½‘çº¢ç³»ç»Ÿ\\\\æ ·å“ä¸šåŠ¡é€»è¾‘æ¢³ç†.md\"}]}]}]},{\"text\":\"06 Open\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Open Api åœ¨ç”µå•†ä¸­çš„ä½œç”¨\",\"link\":\"\\\\02-Person\\\\00-ä¸šåŠ¡å­¦ä¹ \\\\06-Open\\\\Open Api åœ¨ç”µå•†ä¸­çš„ä½œç”¨.md\"}]}]},{\"text\":\"01 é¡¹ç›®ç®¡ç†\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"åˆ˜æ¶¦å¯¹è¯æ¨Šç™»ï¼šåšå›¢é˜Ÿï¼Œæˆ‘ä»¬åªæ‹›æˆå¹´äºº\",\"link\":\"\\\\02-Person\\\\01-é¡¹ç›®ç®¡ç†\\\\åˆ˜æ¶¦å¯¹è¯æ¨Šç™»ï¼šåšå›¢é˜Ÿï¼Œæˆ‘ä»¬åªæ‹›æˆå¹´äºº.md\"}]},{\"text\":\"02 åšæ–‡æˆé•¿\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Guide\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ç¨‹åºäººç”Ÿ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"å¼€å‘åŒå­¦é¡»çŸ¥\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\Guide\\\\ç¨‹åºäººç”Ÿ\\\\å¼€å‘åŒå­¦é¡»çŸ¥.md\"}]}]},{\"text\":\"Index\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\index.md\"},{\"text\":\"ä¸ªäººæå‡\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æœªå‘½å\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\ä¸ªäººæå‡\\\\æœªå‘½å.md\"}]},{\"text\":\"äº•åº•ä¹‹è›™\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ä¸šåŠ¡æ¨¡å¼\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\äº•åº•ä¹‹è›™\\\\ä¸šåŠ¡æ¨¡å¼.md\"},{\"text\":\"æå‰åšçš„æ€æƒ³å‡†å¤‡\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\äº•åº•ä¹‹è›™\\\\æå‰åšçš„æ€æƒ³å‡†å¤‡.md\"}]},{\"text\":\"è¯»ä¹¦\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ä¹¦å•\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"æŒæ¡ä¹ æƒ¯\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\ä¹¦å•\\\\æŒæ¡ä¹ æƒ¯.md\"}]},{\"text\":\"è¯»ä¹¦æœ‰æ„Ÿ\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"ã€Šåˆ»æ„ç»ƒä¹ ã€‹ è¯»ä¸­æ„Ÿæ‚Ÿ\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\ã€Šåˆ»æ„ç»ƒä¹ ã€‹ è¯»ä¸­æ„Ÿæ‚Ÿ.md\"},{\"text\":\"å¤§è„‘æ˜¯å¦‚ä½•è®°ä½çŸ¥è¯†çš„\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\å¤§è„‘æ˜¯å¦‚ä½•è®°ä½çŸ¥è¯†çš„.md\"},{\"text\":\"æˆ‘è¦ä¸Šæ¸…åï¼šä¸€ä¸ªæ™®é€šå°‘å¹´çš„é€†è¢­ä¹‹è·¯\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\æˆ‘è¦ä¸Šæ¸…åï¼šä¸€ä¸ªæ™®é€šå°‘å¹´çš„é€†è¢­ä¹‹è·¯.md\"},{\"text\":\"æŠŠæ—¶é—´å½“åšæœ‹å‹\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\æŠŠæ—¶é—´å½“åšæœ‹å‹.md\"},{\"text\":\"æŒç»­çš„é«˜æ•ˆèƒ½åŠ›ï¼šçƒ§æ°´å­¦ä¹ æ³•\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\æŒç»­çš„é«˜æ•ˆèƒ½åŠ›ï¼šçƒ§æ°´å­¦ä¹ æ³•.md\"},{\"text\":\"ç¨‹åºå‘˜çš„é—²è¨€ç¢è¯­\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\ç¨‹åºå‘˜çš„é—²è¨€ç¢è¯­.md\"},{\"text\":\"è®¤çŸ¥è§‰é†’ï¼šå¼€å¯è‡ªæˆ‘æ”¹å˜çš„åŸåŠ¨åŠ›\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\è®¤çŸ¥è§‰é†’ï¼šå¼€å¯è‡ªæˆ‘æ”¹å˜çš„åŸåŠ¨åŠ›.md\"},{\"text\":\"è¿™æœ¬ä¹¦èƒ½è®©ä½ æˆ’çƒŸ\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\è¿™æœ¬ä¹¦èƒ½è®©ä½ æˆ’çƒŸ.md\"},{\"text\":\"éæš´åŠ›æ²Ÿé€š\",\"link\":\"\\\\02-Person\\\\02-åšæ–‡æˆé•¿\\\\è¯»ä¹¦\\\\è¯»ä¹¦æœ‰æ„Ÿ\\\\éæš´åŠ›æ²Ÿé€š.md\"}]}]}]},{\"text\":\"03 ç‹¬ç«‹å¼€å‘è€…\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Index\",\"link\":\"\\\\02-Person\\\\03-ç‹¬ç«‹å¼€å‘è€…\\\\index.md\"},{\"text\":\"æˆ‘æ˜¯è°\",\"link\":\"\\\\02-Person\\\\03-ç‹¬ç«‹å¼€å‘è€…\\\\æˆ‘æ˜¯è°.md\"},{\"text\":\"ç‹¬ç«‹å¼€å‘å¤šäººï¼ˆè¿œç¨‹ï¼‰åä½œç»éªŒåˆ†äº«\",\"link\":\"\\\\02-Person\\\\03-ç‹¬ç«‹å¼€å‘è€…\\\\ç‹¬ç«‹å¼€å‘å¤šäººï¼ˆè¿œç¨‹ï¼‰åä½œç»éªŒåˆ†äº«.md\"},{\"text\":\"ç‹¬ç«‹å¼€å‘è€…çš„æ€è€ƒ\",\"link\":\"\\\\02-Person\\\\03-ç‹¬ç«‹å¼€å‘è€…\\\\ç‹¬ç«‹å¼€å‘è€…çš„æ€è€ƒ.md\"},{\"text\":\"èµ„æºç«™ç‚¹\",\"link\":\"\\\\02-Person\\\\03-ç‹¬ç«‹å¼€å‘è€…\\\\èµ„æºç«™ç‚¹.md\"}]},{\"text\":\"04 SEO\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Index\",\"link\":\"\\\\02-Person\\\\04-SEO\\\\index.md\"}]},{\"text\":\"05 å¥‡æŠ€æ·«å·§\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Idea\",\"link\":\"\\\\02-Person\\\\05-å¥‡æŠ€æ·«å·§\\\\Idea.md\"},{\"text\":\"Javaä»£ç ä¼˜åŒ–å°æŠ€å·§\",\"link\":\"\\\\02-Person\\\\05-å¥‡æŠ€æ·«å·§\\\\Javaä»£ç ä¼˜åŒ–å°æŠ€å·§.md\"},{\"text\":\"æœºåœº\",\"link\":\"\\\\02-Person\\\\05-å¥‡æŠ€æ·«å·§\\\\æœºåœº.md\"},{\"text\":\"ç¬”è®°æ•´ç†\",\"link\":\"\\\\02-Person\\\\05-å¥‡æŠ€æ·«å·§\\\\ç¬”è®°æ•´ç†.md\"}]},{\"text\":\"06 åšå®¢æ­å»º\",\"collapsible\":false,\"collapsed\":true,\"items\":[{\"text\":\"Rsså¤„ç†\",\"link\":\"\\\\02-Person\\\\06-åšå®¢æ­å»º\\\\Rsså¤„ç†.md\"},{\"text\":\"VitePress\",\"link\":\"\\\\02-Person\\\\06-åšå®¢æ­å»º\\\\VitePress.md\"},{\"text\":\"åŸºäºGithubActionså®ç°Githubä¸Giteeçš„åŒæ­¥\",\"link\":\"\\\\02-Person\\\\06-åšå®¢æ­å»º\\\\åŸºäºGithubActionså®ç°Githubä¸Giteeçš„åŒæ­¥.md\"}]},{\"text\":\"Index\",\"link\":\"\\\\02-Person\\\\index.md\"}]}],\"footer\":{\"message\":\"waitingresult.com\",\"copyright\":\"Copyright Â© 2024 Luyuan\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/luyuan9870\"},{\"icon\":{\"svg\":\"<svg t=\\\"1710470546803\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"1442\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M512 512m-494.933333 0a494.933333 494.933333 0 1 0 989.866666 0 494.933333 494.933333 0 1 0-989.866666 0Z\\\" fill=\\\"#C71D23\\\" p-id=\\\"1443\\\"></path><path d=\\\"M762.538667 457.045333h-281.088a24.4736 24.4736 0 0 0-24.439467 24.405334v61.098666c-0.034133 13.5168 10.922667 24.439467 24.405333 24.439467h171.1104c13.5168 0 24.439467 10.922667 24.439467 24.439467v12.219733a73.3184 73.3184 0 0 1-73.3184 73.3184h-232.209067a24.439467 24.439467 0 0 1-24.439466-24.439467v-232.174933a73.3184 73.3184 0 0 1 73.3184-73.3184h342.152533c13.482667 0 24.405333-10.922667 24.439467-24.439467l0.034133-61.098666a24.405333 24.405333 0 0 0-24.405333-24.439467H420.352a183.296 183.296 0 0 0-183.296 183.296V762.538667c0 13.482667 10.922667 24.439467 24.405333 24.439466h360.516267a164.9664 164.9664 0 0 0 165.000533-165.000533v-140.526933a24.439467 24.439467 0 0 0-24.439466-24.439467z\\\" fill=\\\"#FFFFFF\\\" p-id=\\\"1444\\\"></path></svg>\"},\"link\":\"https://gitee.com/luyuan9870\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>